//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_ae "bufio";_eg "bytes";_bg "encoding/hex";_a "errors";_c "fmt";_bd "github.com/unidoc/unipdf/v3/common";_bee "github.com/unidoc/unipdf/v3/core";_cg "io";_ba "os";_b "regexp";_be "sort";_g "strconv";_e "strings";);func (_afgd *fdfParser )parseBool ()(_bee .PdfObjectBool ,error ){_gcdc ,_fge :=_afgd ._ad .Peek (4);
if _fge !=nil {return _bee .PdfObjectBool (false ),_fge ;};if (len (_gcdc )>=4)&&(string (_gcdc [:4])=="\u0074\u0072\u0075\u0065"){_afgd ._ad .Discard (4);return _bee .PdfObjectBool (true ),nil ;};_gcdc ,_fge =_afgd ._ad .Peek (5);if _fge !=nil {return _bee .PdfObjectBool (false ),_fge ;
};if (len (_gcdc )>=5)&&(string (_gcdc [:5])=="\u0066\u0061\u006cs\u0065"){_afgd ._ad .Discard (5);return _bee .PdfObjectBool (false ),nil ;};return _bee .PdfObjectBool (false ),_a .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");
};func _fbd (_ceeb string )(*fdfParser ,error ){_gecc :=fdfParser {};_ffe :=[]byte (_ceeb );_agd :=_eg .NewReader (_ffe );_gecc ._fg =_agd ;_gecc ._aga =map[int64 ]_bee .PdfObject {};_ffc :=_ae .NewReader (_agd );_gecc ._ad =_ffc ;_gecc ._eac =int64 (len (_ceeb ));
return &_gecc ,_gecc .parse ();};

// Load loads FDF form data from `r`.
func Load (r _cg .ReadSeeker )(*Data ,error ){_af ,_bf :=_eag (r );if _bf !=nil {return nil ,_bf ;};_ge ,_bf :=_af .Root ();if _bf !=nil {return nil ,_bf ;};_d ,_ea :=_bee .GetArray (_ge .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_ea {return nil ,_a .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_egb :_d ,_ee :_ge },nil ;};var _ggb =_b .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");func (_bb *fdfParser )readAtLeast (_ccg []byte ,_ffg int )(int ,error ){_afc :=_ffg ;
_bdg :=0;_fa :=0;for _afc > 0{_ef ,_ffa :=_bb ._ad .Read (_ccg [_bdg :]);if _ffa !=nil {_bd .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_ef ,_fa ,_ffa .Error ());
return _bdg ,_a .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_fa ++;_bdg +=_ef ;_afc -=_ef ;};return _bdg ,nil ;};func (_dbg *fdfParser )parseArray ()(*_bee .PdfObjectArray ,error ){_bbgc :=_bee .MakeArray ();
_dbg ._ad .ReadByte ();for {_dbg .skipSpaces ();_gbg ,_fdd :=_dbg ._ad .Peek (1);if _fdd !=nil {return _bbgc ,_fdd ;};if _gbg [0]==']'{_dbg ._ad .ReadByte ();break ;};_gaca ,_fdd :=_dbg .parseObject ();if _fdd !=nil {return _bbgc ,_fdd ;};_bbgc .Append (_gaca );
};return _bbgc ,nil ;};func (_bc *fdfParser )parseHexString ()(*_bee .PdfObjectString ,error ){_bc ._ad .ReadByte ();var _cag _eg .Buffer ;for {_fbc ,_egd :=_bc ._ad .Peek (1);if _egd !=nil {return _bee .MakeHexString (""),_egd ;};if _fbc [0]=='>'{_bc ._ad .ReadByte ();
break ;};_gba ,_ :=_bc ._ad .ReadByte ();if !_bee .IsWhiteSpace (_gba ){_cag .WriteByte (_gba );};};if _cag .Len ()%2==1{_cag .WriteRune ('0');};_gcd ,_ffaf :=_bg .DecodeString (_cag .String ());if _ffaf !=nil {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_cag .String ());
return _bee .MakeHexString (""),nil ;};return _bee .MakeHexString (string (_gcd )),nil ;};func (_cfc *fdfParser )seekToEOFMarker (_bac int64 )error {_gbb :=int64 (0);_gec :=int64 (1000);for _gbb < _bac {if _bac <=(_gec +_gbb ){_gec =_bac -_gbb ;};_ ,_dgg :=_cfc ._fg .Seek (-_gbb -_gec ,_cg .SeekEnd );
if _dgg !=nil {return _dgg ;};_eacd :=make ([]byte ,_gec );_cfc ._fg .Read (_eacd );_bd .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_eacd ));
_dcf :=_gb .FindAllStringIndex (string (_eacd ),-1);if _dcf !=nil {_cfeac :=_dcf [len (_dcf )-1];_bd .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_dcf );_cfc ._fg .Seek (-_gbb -_gec +int64 (_cfeac [0]),_cg .SeekEnd );return nil ;};_bd .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_gbb +=_gec ;};_bd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _a .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};

// Data represents forms data format (FDF) file data.
type Data struct{_ee *_bee .PdfObjectDictionary ;_egb *_bee .PdfObjectArray ;};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_bee .PdfObjectDictionary ,error ){_aeb :=map[string ]*_bee .PdfObjectDictionary {};for _ga :=0;_ga < fdf ._egb .Len ();_ga ++{_cf ,_fd :=_bee .GetDict (fdf ._egb .Get (_ga ));if _fd {_ec ,_ :=_bee .GetString (_cf .Get ("\u0054"));
if _ec !=nil {_aeb [_ec .Str ()]=_cf ;};};};return _aeb ,nil ;};

// Root returns the Root of the FDF document.
func (_aab *fdfParser )Root ()(*_bee .PdfObjectDictionary ,error ){if _aab ._beed !=nil {if _bbd ,_beec :=_aab .trace (_aab ._beed .Get ("\u0052\u006f\u006f\u0074")).(*_bee .PdfObjectDictionary );_beec {if _gfc ,_dfa :=_aab .trace (_bbd .Get ("\u0046\u0044\u0046")).(*_bee .PdfObjectDictionary );
_dfa {return _gfc ,nil ;};};};var _cefg []int64 ;for _cdb :=range _aab ._aga {_cefg =append (_cefg ,_cdb );};_be .Slice (_cefg ,func (_ffca ,_deba int )bool {return _cefg [_ffca ]< _cefg [_deba ]});for _ ,_fbbf :=range _cefg {_aeee :=_aab ._aga [_fbbf ];
if _dgf ,_acf :=_aab .trace (_aeee ).(*_bee .PdfObjectDictionary );_acf {if _dee ,_eacdb :=_aab .trace (_dgf .Get ("\u0046\u0044\u0046")).(*_bee .PdfObjectDictionary );_eacdb {return _dee ,nil ;};};};return nil ,_a .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};func (_cge *fdfParser )parseName ()(_bee .PdfObjectName ,error ){var _dc _eg .Buffer ;_gcfb :=false ;for {_fe ,_gdc :=_cge ._ad .Peek (1);if _gdc ==_cg .EOF {break ;};if _gdc !=nil {return _bee .PdfObjectName (_dc .String ()),_gdc ;};if !_gcfb {if _fe [0]=='/'{_gcfb =true ;
_cge ._ad .ReadByte ();}else if _fe [0]=='%'{_cge .readComment ();_cge .skipSpaces ();}else {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_fe ,_fe );
return _bee .PdfObjectName (_dc .String ()),_c .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_fe [0]);};}else {if _bee .IsWhiteSpace (_fe [0]){break ;}else if (_fe [0]=='/')||(_fe [0]=='[')||(_fe [0]=='(')||(_fe [0]==']')||(_fe [0]=='<')||(_fe [0]=='>'){break ;
}else if _fe [0]=='#'{_edc ,_bgaf :=_cge ._ad .Peek (3);if _bgaf !=nil {return _bee .PdfObjectName (_dc .String ()),_bgaf ;};_cge ._ad .Discard (3);_gbc ,_bgaf :=_bg .DecodeString (string (_edc [1:3]));if _bgaf !=nil {return _bee .PdfObjectName (_dc .String ()),_bgaf ;
};_dc .Write (_gbc );}else {_fba ,_ :=_cge ._ad .ReadByte ();_dc .WriteByte (_fba );};};};return _bee .PdfObjectName (_dc .String ()),nil ;};func (_acd *fdfParser )skipSpaces ()(int ,error ){_gac :=0;for {_gbe ,_ecb :=_acd ._ad .ReadByte ();if _ecb !=nil {return 0,_ecb ;
};if _bee .IsWhiteSpace (_gbe ){_gac ++;}else {_acd ._ad .UnreadByte ();break ;};};return _gac ,nil ;};func (_adbf *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_adbf ._fg .Seek (0,_cg .SeekStart );_adbf ._ad =_ae .NewReader (_adbf ._fg );_cea :=20;
_aeaf :=make ([]byte ,_cea );for {_cae ,_bbc :=_adbf ._ad .ReadByte ();if _bbc !=nil {if _bbc ==_cg .EOF {break ;}else {return 0,0,_bbc ;};};if _bee .IsDecimalDigit (_cae )&&_aeaf [_cea -1]=='.'&&_bee .IsDecimalDigit (_aeaf [_cea -2])&&_aeaf [_cea -3]=='-'&&_aeaf [_cea -4]=='F'&&_aeaf [_cea -5]=='D'&&_aeaf [_cea -6]=='P'{_dba :=int (_aeaf [_cea -2]-'0');
_gfb :=int (_cae -'0');return _dba ,_gfb ,nil ;};_aeaf =append (_aeaf [1:_cea ],_cae );};return 0,0,_a .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};func (_bbg *fdfParser )parseString ()(*_bee .PdfObjectString ,error ){_bbg ._ad .ReadByte ();
var _df _eg .Buffer ;_eca :=1;for {_feg ,_gacf :=_bbg ._ad .Peek (1);if _gacf !=nil {return _bee .MakeString (_df .String ()),_gacf ;};if _feg [0]=='\\'{_bbg ._ad .ReadByte ();_dg ,_dfd :=_bbg ._ad .ReadByte ();if _dfd !=nil {return _bee .MakeString (_df .String ()),_dfd ;
};if _bee .IsOctalDigit (_dg ){_cdc ,_ca :=_bbg ._ad .Peek (2);if _ca !=nil {return _bee .MakeString (_df .String ()),_ca ;};var _ab []byte ;_ab =append (_ab ,_dg );for _ ,_fea :=range _cdc {if _bee .IsOctalDigit (_fea ){_ab =append (_ab ,_fea );}else {break ;
};};_bbg ._ad .Discard (len (_ab )-1);_bd .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_ab );_cgc ,_ca :=_g .ParseUint (string (_ab ),8,32);if _ca !=nil {return _bee .MakeString (_df .String ()),_ca ;
};_df .WriteByte (byte (_cgc ));continue ;};switch _dg {case 'n':_df .WriteRune ('\n');case 'r':_df .WriteRune ('\r');case 't':_df .WriteRune ('\t');case 'b':_df .WriteRune ('\b');case 'f':_df .WriteRune ('\f');case '(':_df .WriteRune ('(');case ')':_df .WriteRune (')');
case '\\':_df .WriteRune ('\\');};continue ;}else if _feg [0]=='('{_eca ++;}else if _feg [0]==')'{_eca --;if _eca ==0{_bbg ._ad .ReadByte ();break ;};};_age ,_ :=_bbg ._ad .ReadByte ();_df .WriteByte (_age );};return _bee .MakeString (_df .String ()),nil ;
};type fdfParser struct{_cd int ;_aaf int ;_aga map[int64 ]_bee .PdfObject ;_fg _cg .ReadSeeker ;_ad *_ae .Reader ;_eac int64 ;_beed *_bee .PdfObjectDictionary ;};func (_cb *fdfParser )readTextLine ()(string ,error ){var _cfd _eg .Buffer ;for {_efd ,_aed :=_cb ._ad .Peek (1);
if _aed !=nil {_bd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_aed .Error ());return _cfd .String (),_aed ;};if (_efd [0]!='\r')&&(_efd [0]!='\n'){_eeb ,_ :=_cb ._ad .ReadByte ();_cfd .WriteByte (_eeb );}else {break ;};};return _cfd .String (),nil ;
};func (_ccgc *fdfParser )parse ()error {_ccgc ._fg .Seek (0,_cg .SeekStart );_ccgc ._ad =_ae .NewReader (_ccgc ._fg );for {_ccgc .skipComments ();_gebb ,_cbc :=_ccgc ._ad .Peek (20);if _cbc !=nil {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _cbc ;};if _e .HasPrefix (string (_gebb ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_ccgc ._ad .Discard (7);_ccgc .skipSpaces ();_ccgc .skipComments ();_fee ,_ :=_ccgc .parseDict ();_ccgc ._beed =_fee ;break ;};_bdgg :=_ggb .FindStringSubmatchIndex (string (_gebb ));
if len (_bdgg )< 6{_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_gebb ));
return _a .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_dgge ,_cbc :=_ccgc .parseIndirectObject ();if _cbc !=nil {return _cbc ;};switch _geaba :=_dgge .(type ){case *_bee .PdfIndirectObject :_ccgc ._aga [_geaba .ObjectNumber ]=_geaba ;case *_bee .PdfObjectStream :_ccgc ._aga [_geaba .ObjectNumber ]=_geaba ;
default:return _a .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");};};return nil ;};func (_dcg *fdfParser )parseIndirectObject ()(_bee .PdfObject ,error ){_cggg :=_bee .PdfIndirectObject {};_bd .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");
_fca ,_gef :=_dcg ._ad .Peek (20);if _gef !=nil {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return &_cggg ,_gef ;};_bd .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_fca ));_agca :=_ggb .FindStringSubmatchIndex (string (_fca ));if len (_agca )< 6{_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_fca ));
return &_cggg ,_a .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_dcg ._ad .Discard (_agca [0]);_bd .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_agca );_gge :=_agca [1]-_agca [0];_aeae :=make ([]byte ,_gge );_ ,_gef =_dcg .readAtLeast (_aeae ,_gge );if _gef !=nil {_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_gef );
return nil ,_gef ;};_bd .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_aeae );_baa :=_ggb .FindStringSubmatch (string (_aeae ));if len (_baa )< 3{_bd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_aeae ));
return &_cggg ,_a .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_eecb ,_ :=_g .Atoi (_baa [1]);_ega ,_ :=_g .Atoi (_baa [2]);_cggg .ObjectNumber =int64 (_eecb );_cggg .GenerationNumber =int64 (_ega );for {_acc ,_geae :=_dcg ._ad .Peek (2);if _geae !=nil {return &_cggg ,_geae ;};_bd .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_acc ),string (_acc ));
if _bee .IsWhiteSpace (_acc [0]){_dcg .skipSpaces ();}else if _acc [0]=='%'{_dcg .skipComments ();}else if (_acc [0]=='<')&&(_acc [1]=='<'){_bd .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_cggg .PdfObject ,_geae =_dcg .parseDict ();
_bd .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_geae );if _geae !=nil {return &_cggg ,_geae ;};_bd .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_acc [0]=='/')||(_acc [0]=='(')||(_acc [0]=='[')||(_acc [0]=='<'){_cggg .PdfObject ,_geae =_dcg .parseObject ();if _geae !=nil {return &_cggg ,_geae ;};_bd .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _acc [0]=='e'{_cce ,_adg :=_dcg .readTextLine ();if _adg !=nil {return nil ,_adg ;};if len (_cce )>=6&&_cce [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _acc [0]=='s'{_acc ,_ =_dcg ._ad .Peek (10);if string (_acc [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_ccd :=6;
if len (_acc )> 6{if _bee .IsWhiteSpace (_acc [_ccd ])&&_acc [_ccd ]!='\r'&&_acc [_ccd ]!='\n'{_bd .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_ccd ++;};if _acc [_ccd ]=='\r'{_ccd ++;if _acc [_ccd ]=='\n'{_ccd ++;};}else if _acc [_ccd ]=='\n'{_ccd ++;};};_dcg ._ad .Discard (_ccd );_eef ,_gcea :=_cggg .PdfObject .(*_bee .PdfObjectDictionary );if !_gcea {return nil ,_a .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_bd .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_eef );_fged ,_gca :=_eef .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_bee .PdfObjectInteger );if !_gca {return nil ,_a .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_bacb :=*_fged ;if _bacb < 0{return nil ,_a .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_bacb )> _dcg ._eac {_bd .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_a .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_dfdg :=make ([]byte ,_bacb );
_ ,_geae =_dcg .readAtLeast (_dfdg ,int (_bacb ));if _geae !=nil {_bd .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_dfdg ),_dfdg );_bd .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_geae );
return nil ,_geae ;};_efe :=_bee .PdfObjectStream {};_efe .Stream =_dfdg ;_efe .PdfObjectDictionary =_cggg .PdfObject .(*_bee .PdfObjectDictionary );_efe .ObjectNumber =_cggg .ObjectNumber ;_efe .GenerationNumber =_cggg .GenerationNumber ;_dcg .skipSpaces ();
_dcg ._ad .Discard (9);_dcg .skipSpaces ();return &_efe ,nil ;};};_cggg .PdfObject ,_geae =_dcg .parseObject ();return &_cggg ,_geae ;};};_bd .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_cggg ,nil ;};func _eag (_eebc _cg .ReadSeeker )(*fdfParser ,error ){_edg :=&fdfParser {};_edg ._fg =_eebc ;_edg ._aga =map[int64 ]_bee .PdfObject {};_fbgb ,_ebf ,_gabb :=_edg .parseFdfVersion ();if _gabb !=nil {_bd .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_gabb );
return nil ,_gabb ;};_edg ._cd =_fbgb ;_edg ._aaf =_ebf ;_gabb =_edg .parse ();return _edg ,_gabb ;};

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_bee .PdfObject ,error ){_aea ,_ce :=fdf .FieldDictionaries ();if _ce !=nil {return nil ,_ce ;};var _ed []string ;for _aeg :=range _aea {_ed =append (_ed ,_aeg );};_be .Strings (_ed );_aee :=map[string ]_bee .PdfObject {};
for _ ,_eec :=range _ed {_cee :=_aea [_eec ];_cgg :=_bee .TraceToDirectObject (_cee .Get ("\u0056"));_aee [_eec ]=_cgg ;};return _aee ,nil ;};var _gb =_b .MustCompile ("\u0025\u0025\u0045O\u0046");func (_fab *fdfParser )setFileOffset (_ag int64 ){_fab ._fg .Seek (_ag ,_cg .SeekStart );
_fab ._ad =_ae .NewReader (_fab ._fg );};func (_fgf *fdfParser )parseNull ()(_bee .PdfObjectNull ,error ){_ ,_eee :=_fgf ._ad .Discard (4);return _bee .PdfObjectNull {},_eee ;};func (_afcd *fdfParser )parseObject ()(_bee .PdfObject ,error ){_bd .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");
_afcd .skipSpaces ();for {_dcd ,_fce :=_afcd ._ad .Peek (2);if _fce !=nil {return nil ,_fce ;};_bd .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_dcd ));if _dcd [0]=='/'{_gdg ,_ecg :=_afcd .parseName ();
_bd .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_gdg );return &_gdg ,_ecg ;}else if _dcd [0]=='('{_bd .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _afcd .parseString ();}else if _dcd [0]=='['{_bd .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");
return _afcd .parseArray ();}else if (_dcd [0]=='<')&&(_dcd [1]=='<'){_bd .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _afcd .parseDict ();}else if _dcd [0]=='<'{_bd .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");
return _afcd .parseHexString ();}else if _dcd [0]=='%'{_afcd .readComment ();_afcd .skipSpaces ();}else {_bd .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_dcd ,_ =_afcd ._ad .Peek (15);_ecbc :=string (_dcd );
_bd .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_ecbc );if (len (_ecbc )> 3)&&(_ecbc [:4]=="\u006e\u0075\u006c\u006c"){_bec ,_fgc :=_afcd .parseNull ();return &_bec ,_fgc ;}else if (len (_ecbc )> 4)&&(_ecbc [:5]=="\u0066\u0061\u006cs\u0065"){_fbg ,_bbf :=_afcd .parseBool ();
return &_fbg ,_bbf ;}else if (len (_ecbc )> 3)&&(_ecbc [:4]=="\u0074\u0072\u0075\u0065"){_gbac ,_fdc :=_afcd .parseBool ();return &_gbac ,_fdc ;};_abb :=_gf .FindStringSubmatch (_ecbc );if len (_abb )> 1{_dcd ,_ =_afcd ._ad .ReadBytes ('R');_bd .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_dcd [:]));
_cca ,_ceef :=_cfef (string (_dcd ));return &_cca ,_ceef ;};_geb :=_gcf .FindStringSubmatch (_ecbc );if len (_geb )> 1{_bd .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _afcd .parseNumber ();};_geb =_de .FindStringSubmatch (_ecbc );
if len (_geb )> 1{_bd .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_bd .Log .Trace ("\u0025\u0020\u0073",_geb );return _afcd .parseNumber ();};_bd .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_ecbc );
return nil ,_a .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};func (_adc *fdfParser )trace (_bag _bee .PdfObject )_bee .PdfObject {switch _fbaf :=_bag .(type ){case *_bee .PdfObjectReference :_cgd ,_fbf :=_adc ._aga [_fbaf .ObjectNumber ].(*_bee .PdfIndirectObject );if _fbf {return _cgd .PdfObject ;};_bd .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
return nil ;case *_bee .PdfIndirectObject :return _fbaf .PdfObject ;};return _bag ;};var _gf =_b .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");func (_fef *fdfParser )parseDict ()(*_bee .PdfObjectDictionary ,error ){_bd .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");
_bbag :=_bee .MakeDict ();_cef ,_ :=_fef ._ad .ReadByte ();if _cef !='<'{return nil ,_a .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_cef ,_ =_fef ._ad .ReadByte ();if _cef !='<'{return nil ,_a .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};for {_fef .skipSpaces ();_fef .skipComments ();_cfea ,_gab :=_fef ._ad .Peek (2);if _gab !=nil {return nil ,_gab ;};_bd .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_cfea ),string (_cfea ));
if (_cfea [0]=='>')&&(_cfea [1]=='>'){_bd .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_fef ._ad .ReadByte ();_fef ._ad .ReadByte ();break ;};_bd .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");
_fbae ,_gab :=_fef .parseName ();_bd .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_fbae );if _gab !=nil {_bd .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_gab );
return nil ,_gab ;};if len (_fbae )> 4&&_fbae [len (_fbae )-4:]=="\u006e\u0075\u006c\u006c"{_faeg :=_fbae [0:len (_fbae )-4];_bd .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_fbae );
_bd .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_faeg );_fef .skipSpaces ();_dbd ,_ :=_fef ._ad .Peek (1);if _dbd [0]=='/'{_bbag .Set (_faeg ,_bee .MakeNull ());continue ;};};_fef .skipSpaces ();
_fbb ,_gab :=_fef .parseObject ();if _gab !=nil {return nil ,_gab ;};_bbag .Set (_fbae ,_fbb );_bd .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_fbae ,_fbb .String ());};_bd .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");
return _bbag ,nil ;};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_aa ,_bfb :=_ba .Open (fdfPath );if _bfb !=nil {return nil ,_bfb ;};defer _aa .Close ();return Load (_aa );};var _gcf =_b .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");
func (_gd *fdfParser )getFileOffset ()int64 {_ac ,_ :=_gd ._fg .Seek (0,_cg .SeekCurrent );_ac -=int64 (_gd ._ad .Buffered ());return _ac ;};var _gc =_b .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");var _de =_b .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");
func _cfef (_agc string )(_bee .PdfObjectReference ,error ){_ebb :=_bee .PdfObjectReference {};_acdc :=_gf .FindStringSubmatch (_agc );if len (_acdc )< 3{_bd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");
return _ebb ,_a .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");};_caf ,_da :=_g .Atoi (_acdc [1]);if _da !=nil {_bd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_acdc [1]);
return _ebb ,nil ;};_ebb .ObjectNumber =int64 (_caf );_gag ,_da :=_g .Atoi (_acdc [2]);if _da !=nil {_bd .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_acdc [2]);
return _ebb ,nil ;};_ebb .GenerationNumber =int64 (_gag );return _ebb ,nil ;};func (_gcda *fdfParser )parseFdfVersion ()(int ,int ,error ){_gcda ._fg .Seek (0,_cg .SeekStart );_bfe :=20;_fcf :=make ([]byte ,_bfe );_gcda ._fg .Read (_fcf );_ceec :=_gc .FindStringSubmatch (string (_fcf ));
if len (_ceec )< 3{_bcf ,_abf ,_gfd :=_gcda .seekFdfVersionTopDown ();if _gfd !=nil {_bd .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");
return 0,0,_gfd ;};return _bcf ,_abf ,nil ;};_cgcc ,_bdf :=_g .Atoi (_ceec [1]);if _bdf !=nil {return 0,0,_bdf ;};_aba ,_bdf :=_g .Atoi (_ceec [2]);if _bdf !=nil {return 0,0,_bdf ;};_bd .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_cgcc ,_aba );
return _cgcc ,_aba ,nil ;};func (_ffd *fdfParser )skipComments ()error {if _ ,_gea :=_ffd .skipSpaces ();_gea !=nil {return _gea ;};_db :=true ;for {_fb ,_bga :=_ffd ._ad .Peek (1);if _bga !=nil {_bd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_bga .Error ());
return _bga ;};if _db &&_fb [0]!='%'{return nil ;};_db =false ;if (_fb [0]!='\r')&&(_fb [0]!='\n'){_ffd ._ad .ReadByte ();}else {break ;};};return _ffd .skipComments ();};func (_deb *fdfParser )readComment ()(string ,error ){var _cfe _eg .Buffer ;_ ,_dbe :=_deb .skipSpaces ();
if _dbe !=nil {return _cfe .String (),_dbe ;};_fac :=true ;for {_bae ,_egbd :=_deb ._ad .Peek (1);if _egbd !=nil {_bd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_egbd .Error ());return _cfe .String (),_egbd ;};if _fac &&_bae [0]!='%'{return _cfe .String (),_a .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");
};_fac =false ;if (_bae [0]!='\r')&&(_bae [0]!='\n'){_dd ,_ :=_deb ._ad .ReadByte ();_cfe .WriteByte (_dd );}else {break ;};};return _cfe .String (),nil ;};func (_eed *fdfParser )parseNumber ()(_bee .PdfObject ,error ){return _bee .ParseNumber (_eed ._ad )};
