//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_ga "bufio";_dcc "bytes";_dgb "encoding/hex";_df "errors";_a "fmt";_dfd "github.com/unidoc/unipdf/v3/common";_gd "github.com/unidoc/unipdf/v3/core";_eg "io";_dd "os";_dc "regexp";_e "sort";_g "strconv";_dg "strings";);func (_abe *fdfParser )setFileOffset (_aff int64 ){_abe ._ade .Seek (_aff ,_eg .SeekStart );
_abe ._dccc =_ga .NewReader (_abe ._ade );};func _dbcb (_gfa string )(_gd .PdfObjectReference ,error ){_eae :=_gd .PdfObjectReference {};_cfd :=_bg .FindStringSubmatch (_gfa );if len (_cfd )< 3{_dfd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");
return _eae ,_df .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");};_bfb ,_eea :=_g .Atoi (_cfd [1]);if _eea !=nil {_dfd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_cfd [1]);
return _eae ,nil ;};_eae .ObjectNumber =int64 (_bfb );_eag ,_eea :=_g .Atoi (_cfd [2]);if _eea !=nil {_dfd .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_cfd [2]);
return _eae ,nil ;};_eae .GenerationNumber =int64 (_eag );return _eae ,nil ;};func (_ddb *fdfParser )skipComments ()error {if _ ,_eff :=_ddb .skipSpaces ();_eff !=nil {return _eff ;};_fbe :=true ;for {_bc ,_adb :=_ddb ._dccc .Peek (1);if _adb !=nil {_dfd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_adb .Error ());
return _adb ;};if _fbe &&_bc [0]!='%'{return nil ;};_fbe =false ;if (_bc [0]!='\r')&&(_bc [0]!='\n'){_ddb ._dccc .ReadByte ();}else {break ;};};return _ddb .skipComments ();};var _fdb =_dc .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");


// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_gd .PdfObject ,error ){_dbd ,_cg :=fdf .FieldDictionaries ();if _cg !=nil {return nil ,_cg ;};var _gg []string ;for _fb :=range _dbd {_gg =append (_gg ,_fb );};_e .Strings (_gg );_dge :=map[string ]_gd .PdfObject {};
for _ ,_gc :=range _gg {_fd :=_dbd [_gc ];_eb :=_gd .TraceToDirectObject (_fd .Get ("\u0056"));_dge [_gc ]=_eb ;};return _dge ,nil ;};var _de =_dc .MustCompile ("\u0025\u0025\u0045O\u0046");func (_adcd *fdfParser )parseHexString ()(*_gd .PdfObjectString ,error ){_adcd ._dccc .ReadByte ();
var _fg _dcc .Buffer ;for {_cge ,_fge :=_adcd ._dccc .Peek (1);if _fge !=nil {return _gd .MakeHexString (""),_fge ;};if _cge [0]=='>'{_adcd ._dccc .ReadByte ();break ;};_cec ,_ :=_adcd ._dccc .ReadByte ();if !_gd .IsWhiteSpace (_cec ){_fg .WriteByte (_cec );
};};if _fg .Len ()%2==1{_fg .WriteRune ('0');};_bgd ,_aba :=_dgb .DecodeString (_fg .String ());if _aba !=nil {_dfd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_fg .String ());
return _gd .MakeHexString (""),nil ;};return _gd .MakeHexString (string (_bgd )),nil ;};var _bg =_dc .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");func (_daa *fdfParser )seekToEOFMarker (_dfc int64 )error {_gga :=int64 (0);
_bdg :=int64 (1000);for _gga < _dfc {if _dfc <=(_bdg +_gga ){_bdg =_dfc -_gga ;};_ ,_fbg :=_daa ._ade .Seek (-_gga -_bdg ,_eg .SeekEnd );if _fbg !=nil {return _fbg ;};_dfa :=make ([]byte ,_bdg );_daa ._ade .Read (_dfa );_dfd .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_dfa ));
_fgec :=_de .FindAllStringIndex (string (_dfa ),-1);if _fgec !=nil {_efcd :=_fgec [len (_fgec )-1];_dfd .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_fgec );_daa ._ade .Seek (-_gga -_bdg +int64 (_efcd [0]),_eg .SeekEnd );return nil ;
};_dfd .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_gga +=_bdg ;};_dfd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _df .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};func (_eec *fdfParser )parseNull ()(_gd .PdfObjectNull ,error ){_ ,_gcd :=_eec ._dccc .Discard (4);return _gd .PdfObjectNull {},_gcd ;};func (_cdg *fdfParser )getFileOffset ()int64 {_ce ,_ :=_cdg ._ade .Seek (0,_eg .SeekCurrent );_ce -=int64 (_cdg ._dccc .Buffered ());
return _ce ;};func _gddd (_ecbe string )(*fdfParser ,error ){_cfdd :=fdfParser {};_bff :=[]byte (_ecbe );_caf :=_dcc .NewReader (_bff );_cfdd ._ade =_caf ;_cfdd ._adc =map[int64 ]_gd .PdfObject {};_bab :=_ga .NewReader (_caf );_cfdd ._dccc =_bab ;_cfdd ._dgedb =int64 (len (_ecbe ));
return &_cfdd ,_cfdd .parse ();};func (_agf *fdfParser )parseBool ()(_gd .PdfObjectBool ,error ){_gce ,_dbe :=_agf ._dccc .Peek (4);if _dbe !=nil {return _gd .PdfObjectBool (false ),_dbe ;};if (len (_gce )>=4)&&(string (_gce [:4])=="\u0074\u0072\u0075\u0065"){_agf ._dccc .Discard (4);
return _gd .PdfObjectBool (true ),nil ;};_gce ,_dbe =_agf ._dccc .Peek (5);if _dbe !=nil {return _gd .PdfObjectBool (false ),_dbe ;};if (len (_gce )>=5)&&(string (_gce [:5])=="\u0066\u0061\u006cs\u0065"){_agf ._dccc .Discard (5);return _gd .PdfObjectBool (false ),nil ;
};return _gd .PdfObjectBool (false ),_df .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");};type fdfParser struct{_ffg int ;_ad int ;_adc map[int64 ]_gd .PdfObject ;_ade _eg .ReadSeeker ;
_dccc *_ga .Reader ;_dgedb int64 ;_cbf *_gd .PdfObjectDictionary ;};func (_dea *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_dea ._ade .Seek (0,_eg .SeekStart );_dea ._dccc =_ga .NewReader (_dea ._ade );_bfe :=20;_gge :=make ([]byte ,_bfe );for {_fed ,_fcf :=_dea ._dccc .ReadByte ();
if _fcf !=nil {if _fcf ==_eg .EOF {break ;}else {return 0,0,_fcf ;};};if _gd .IsDecimalDigit (_fed )&&_gge [_bfe -1]=='.'&&_gd .IsDecimalDigit (_gge [_bfe -2])&&_gge [_bfe -3]=='-'&&_gge [_bfe -4]=='F'&&_gge [_bfe -5]=='D'&&_gge [_bfe -6]=='P'{_fea :=int (_gge [_bfe -2]-'0');
_fbd :=int (_fed -'0');return _fea ,_fbd ,nil ;};_gge =append (_gge [1:_bfe ],_fed );};return 0,0,_df .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};func (_ccc *fdfParser )trace (_gab _gd .PdfObject )_gd .PdfObject {switch _dac :=_gab .(type ){case *_gd .PdfObjectReference :_aggg ,_bgfg :=_ccc ._adc [_dac .ObjectNumber ].(*_gd .PdfIndirectObject );
if _bgfg {return _aggg .PdfObject ;};_dfd .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_gd .PdfIndirectObject :return _dac .PdfObject ;};return _gab ;};

// Load loads FDF form data from `r`.
func Load (r _eg .ReadSeeker )(*Data ,error ){_db ,_b :=_dcb (r );if _b !=nil {return nil ,_b ;};_ag ,_b :=_db .Root ();if _b !=nil {return nil ,_b ;};_gb ,_cc :=_gd .GetArray (_ag .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_cc {return nil ,_df .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_c :_gb ,_gad :_ag },nil ;};func (_fdd *fdfParser )parseName ()(_gd .PdfObjectName ,error ){var _cbb _dcc .Buffer ;_gfbc :=false ;for {_bfa ,_ec :=_fdd ._dccc .Peek (1);if _ec ==_eg .EOF {break ;};if _ec !=nil {return _gd .PdfObjectName (_cbb .String ()),_ec ;
};if !_gfbc {if _bfa [0]=='/'{_gfbc =true ;_fdd ._dccc .ReadByte ();}else if _bfa [0]=='%'{_fdd .readComment ();_fdd .skipSpaces ();}else {_dfd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_bfa ,_bfa );
return _gd .PdfObjectName (_cbb .String ()),_a .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_bfa [0]);};}else {if _gd .IsWhiteSpace (_bfa [0]){break ;}else if (_bfa [0]=='/')||(_bfa [0]=='[')||(_bfa [0]=='(')||(_bfa [0]==']')||(_bfa [0]=='<')||(_bfa [0]=='>'){break ;
}else if _bfa [0]=='#'{_fddc ,_feg :=_fdd ._dccc .Peek (3);if _feg !=nil {return _gd .PdfObjectName (_cbb .String ()),_feg ;};_fdd ._dccc .Discard (3);_aef ,_feg :=_dgb .DecodeString (string (_fddc [1:3]));if _feg !=nil {return _gd .PdfObjectName (_cbb .String ()),_feg ;
};_cbb .Write (_aef );}else {_bb ,_ :=_fdd ._dccc .ReadByte ();_cbb .WriteByte (_bb );};};};return _gd .PdfObjectName (_cbb .String ()),nil ;};func (_ebg *fdfParser )parseFdfVersion ()(int ,int ,error ){_ebg ._ade .Seek (0,_eg .SeekStart );_eaf :=20;_fgd :=make ([]byte ,_eaf );
_ebg ._ade .Read (_fgd );_edc :=_agg .FindStringSubmatch (string (_fgd ));if len (_edc )< 3{_gcb ,_ccb ,_fcd :=_ebg .seekFdfVersionTopDown ();if _fcd !=nil {_dfd .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");
return 0,0,_fcd ;};return _gcb ,_ccb ,nil ;};_bda ,_dca :=_g .Atoi (_edc [1]);if _dca !=nil {return 0,0,_dca ;};_ccg ,_dca :=_g .Atoi (_edc [2]);if _dca !=nil {return 0,0,_dca ;};_dfd .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_bda ,_ccg );
return _bda ,_ccg ,nil ;};var _agg =_dc .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");func (_dad *fdfParser )parseString ()(*_gd .PdfObjectString ,error ){_dad ._dccc .ReadByte ();var _fa _dcc .Buffer ;
_bgf :=1;for {_afc ,_acb :=_dad ._dccc .Peek (1);if _acb !=nil {return _gd .MakeString (_fa .String ()),_acb ;};if _afc [0]=='\\'{_dad ._dccc .ReadByte ();_ed ,_fad :=_dad ._dccc .ReadByte ();if _fad !=nil {return _gd .MakeString (_fa .String ()),_fad ;
};if _gd .IsOctalDigit (_ed ){_cfg ,_aga :=_dad ._dccc .Peek (2);if _aga !=nil {return _gd .MakeString (_fa .String ()),_aga ;};var _fega []byte ;_fega =append (_fega ,_ed );for _ ,_ddf :=range _cfg {if _gd .IsOctalDigit (_ddf ){_fega =append (_fega ,_ddf );
}else {break ;};};_dad ._dccc .Discard (len (_fega )-1);_dfd .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_fega );_gcf ,_aga :=_g .ParseUint (string (_fega ),8,32);if _aga !=nil {return _gd .MakeString (_fa .String ()),_aga ;
};_fa .WriteByte (byte (_gcf ));continue ;};switch _ed {case 'n':_fa .WriteRune ('\n');case 'r':_fa .WriteRune ('\r');case 't':_fa .WriteRune ('\t');case 'b':_fa .WriteRune ('\b');case 'f':_fa .WriteRune ('\f');case '(':_fa .WriteRune ('(');case ')':_fa .WriteRune (')');
case '\\':_fa .WriteRune ('\\');};continue ;}else if _afc [0]=='('{_bgf ++;}else if _afc [0]==')'{_bgf --;if _bgf ==0{_dad ._dccc .ReadByte ();break ;};};_dde ,_ :=_dad ._dccc .ReadByte ();_fa .WriteByte (_dde );};return _gd .MakeString (_fa .String ()),nil ;
};var _cgb =_dc .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_cd ,_gbg :=_dd .Open (fdfPath );if _gbg !=nil {return nil ,_gbg ;};defer _cd .Close ();return Load (_cd );};func (_gfb *fdfParser )readAtLeast (_gdb []byte ,_cb int )(int ,error ){_da :=_cb ;_ab :=0;_dbg :=0;
for _da > 0{_gdg ,_ff :=_gfb ._dccc .Read (_gdb [_ab :]);if _ff !=nil {_dfd .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_gdg ,_dbg ,_ff .Error ());
return _ab ,_df .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_dbg ++;_ab +=_gdg ;_da -=_gdg ;};return _ab ,nil ;};func (_aeg *fdfParser )parseDict ()(*_gd .PdfObjectDictionary ,error ){_dfd .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");
_fddf :=_gd .MakeDict ();_ebff ,_ :=_aeg ._dccc .ReadByte ();if _ebff !='<'{return nil ,_df .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_ebff ,_ =_aeg ._dccc .ReadByte ();if _ebff !='<'{return nil ,_df .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};for {_aeg .skipSpaces ();_aeg .skipComments ();_bgg ,_bbd :=_aeg ._dccc .Peek (2);if _bbd !=nil {return nil ,_bbd ;};_dfd .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_bgg ),string (_bgg ));
if (_bgg [0]=='>')&&(_bgg [1]=='>'){_dfd .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_aeg ._dccc .ReadByte ();_aeg ._dccc .ReadByte ();break ;};_dfd .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");
_acbd ,_bbd :=_aeg .parseName ();_dfd .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_acbd );if _bbd !=nil {_dfd .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_bbd );
return nil ,_bbd ;};if len (_acbd )> 4&&_acbd [len (_acbd )-4:]=="\u006e\u0075\u006c\u006c"{_fdg :=_acbd [0:len (_acbd )-4];_dfd .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_acbd );
_dfd .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_fdg );_aeg .skipSpaces ();_gfba ,_ :=_aeg ._dccc .Peek (1);if _gfba [0]=='/'{_fddf .Set (_fdg ,_gd .MakeNull ());continue ;};};
_aeg .skipSpaces ();_cga ,_bbd :=_aeg .parseObject ();if _bbd !=nil {return nil ,_bbd ;};_fddf .Set (_acbd ,_cga );_dfd .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_acbd ,_cga .String ());};_dfd .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");
return _fddf ,nil ;};

// Data represents forms data format (FDF) file data.
type Data struct{_gad *_gd .PdfObjectDictionary ;_c *_gd .PdfObjectArray ;};func _dcb (_fae _eg .ReadSeeker )(*fdfParser ,error ){_bdga :=&fdfParser {};_bdga ._ade =_fae ;_bdga ._adc =map[int64 ]_gd .PdfObject {};_egfd ,_ggc ,_bbf :=_bdga .parseFdfVersion ();
if _bbf !=nil {_dfd .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_bbf );return nil ,_bbf ;};_bdga ._ffg =_egfd ;_bdga ._ad =_ggc ;_bbf =_bdga .parse ();
return _bdga ,_bbf ;};func (_aggc *fdfParser )parseNumber ()(_gd .PdfObject ,error ){return _gd .ParseNumber (_aggc ._dccc )};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_gd .PdfObjectDictionary ,error ){_ee :=map[string ]*_gd .PdfObjectDictionary {};for _ef :=0;_ef < fdf ._c .Len ();_ef ++{_eeb ,_ea :=_gd .GetDict (fdf ._c .Get (_ef ));if _ea {_gf ,_ :=_gd .GetString (_eeb .Get ("\u0054"));
if _gf !=nil {_ee [_gf .Str ()]=_eeb ;};};};return _ee ,nil ;};func (_dee *fdfParser )readTextLine ()(string ,error ){var _ffc _dcc .Buffer ;for {_acf ,_fe :=_dee ._dccc .Peek (1);if _fe !=nil {_dfd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_fe .Error ());
return _ffc .String (),_fe ;};if (_acf [0]!='\r')&&(_acf [0]!='\n'){_gbe ,_ :=_dee ._dccc .ReadByte ();_ffc .WriteByte (_gbe );}else {break ;};};return _ffc .String (),nil ;};var _fc =_dc .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");
func (_gde *fdfParser )parseArray ()(*_gd .PdfObjectArray ,error ){_cda :=_gd .MakeArray ();_gde ._dccc .ReadByte ();for {_gde .skipSpaces ();_aa ,_dgg :=_gde ._dccc .Peek (1);if _dgg !=nil {return _cda ,_dgg ;};if _aa [0]==']'{_gde ._dccc .ReadByte ();
break ;};_eef ,_dgg :=_gde .parseObject ();if _dgg !=nil {return _cda ,_dgg ;};_cda .Append (_eef );};return _cda ,nil ;};func (_gcc *fdfParser )parseObject ()(_gd .PdfObject ,error ){_dfd .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");
_gcc .skipSpaces ();for {_efb ,_ggd :=_gcc ._dccc .Peek (2);if _ggd !=nil {return nil ,_ggd ;};_dfd .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_efb ));if _efb [0]=='/'{_fbb ,_dgc :=_gcc .parseName ();
_dfd .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_fbb );return &_fbb ,_dgc ;}else if _efb [0]=='('{_dfd .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _gcc .parseString ();}else if _efb [0]=='['{_dfd .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");
return _gcc .parseArray ();}else if (_efb [0]=='<')&&(_efb [1]=='<'){_dfd .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _gcc .parseDict ();}else if _efb [0]=='<'{_dfd .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");
return _gcc .parseHexString ();}else if _efb [0]=='%'{_gcc .readComment ();_gcc .skipSpaces ();}else {_dfd .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_efb ,_ =_gcc ._dccc .Peek (15);_ggde :=string (_efb );
_dfd .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_ggde );if (len (_ggde )> 3)&&(_ggde [:4]=="\u006e\u0075\u006c\u006c"){_ffgd ,_ca :=_gcc .parseNull ();return &_ffgd ,_ca ;}else if (len (_ggde )> 4)&&(_ggde [:5]=="\u0066\u0061\u006cs\u0065"){_bgc ,_bba :=_gcc .parseBool ();
return &_bgc ,_bba ;}else if (len (_ggde )> 3)&&(_ggde [:4]=="\u0074\u0072\u0075\u0065"){_dcd ,_ebf :=_gcc .parseBool ();return &_dcd ,_ebf ;};_ceba :=_bg .FindStringSubmatch (_ggde );if len (_ceba )> 1{_efb ,_ =_gcc ._dccc .ReadBytes ('R');_dfd .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_efb [:]));
_edf ,_gcg :=_dbcb (string (_efb ));return &_edf ,_gcg ;};_bd :=_fdb .FindStringSubmatch (_ggde );if len (_bd )> 1{_dfd .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _gcc .parseNumber ();};_bd =_cgb .FindStringSubmatch (_ggde );
if len (_bd )> 1{_dfd .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_dfd .Log .Trace ("\u0025\u0020\u0073",_bd );return _gcc .parseNumber ();};_dfd .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_ggde );
return nil ,_df .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};func (_ba *fdfParser )skipSpaces ()(int ,error ){_bf :=0;for {_bag ,_dba :=_ba ._dccc .ReadByte ();if _dba !=nil {return 0,_dba ;};if _gd .IsWhiteSpace (_bag ){_bf ++;}else {_ba ._dccc .UnreadByte ();break ;};};return _bf ,nil ;};func (_efe *fdfParser )readComment ()(string ,error ){var _ddc _dcc .Buffer ;
_ ,_ae :=_efe .skipSpaces ();if _ae !=nil {return _ddc .String (),_ae ;};_cdb :=true ;for {_age ,_cbg :=_efe ._dccc .Peek (1);if _cbg !=nil {_dfd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_cbg .Error ());return _ddc .String (),_cbg ;
};if _cdb &&_age [0]!='%'{return _ddc .String (),_df .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");};_cdb =false ;if (_age [0]!='\r')&&(_age [0]!='\n'){_dbc ,_ :=_efe ._dccc .ReadByte ();
_ddc .WriteByte (_dbc );}else {break ;};};return _ddc .String (),nil ;};

// Root returns the Root of the FDF document.
func (_fce *fdfParser )Root ()(*_gd .PdfObjectDictionary ,error ){if _fce ._cbf !=nil {if _eaa ,_cggd :=_fce .trace (_fce ._cbf .Get ("\u0052\u006f\u006f\u0074")).(*_gd .PdfObjectDictionary );_cggd {if _bgff ,_gbc :=_fce .trace (_eaa .Get ("\u0046\u0044\u0046")).(*_gd .PdfObjectDictionary );
_gbc {return _bgff ,nil ;};};};var _afg []int64 ;for _gdgfd :=range _fce ._adc {_afg =append (_afg ,_gdgfd );};_e .Slice (_afg ,func (_efbf ,_bcd int )bool {return _afg [_efbf ]< _afg [_bcd ]});for _ ,_gcgg :=range _afg {_dbf :=_fce ._adc [_gcgg ];if _ecg ,_efd :=_fce .trace (_dbf ).(*_gd .PdfObjectDictionary );
_efd {if _fee ,_gda :=_fce .trace (_ecg .Get ("\u0046\u0044\u0046")).(*_gd .PdfObjectDictionary );_gda {return _fee ,nil ;};};};return nil ,_df .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};func (_bce *fdfParser )parse ()error {_bce ._ade .Seek (0,_eg .SeekStart );
_bce ._dccc =_ga .NewReader (_bce ._ade );for {_bce .skipComments ();_dec ,_efba :=_bce ._dccc .Peek (20);if _efba !=nil {_dfd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _efba ;};if _dg .HasPrefix (string (_dec ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_bce ._dccc .Discard (7);_bce .skipSpaces ();_bce .skipComments ();_ecd ,_ :=_bce .parseDict ();_bce ._cbf =_ecd ;break ;};_bgb :=_fc .FindStringSubmatchIndex (string (_dec ));
if len (_bgb )< 6{_dfd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_dec ));
return _df .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_gdddc ,_efba :=_bce .parseIndirectObject ();if _efba !=nil {return _efba ;};switch _bgfd :=_gdddc .(type ){case *_gd .PdfIndirectObject :_bce ._adc [_bgfd .ObjectNumber ]=_bgfd ;case *_gd .PdfObjectStream :_bce ._adc [_bgfd .ObjectNumber ]=_bgfd ;default:return _df .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
};};return nil ;};func (_bdd *fdfParser )parseIndirectObject ()(_gd .PdfObject ,error ){_deb :=_gd .PdfIndirectObject {};_dfd .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_bgdc ,_cag :=_bdd ._dccc .Peek (20);
if _cag !=nil {_dfd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");return &_deb ,_cag ;};_dfd .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_bgdc ));
_cgg :=_fc .FindStringSubmatchIndex (string (_bgdc ));if len (_cgg )< 6{_dfd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_bgdc ));
return &_deb ,_df .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_bdd ._dccc .Discard (_cgg [0]);_dfd .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_cgg );_fgdc :=_cgg [1]-_cgg [0];_egf :=make ([]byte ,_fgdc );_ ,_cag =_bdd .readAtLeast (_egf ,_fgdc );if _cag !=nil {_dfd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_cag );
return nil ,_cag ;};_dfd .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_egf );_deeg :=_fc .FindStringSubmatch (string (_egf ));if len (_deeg )< 3{_dfd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_egf ));
return &_deb ,_df .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_abc ,_ :=_g .Atoi (_deeg [1]);_caga ,_ :=_g .Atoi (_deeg [2]);_deb .ObjectNumber =int64 (_abc );_deb .GenerationNumber =int64 (_caga );for {_fadd ,_gdbc :=_bdd ._dccc .Peek (2);if _gdbc !=nil {return &_deb ,_gdbc ;};_dfd .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_fadd ),string (_fadd ));
if _gd .IsWhiteSpace (_fadd [0]){_bdd .skipSpaces ();}else if _fadd [0]=='%'{_bdd .skipComments ();}else if (_fadd [0]=='<')&&(_fadd [1]=='<'){_dfd .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_deb .PdfObject ,_gdbc =_bdd .parseDict ();
_dfd .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_gdbc );if _gdbc !=nil {return &_deb ,_gdbc ;};_dfd .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_fadd [0]=='/')||(_fadd [0]=='(')||(_fadd [0]=='[')||(_fadd [0]=='<'){_deb .PdfObject ,_gdbc =_bdd .parseObject ();if _gdbc !=nil {return &_deb ,_gdbc ;};_dfd .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _fadd [0]=='e'{_dfaa ,_dbef :=_bdd .readTextLine ();if _dbef !=nil {return nil ,_dbef ;};if len (_dfaa )>=6&&_dfaa [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _fadd [0]=='s'{_fadd ,_ =_bdd ._dccc .Peek (10);if string (_fadd [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_bdb :=6;
if len (_fadd )> 6{if _gd .IsWhiteSpace (_fadd [_bdb ])&&_fadd [_bdb ]!='\r'&&_fadd [_bdb ]!='\n'{_dfd .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_bdb ++;};if _fadd [_bdb ]=='\r'{_bdb ++;if _fadd [_bdb ]=='\n'{_bdb ++;};}else if _fadd [_bdb ]=='\n'{_bdb ++;};};_bdd ._dccc .Discard (_bdb );_aaa ,_ccd :=_deb .PdfObject .(*_gd .PdfObjectDictionary );if !_ccd {return nil ,_df .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_dfd .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_aaa );_fddb ,_eece :=_aaa .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_gd .PdfObjectInteger );if !_eece {return nil ,_df .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_gdd :=*_fddb ;if _gdd < 0{return nil ,_df .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_gdd )> _bdd ._dgedb {_dfd .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_df .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_eba :=make ([]byte ,_gdd );
_ ,_gdbc =_bdd .readAtLeast (_eba ,int (_gdd ));if _gdbc !=nil {_dfd .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_eba ),_eba );_dfd .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_gdbc );
return nil ,_gdbc ;};_gbf :=_gd .PdfObjectStream {};_gbf .Stream =_eba ;_gbf .PdfObjectDictionary =_deb .PdfObject .(*_gd .PdfObjectDictionary );_gbf .ObjectNumber =_deb .ObjectNumber ;_gbf .GenerationNumber =_deb .GenerationNumber ;_bdd .skipSpaces ();
_bdd ._dccc .Discard (9);_bdd .skipSpaces ();return &_gbf ,nil ;};};_deb .PdfObject ,_gdbc =_bdd .parseObject ();return &_deb ,_gdbc ;};};_dfd .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_deb ,nil ;};