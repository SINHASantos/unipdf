//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_aa "bufio";_fd "bytes";_fg "encoding/hex";_g "errors";_b "fmt";_c "github.com/unidoc/unipdf/v3/common";_ee "github.com/unidoc/unipdf/v3/core";_gc "io";_fc "os";_d "regexp";_eg "sort";_f "strconv";_e "strings";);

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_ee .PdfObjectDictionary ,error ){_ggb :=map[string ]*_ee .PdfObjectDictionary {};for _bbc :=0;_bbc < fdf ._ff .Len ();_bbc ++{_eb ,_bea :=_ee .GetDict (fdf ._ff .Get (_bbc ));if _bea {_bag ,_ :=_ee .GetString (_eb .Get ("\u0054"));
if _bag !=nil {_ggb [_bag .Str ()]=_eb ;};};};return _ggb ,nil ;};

// Data represents forms data format (FDF) file data.
type Data struct{_ec *_ee .PdfObjectDictionary ;_ff *_ee .PdfObjectArray ;};var _ebdb =_d .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");
func (_bae *fdfParser )readAtLeast (_gd []byte ,_ecd int )(int ,error ){_ge :=_ecd ;_aeb :=0;_ebd :=0;for _ge > 0{_gcf ,_cec :=_bae ._feb .Read (_gd [_aeb :]);if _cec !=nil {_c .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_gcf ,_ebd ,_cec .Error ());
return _aeb ,_g .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_ebd ++;_aeb +=_gcf ;_ge -=_gcf ;};return _aeb ,nil ;};func (_bc *fdfParser )setFileOffset (_dfd int64 ){_bc ._ag .Seek (_dfd ,_gc .SeekStart );_bc ._feb =_aa .NewReader (_bc ._ag );
};

// Load loads FDF form data from `r`.
func Load (r _gc .ReadSeeker )(*Data ,error ){_ba ,_gb :=_ced (r );if _gb !=nil {return nil ,_gb ;};_aae ,_gb :=_ba .Root ();if _gb !=nil {return nil ,_gb ;};_af ,_fa :=_ee .GetArray (_aae .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_fa {return nil ,_g .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_ff :_af ,_ec :_aae },nil ;};func (_fgg *fdfParser )parseHexString ()(*_ee .PdfObjectString ,error ){_fgg ._feb .ReadByte ();var _gbc _fd .Buffer ;for {_cca ,_ffe :=_fgg ._feb .Peek (1);if _ffe !=nil {return _ee .MakeHexString (""),_ffe ;
};if _cca [0]=='>'{_fgg ._feb .ReadByte ();break ;};_ege ,_ :=_fgg ._feb .ReadByte ();if !_ee .IsWhiteSpace (_ege ){_gbc .WriteByte (_ege );};};if _gbc .Len ()%2==1{_gbc .WriteRune ('0');};_ggd ,_bdb :=_fg .DecodeString (_gbc .String ());if _bdb !=nil {_c .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_gbc .String ());
return _ee .MakeHexString (""),nil ;};return _ee .MakeHexString (string (_ggd )),nil ;};func (_gfb *fdfParser )parseDict ()(*_ee .PdfObjectDictionary ,error ){_c .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");
_ffb :=_ee .MakeDict ();_cgb ,_ :=_gfb ._feb .ReadByte ();if _cgb !='<'{return nil ,_g .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_cgb ,_ =_gfb ._feb .ReadByte ();if _cgb !='<'{return nil ,_g .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};for {_gfb .skipSpaces ();_gfb .skipComments ();_dde ,_edc :=_gfb ._feb .Peek (2);if _edc !=nil {return nil ,_edc ;};_c .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_dde ),string (_dde ));
if (_dde [0]=='>')&&(_dde [1]=='>'){_c .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_gfb ._feb .ReadByte ();_gfb ._feb .ReadByte ();break ;};_c .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");
_aef ,_edc :=_gfb .parseName ();_c .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_aef );if _edc !=nil {_c .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_edc );
return nil ,_edc ;};if len (_aef )> 4&&_aef [len (_aef )-4:]=="\u006e\u0075\u006c\u006c"{_edg :=_aef [0:len (_aef )-4];_c .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_aef );
_c .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_edg );_gfb .skipSpaces ();_efb ,_ :=_gfb ._feb .Peek (1);if _efb [0]=='/'{_ffb .Set (_edg ,_ee .MakeNull ());continue ;};};_gfb .skipSpaces ();
_dbb ,_edc :=_gfb .parseObject ();if _edc !=nil {return nil ,_edc ;};_ffb .Set (_aef ,_dbb );_c .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_aef ,_dbb .String ());};_c .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");
return _ffb ,nil ;};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_bb ,_gg :=_fc .Open (fdfPath );if _gg !=nil {return nil ,_gg ;};defer _bb .Close ();return Load (_bb );};func (_bg *fdfParser )skipSpaces ()(int ,error ){_bba :=0;for {_dc ,_bdf :=_bg ._feb .ReadByte ();
if _bdf !=nil {return 0,_bdf ;};if _ee .IsWhiteSpace (_dc ){_bba ++;}else {_bg ._feb .UnreadByte ();break ;};};return _bba ,nil ;};type fdfParser struct{_ad int ;_faf int ;_fcf map[int64 ]_ee .PdfObject ;_ag _gc .ReadSeeker ;_feb *_aa .Reader ;_agc int64 ;
_fedf *_ee .PdfObjectDictionary ;};var _gccf =_d .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");func (_abdb *fdfParser )trace (_bde _ee .PdfObject )_ee .PdfObject {switch _dbgd :=_bde .(type ){case *_ee .PdfObjectReference :_geaf ,_baa :=_abdb ._fcf [_dbgd .ObjectNumber ].(*_ee .PdfIndirectObject );
if _baa {return _geaf .PdfObject ;};_c .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_ee .PdfIndirectObject :return _dbgd .PdfObject ;};return _bde ;};func (_gcca *fdfParser )skipComments ()error {if _ ,_dfda :=_gcca .skipSpaces ();
_dfda !=nil {return _dfda ;};_cdf :=true ;for {_fb ,_ef :=_gcca ._feb .Peek (1);if _ef !=nil {_c .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_ef .Error ());return _ef ;};if _cdf &&_fb [0]!='%'{return nil ;};_cdf =false ;if (_fb [0]!='\r')&&(_fb [0]!='\n'){_gcca ._feb .ReadByte ();
}else {break ;};};return _gcca .skipComments ();};func (_dgg *fdfParser )parseNumber ()(_ee .PdfObject ,error ){return _ee .ParseNumber (_dgg ._feb )};func (_efda *fdfParser )parseObject ()(_ee .PdfObject ,error ){_c .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");
_efda .skipSpaces ();for {_adf ,_fge :=_efda ._feb .Peek (2);if _fge !=nil {return nil ,_fge ;};_c .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_adf ));if _adf [0]=='/'{_ga ,_eeg :=_efda .parseName ();
_c .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_ga );return &_ga ,_eeg ;}else if _adf [0]=='('{_c .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _efda .parseString ();}else if _adf [0]=='['{_c .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");
return _efda .parseArray ();}else if (_adf [0]=='<')&&(_adf [1]=='<'){_c .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _efda .parseDict ();}else if _adf [0]=='<'{_c .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");
return _efda .parseHexString ();}else if _adf [0]=='%'{_efda .readComment ();_efda .skipSpaces ();}else {_c .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_adf ,_ =_efda ._feb .Peek (15);_edb :=string (_adf );
_c .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_edb );if (len (_edb )> 3)&&(_edb [:4]=="\u006e\u0075\u006c\u006c"){_gcfa ,_abc :=_efda .parseNull ();return &_gcfa ,_abc ;}else if (len (_edb )> 4)&&(_edb [:5]=="\u0066\u0061\u006cs\u0065"){_aag ,_bgg :=_efda .parseBool ();
return &_aag ,_bgg ;}else if (len (_edb )> 3)&&(_edb [:4]=="\u0074\u0072\u0075\u0065"){_db ,_feg :=_efda .parseBool ();return &_db ,_feg ;};_cfe :=_cg .FindStringSubmatch (_edb );if len (_cfe )> 1{_adf ,_ =_efda ._feb .ReadBytes ('R');_c .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_adf [:]));
_gad ,_add :=_fca (string (_adf ));return &_gad ,_add ;};_dbg :=_da .FindStringSubmatch (_edb );if len (_dbg )> 1{_c .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _efda .parseNumber ();};_dbg =_ebdb .FindStringSubmatch (_edb );
if len (_dbg )> 1{_c .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_c .Log .Trace ("\u0025\u0020\u0073",_dbg );return _efda .parseNumber ();};_c .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_edb );
return nil ,_g .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};func (_cbf *fdfParser )parseIndirectObject ()(_ee .PdfObject ,error ){_dca :=_ee .PdfIndirectObject {};_c .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_cbg ,_abd :=_cbf ._feb .Peek (20);
if _abd !=nil {_c .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");return &_dca ,_abd ;};_c .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_cbg ));
_eagc :=_cga .FindStringSubmatchIndex (string (_cbg ));if len (_eagc )< 6{_c .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_cbg ));
return &_dca ,_g .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_cbf ._feb .Discard (_eagc [0]);_c .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_eagc );_ecg :=_eagc [1]-_eagc [0];_acf :=make ([]byte ,_ecg );_ ,_abd =_cbf .readAtLeast (_acf ,_ecg );if _abd !=nil {_c .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_abd );
return nil ,_abd ;};_c .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_acf );_dbba :=_cga .FindStringSubmatch (string (_acf ));if len (_dbba )< 3{_c .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_acf ));
return &_dca ,_g .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_bda ,_ :=_f .Atoi (_dbba [1]);_fbb ,_ :=_f .Atoi (_dbba [2]);_dca .ObjectNumber =int64 (_bda );_dca .GenerationNumber =int64 (_fbb );for {_edd ,_gdd :=_cbf ._feb .Peek (2);if _gdd !=nil {return &_dca ,_gdd ;};_c .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_edd ),string (_edd ));
if _ee .IsWhiteSpace (_edd [0]){_cbf .skipSpaces ();}else if _edd [0]=='%'{_cbf .skipComments ();}else if (_edd [0]=='<')&&(_edd [1]=='<'){_c .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_dca .PdfObject ,_gdd =_cbf .parseDict ();
_c .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_gdd );if _gdd !=nil {return &_dca ,_gdd ;};_c .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_edd [0]=='/')||(_edd [0]=='(')||(_edd [0]=='[')||(_edd [0]=='<'){_dca .PdfObject ,_gdd =_cbf .parseObject ();if _gdd !=nil {return &_dca ,_gdd ;};_c .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _edd [0]=='e'{_fcc ,_gag :=_cbf .readTextLine ();if _gag !=nil {return nil ,_gag ;};if len (_fcc )>=6&&_fcc [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _edd [0]=='s'{_edd ,_ =_cbf ._feb .Peek (10);if string (_edd [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_dgab :=6;
if len (_edd )> 6{if _ee .IsWhiteSpace (_edd [_dgab ])&&_edd [_dgab ]!='\r'&&_edd [_dgab ]!='\n'{_c .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_dgab ++;};if _edd [_dgab ]=='\r'{_dgab ++;if _edd [_dgab ]=='\n'{_dgab ++;};}else if _edd [_dgab ]=='\n'{_dgab ++;};};_cbf ._feb .Discard (_dgab );_eea ,_gfe :=_dca .PdfObject .(*_ee .PdfObjectDictionary );if !_gfe {return nil ,_g .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_c .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_eea );_ecgd ,_cfea :=_eea .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_ee .PdfObjectInteger );if !_cfea {return nil ,_g .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_acc :=*_ecgd ;if _acc < 0{return nil ,_g .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_acc )> _cbf ._agc {_c .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_g .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_fec :=make ([]byte ,_acc );
_ ,_gdd =_cbf .readAtLeast (_fec ,int (_acc ));if _gdd !=nil {_c .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_fec ),_fec );_c .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_gdd );
return nil ,_gdd ;};_gdc :=_ee .PdfObjectStream {};_gdc .Stream =_fec ;_gdc .PdfObjectDictionary =_dca .PdfObject .(*_ee .PdfObjectDictionary );_gdc .ObjectNumber =_dca .ObjectNumber ;_gdc .GenerationNumber =_dca .GenerationNumber ;_cbf .skipSpaces ();
_cbf ._feb .Discard (9);_cbf .skipSpaces ();return &_gdc ,nil ;};};_dca .PdfObject ,_gdd =_cbf .parseObject ();return &_dca ,_gdd ;};};_c .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_dca ,nil ;};func _fca (_cfg string )(_ee .PdfObjectReference ,error ){_dgb :=_ee .PdfObjectReference {};_dad :=_cg .FindStringSubmatch (_cfg );if len (_dad )< 3{_c .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");
return _dgb ,_g .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");};_cba ,_fcg :=_f .Atoi (_dad [1]);if _fcg !=nil {_c .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_dad [1]);
return _dgb ,nil ;};_dgb .ObjectNumber =int64 (_cba );_bcg ,_fcg :=_f .Atoi (_dad [2]);if _fcg !=nil {_c .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_dad [2]);
return _dgb ,nil ;};_dgb .GenerationNumber =int64 (_bcg );return _dgb ,nil ;};var _aebd =_d .MustCompile ("\u0025\u0025\u0045O\u0046");func (_aaee *fdfParser )parseArray ()(*_ee .PdfObjectArray ,error ){_daa :=_ee .MakeArray ();_aaee ._feb .ReadByte ();
for {_aaee .skipSpaces ();_ffd ,_cbd :=_aaee ._feb .Peek (1);if _cbd !=nil {return _daa ,_cbd ;};if _ffd [0]==']'{_aaee ._feb .ReadByte ();break ;};_dd ,_cbd :=_aaee .parseObject ();if _cbd !=nil {return _daa ,_cbd ;};_daa .Append (_dd );};return _daa ,nil ;
};func (_dfe *fdfParser )parseBool ()(_ee .PdfObjectBool ,error ){_dfc ,_fad :=_dfe ._feb .Peek (4);if _fad !=nil {return _ee .PdfObjectBool (false ),_fad ;};if (len (_dfc )>=4)&&(string (_dfc [:4])=="\u0074\u0072\u0075\u0065"){_dfe ._feb .Discard (4);
return _ee .PdfObjectBool (true ),nil ;};_dfc ,_fad =_dfe ._feb .Peek (5);if _fad !=nil {return _ee .PdfObjectBool (false ),_fad ;};if (len (_dfc )>=5)&&(string (_dfc [:5])=="\u0066\u0061\u006cs\u0065"){_dfe ._feb .Discard (5);return _ee .PdfObjectBool (false ),nil ;
};return _ee .PdfObjectBool (false ),_g .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");};var _cga =_d .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");
func _dfg (_ddg string )(*fdfParser ,error ){_fga :=fdfParser {};_afb :=[]byte (_ddg );_bfb :=_fd .NewReader (_afb );_fga ._ag =_bfb ;_fga ._fcf =map[int64 ]_ee .PdfObject {};_aaa :=_aa .NewReader (_bfb );_fga ._feb =_aaa ;_fga ._agc =int64 (len (_ddg ));
return &_fga ,_fga .parse ();};func (_ggc *fdfParser )parseString ()(*_ee .PdfObjectString ,error ){_ggc ._feb .ReadByte ();var _efg _fd .Buffer ;_efd :=1;for {_ecc ,_gf :=_ggc ._feb .Peek (1);if _gf !=nil {return _ee .MakeString (_efg .String ()),_gf ;
};if _ecc [0]=='\\'{_ggc ._feb .ReadByte ();_bcb ,_fae :=_ggc ._feb .ReadByte ();if _fae !=nil {return _ee .MakeString (_efg .String ()),_fae ;};if _ee .IsOctalDigit (_bcb ){_bead ,_ed :=_ggc ._feb .Peek (2);if _ed !=nil {return _ee .MakeString (_efg .String ()),_ed ;
};var _eed []byte ;_eed =append (_eed ,_bcb );for _ ,_bagg :=range _bead {if _ee .IsOctalDigit (_bagg ){_eed =append (_eed ,_bagg );}else {break ;};};_ggc ._feb .Discard (len (_eed )-1);_c .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_eed );
_eag ,_ed :=_f .ParseUint (string (_eed ),8,32);if _ed !=nil {return _ee .MakeString (_efg .String ()),_ed ;};_efg .WriteByte (byte (_eag ));continue ;};switch _bcb {case 'n':_efg .WriteRune ('\n');case 'r':_efg .WriteRune ('\r');case 't':_efg .WriteRune ('\t');
case 'b':_efg .WriteRune ('\b');case 'f':_efg .WriteRune ('\f');case '(':_efg .WriteRune ('(');case ')':_efg .WriteRune (')');case '\\':_efg .WriteRune ('\\');};continue ;}else if _ecc [0]=='('{_efd ++;}else if _ecc [0]==')'{_efd --;if _efd ==0{_ggc ._feb .ReadByte ();
break ;};};_fbgb ,_ :=_ggc ._feb .ReadByte ();_efg .WriteByte (_fbgb );};return _ee .MakeString (_efg .String ()),nil ;};func (_cdg *fdfParser )parseNull ()(_ee .PdfObjectNull ,error ){_ ,_gdf :=_cdg ._feb .Discard (4);return _ee .PdfObjectNull {},_gdf ;
};func (_bf *fdfParser )seekToEOFMarker (_dga int64 )error {_adeb :=int64 (0);_cee :=int64 (1000);for _adeb < _dga {if _dga <=(_cee +_adeb ){_cee =_dga -_adeb ;};_ ,_egf :=_bf ._ag .Seek (-_adeb -_cee ,_gc .SeekEnd );if _egf !=nil {return _egf ;};_fcd :=make ([]byte ,_cee );
_bf ._ag .Read (_fcd );_c .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_fcd ));_aca :=_aebd .FindAllStringIndex (string (_fcd ),-1);
if _aca !=nil {_gfa :=_aca [len (_aca )-1];_c .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_aca );_bf ._ag .Seek (-_adeb -_cee +int64 (_gfa [0]),_gc .SeekEnd );return nil ;};_c .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_adeb +=_cee ;};_c .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _g .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};func _ced (_becd _gc .ReadSeeker )(*fdfParser ,error ){_bbge :=&fdfParser {};_bbge ._ag =_becd ;_bbge ._fcf =map[int64 ]_ee .PdfObject {};_ecgg ,_aafg ,_abe :=_bbge .parseFdfVersion ();if _abe !=nil {_c .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_abe );
return nil ,_abe ;};_bbge ._ad =_ecgg ;_bbge ._faf =_aafg ;_abe =_bbge .parse ();return _bbge ,_abe ;};

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_ee .PdfObject ,error ){_df ,_aaef :=fdf .FieldDictionaries ();if _aaef !=nil {return nil ,_aaef ;};var _gcc []string ;for _fe :=range _df {_gcc =append (_gcc ,_fe );};_eg .Strings (_gcc );_ce :=map[string ]_ee .PdfObject {};
for _ ,_bec :=range _gcc {_cd :=_df [_bec ];_fed :=_ee .TraceToDirectObject (_cd .Get ("\u0056"));_ce [_bec ]=_fed ;};return _ce ,nil ;};var _cg =_d .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");
func (_bbg *fdfParser )parseName ()(_ee .PdfObjectName ,error ){var _cc _fd .Buffer ;_aeg :=false ;for {_beg ,_ged :=_bbg ._feb .Peek (1);if _ged ==_gc .EOF {break ;};if _ged !=nil {return _ee .PdfObjectName (_cc .String ()),_ged ;};if !_aeg {if _beg [0]=='/'{_aeg =true ;
_bbg ._feb .ReadByte ();}else if _beg [0]=='%'{_bbg .readComment ();_bbg .skipSpaces ();}else {_c .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_beg ,_beg );
return _ee .PdfObjectName (_cc .String ()),_b .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_beg [0]);};}else {if _ee .IsWhiteSpace (_beg [0]){break ;}else if (_beg [0]=='/')||(_beg [0]=='[')||(_beg [0]=='(')||(_beg [0]==']')||(_beg [0]=='<')||(_beg [0]=='>'){break ;
}else if _beg [0]=='#'{_de ,_gcb :=_bbg ._feb .Peek (3);if _gcb !=nil {return _ee .PdfObjectName (_cc .String ()),_gcb ;};_bbg ._feb .Discard (3);_bdc ,_gcb :=_fg .DecodeString (string (_de [1:3]));if _gcb !=nil {return _ee .PdfObjectName (_cc .String ()),_gcb ;
};_cc .Write (_bdc );}else {_afe ,_ :=_bbg ._feb .ReadByte ();_cc .WriteByte (_afe );};};};return _ee .PdfObjectName (_cc .String ()),nil ;};func (_eaf *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_eaf ._ag .Seek (0,_gc .SeekStart );_eaf ._feb =_aa .NewReader (_eaf ._ag );
_fef :=20;_cgge :=make ([]byte ,_fef );for {_fccf ,_dbe :=_eaf ._feb .ReadByte ();if _dbe !=nil {if _dbe ==_gc .EOF {break ;}else {return 0,0,_dbe ;};};if _ee .IsDecimalDigit (_fccf )&&_cgge [_fef -1]=='.'&&_ee .IsDecimalDigit (_cgge [_fef -2])&&_cgge [_fef -3]=='-'&&_cgge [_fef -4]=='F'&&_cgge [_fef -5]=='D'&&_cgge [_fef -6]=='P'{_cfa :=int (_cgge [_fef -2]-'0');
_gae :=int (_fccf -'0');return _cfa ,_gae ,nil ;};_cgge =append (_cgge [1:_fef ],_fccf );};return 0,0,_g .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};func (_cag *fdfParser )readTextLine ()(string ,error ){var _eee _fd .Buffer ;
for {_fbfb ,_fce :=_cag ._feb .Peek (1);if _fce !=nil {_c .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_fce .Error ());return _eee .String (),_fce ;};if (_fbfb [0]!='\r')&&(_fbfb [0]!='\n'){_fbg ,_ :=_cag ._feb .ReadByte ();_eee .WriteByte (_fbg );
}else {break ;};};return _eee .String (),nil ;};var _da =_d .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");func (_accd *fdfParser )parse ()error {_accd ._ag .Seek (0,_gc .SeekStart );_accd ._feb =_aa .NewReader (_accd ._ag );
for {_accd .skipComments ();_baf ,_eebb :=_accd ._feb .Peek (20);if _eebb !=nil {_c .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _eebb ;};if _e .HasPrefix (string (_baf ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_accd ._feb .Discard (7);_accd .skipSpaces ();_accd .skipComments ();_faea ,_ :=_accd .parseDict ();_accd ._fedf =_faea ;break ;};_dgd :=_cga .FindStringSubmatchIndex (string (_baf ));
if len (_dgd )< 6{_c .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_baf ));
return _g .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_bgd ,_eebb :=_accd .parseIndirectObject ();if _eebb !=nil {return _eebb ;};switch _gee :=_bgd .(type ){case *_ee .PdfIndirectObject :_accd ._fcf [_gee .ObjectNumber ]=_gee ;case *_ee .PdfObjectStream :_accd ._fcf [_gee .ObjectNumber ]=_gee ;default:return _g .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
};};return nil ;};func (_ded *fdfParser )parseFdfVersion ()(int ,int ,error ){_ded ._ag .Seek (0,_gc .SeekStart );_bgf :=20;_agcd :=make ([]byte ,_bgf );_ded ._ag .Read (_agcd );_ggba :=_gccf .FindStringSubmatch (string (_agcd ));if len (_ggba )< 3{_gea ,_dged ,_baeb :=_ded .seekFdfVersionTopDown ();
if _baeb !=nil {_c .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");return 0,0,_baeb ;
};return _gea ,_dged ,nil ;};_bgc ,_fdg :=_f .Atoi (_ggba [1]);if _fdg !=nil {return 0,0,_fdg ;};_ceb ,_fdg :=_f .Atoi (_ggba [2]);if _fdg !=nil {return 0,0,_fdg ;};_c .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_bgc ,_ceb );
return _bgc ,_ceb ,nil ;};func (_ab *fdfParser )readComment ()(string ,error ){var _cda _fd .Buffer ;_ ,_dg :=_ab .skipSpaces ();if _dg !=nil {return _cda .String (),_dg ;};_ade :=true ;for {_cfb ,_cb :=_ab ._feb .Peek (1);if _cb !=nil {_c .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_cb .Error ());
return _cda .String (),_cb ;};if _ade &&_cfb [0]!='%'{return _cda .String (),_g .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");};_ade =false ;if (_cfb [0]!='\r')&&(_cfb [0]!='\n'){_ebf ,_ :=_ab ._feb .ReadByte ();
_cda .WriteByte (_ebf );}else {break ;};};return _cda .String (),nil ;};func (_ca *fdfParser )getFileOffset ()int64 {_fdf ,_ :=_ca ._ag .Seek (0,_gc .SeekCurrent );_fdf -=int64 (_ca ._feb .Buffered ());return _fdf ;};

// Root returns the Root of the FDF document.
func (_eegb *fdfParser )Root ()(*_ee .PdfObjectDictionary ,error ){if _eegb ._fedf !=nil {if _eeb ,_agb :=_eegb .trace (_eegb ._fedf .Get ("\u0052\u006f\u006f\u0074")).(*_ee .PdfObjectDictionary );_agb {if _dadd ,_agf :=_eegb .trace (_eeb .Get ("\u0046\u0044\u0046")).(*_ee .PdfObjectDictionary );
_agf {return _dadd ,nil ;};};};var _fgf []int64 ;for _edda :=range _eegb ._fcf {_fgf =append (_fgf ,_edda );};_eg .Slice (_fgf ,func (_bcf ,_cae int )bool {return _fgf [_bcf ]< _fgf [_cae ]});for _ ,_dgc :=range _fgf {_cecc :=_eegb ._fcf [_dgc ];if _ece ,_cfc :=_eegb .trace (_cecc ).(*_ee .PdfObjectDictionary );
_cfc {if _daaf ,_fab :=_eegb .trace (_ece .Get ("\u0046\u0044\u0046")).(*_ee .PdfObjectDictionary );_fab {return _daaf ,nil ;};};};return nil ,_g .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};