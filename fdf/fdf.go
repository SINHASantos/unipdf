//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_e "bufio";_af "bytes";_b "encoding/hex";_f "errors";_d "fmt";_ec "github.com/unidoc/unipdf/v4/common";_cd "github.com/unidoc/unipdf/v4/core";_ba "io";_eb "os";_c "regexp";_fgc "sort";_fg "strconv";_ad "strings";);var _ggc =_c .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");
func (_ecfd *fdfParser )parseBool ()(_cd .PdfObjectBool ,error ){_dcba ,_bfb :=_ecfd ._fge .Peek (4);if _bfb !=nil {return _cd .PdfObjectBool (false ),_bfb ;};if (len (_dcba )>=4)&&(string (_dcba [:4])=="\u0074\u0072\u0075\u0065"){_ecfd ._fge .Discard (4);
return _cd .PdfObjectBool (true ),nil ;};_dcba ,_bfb =_ecfd ._fge .Peek (5);if _bfb !=nil {return _cd .PdfObjectBool (false ),_bfb ;};if (len (_dcba )>=5)&&(string (_dcba [:5])=="\u0066\u0061\u006cs\u0065"){_ecfd ._fge .Discard (5);return _cd .PdfObjectBool (false ),nil ;
};return _cd .PdfObjectBool (false ),_f .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");};var _ged =_c .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");
var _cda =_c .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");func (_dcc *fdfParser )readComment ()(string ,error ){var _adb _af .Buffer ;_ ,_bb :=_dcc .skipSpaces ();if _bb !=nil {return _adb .String (),_bb ;
};_dda :=true ;for {_ddaa ,_gdd :=_dcc ._fge .Peek (1);if _gdd !=nil {_ec .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_gdd .Error ());return _adb .String (),_gdd ;};if _dda &&_ddaa [0]!='%'{return _adb .String (),_f .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");
};_dda =false ;if (_ddaa [0]!='\r')&&(_ddaa [0]!='\n'){_bcf ,_ :=_dcc ._fge .ReadByte ();_adb .WriteByte (_bcf );}else {break ;};};return _adb .String (),nil ;};func (_bd *fdfParser )skipSpaces ()(int ,error ){_gce :=0;for {_dbc ,_affg :=_bd ._fge .ReadByte ();
if _affg !=nil {return 0,_affg ;};if _cd .IsWhiteSpace (_dbc ){_gce ++;}else {_bd ._fge .UnreadByte ();break ;};};return _gce ,nil ;};func (_abb *fdfParser )parseString ()(*_cd .PdfObjectString ,error ){_abb ._fge .ReadByte ();var _agad _af .Buffer ;_ecf :=1;
for {_ebf ,_gedd :=_abb ._fge .Peek (1);if _gedd !=nil {return _cd .MakeString (_agad .String ()),_gedd ;};if _ebf [0]=='\\'{_abb ._fge .ReadByte ();_edd ,_aab :=_abb ._fge .ReadByte ();if _aab !=nil {return _cd .MakeString (_agad .String ()),_aab ;};if _cd .IsOctalDigit (_edd ){_bea ,_ef :=_abb ._fge .Peek (2);
if _ef !=nil {return _cd .MakeString (_agad .String ()),_ef ;};var _aca []byte ;_aca =append (_aca ,_edd );for _ ,_fdee :=range _bea {if _cd .IsOctalDigit (_fdee ){_aca =append (_aca ,_fdee );}else {break ;};};_abb ._fge .Discard (len (_aca )-1);_ec .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_aca );
_bgg ,_ef :=_fg .ParseUint (string (_aca ),8,32);if _ef !=nil {return _cd .MakeString (_agad .String ()),_ef ;};_agad .WriteByte (byte (_bgg ));continue ;};switch _edd {case 'n':_agad .WriteRune ('\n');case 'r':_agad .WriteRune ('\r');case 't':_agad .WriteRune ('\t');
case 'b':_agad .WriteRune ('\b');case 'f':_agad .WriteRune ('\f');case '(':_agad .WriteRune ('(');case ')':_agad .WriteRune (')');case '\\':_agad .WriteRune ('\\');};continue ;}else if _ebf [0]=='('{_ecf ++;}else if _ebf [0]==')'{_ecf --;if _ecf ==0{_abb ._fge .ReadByte ();
break ;};};_cdf ,_ :=_abb ._fge .ReadByte ();_agad .WriteByte (_cdf );};return _cd .MakeString (_agad .String ()),nil ;};func (_bbf *fdfParser )parseName ()(_cd .PdfObjectName ,error ){var _fac _af .Buffer ;_cba :=false ;for {_bcc ,_ggf :=_bbf ._fge .Peek (1);
if _ggf ==_ba .EOF {break ;};if _ggf !=nil {return _cd .PdfObjectName (_fac .String ()),_ggf ;};if !_cba {if _bcc [0]=='/'{_cba =true ;_bbf ._fge .ReadByte ();}else if _bcc [0]=='%'{_bbf .readComment ();_bbf .skipSpaces ();}else {_ec .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_bcc ,_bcc );
return _cd .PdfObjectName (_fac .String ()),_d .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_bcc [0]);};}else {if _cd .IsWhiteSpace (_bcc [0]){break ;}else if (_bcc [0]=='/')||(_bcc [0]=='[')||(_bcc [0]=='(')||(_bcc [0]==']')||(_bcc [0]=='<')||(_bcc [0]=='>'){break ;
}else if _bcc [0]=='#'{_dbf ,_gea :=_bbf ._fge .Peek (3);if _gea !=nil {return _cd .PdfObjectName (_fac .String ()),_gea ;};_bbf ._fge .Discard (3);_cf ,_gea :=_b .DecodeString (string (_dbf [1:3]));if _gea !=nil {return _cd .PdfObjectName (_fac .String ()),_gea ;
};_fac .Write (_cf );}else {_eda ,_ :=_bbf ._fge .ReadByte ();_fac .WriteByte (_eda );};};};return _cd .PdfObjectName (_fac .String ()),nil ;};func (_bbd *fdfParser )parseFdfVersion ()(int ,int ,error ){_bbd ._gdg .Seek (0,_ba .SeekStart );_gad :=20;_fee :=make ([]byte ,_gad );
_bbd ._gdg .Read (_fee );_ggb :=_ged .FindStringSubmatch (string (_fee ));if len (_ggb )< 3{_eff ,_fad ,_eef :=_bbd .seekFdfVersionTopDown ();if _eef !=nil {_ec .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");
return 0,0,_eef ;};return _eff ,_fad ,nil ;};_ggff ,_fff :=_fg .Atoi (_ggb [1]);if _fff !=nil {return 0,0,_fff ;};_fbcg ,_fff :=_fg .Atoi (_ggb [2]);if _fff !=nil {return 0,0,_fff ;};_ec .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_ggff ,_fbcg );
return _ggff ,_fbcg ,nil ;};func (_gbe *fdfParser )parseIndirectObject ()(_cd .PdfObject ,error ){_bfee :=_cd .PdfIndirectObject {};_ec .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_dge ,_cee :=_gbe ._fge .Peek (20);
if _cee !=nil {_ec .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");return &_bfee ,_cee ;};_ec .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_dge ));
_dce :=_cda .FindStringSubmatchIndex (string (_dge ));if len (_dce )< 6{_ec .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_dge ));
return &_bfee ,_f .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_gbe ._fge .Discard (_dce [0]);_ec .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_dce );_fdb :=_dce [1]-_dce [0];_daa :=make ([]byte ,_fdb );_ ,_cee =_gbe .readAtLeast (_daa ,_fdb );if _cee !=nil {_ec .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_cee );
return nil ,_cee ;};_ec .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_daa );_abg :=_cda .FindStringSubmatch (string (_daa ));if len (_abg )< 3{_ec .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_daa ));
return &_bfee ,_f .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_gfec ,_ :=_fg .Atoi (_abg [1]);_edde ,_ :=_fg .Atoi (_abg [2]);_bfee .ObjectNumber =int64 (_gfec );_bfee .GenerationNumber =int64 (_edde );for {_babc ,_gac :=_gbe ._fge .Peek (2);if _gac !=nil {return &_bfee ,_gac ;};_ec .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_babc ),string (_babc ));
if _cd .IsWhiteSpace (_babc [0]){_gbe .skipSpaces ();}else if _babc [0]=='%'{_gbe .skipComments ();}else if (_babc [0]=='<')&&(_babc [1]=='<'){_ec .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_bfee .PdfObject ,_gac =_gbe .parseDict ();
_ec .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_gac );if _gac !=nil {return &_bfee ,_gac ;};_ec .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_babc [0]=='/')||(_babc [0]=='(')||(_babc [0]=='[')||(_babc [0]=='<'){_bfee .PdfObject ,_gac =_gbe .parseObject ();if _gac !=nil {return &_bfee ,_gac ;};_ec .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _babc [0]=='e'{_dfb ,_bge :=_gbe .readTextLine ();if _bge !=nil {return nil ,_bge ;};if len (_dfb )>=6&&_dfb [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _babc [0]=='s'{_babc ,_ =_gbe ._fge .Peek (10);if string (_babc [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_deb :=6;
if len (_babc )> 6{if _cd .IsWhiteSpace (_babc [_deb ])&&_babc [_deb ]!='\r'&&_babc [_deb ]!='\n'{_ec .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_deb ++;};if _babc [_deb ]=='\r'{_deb ++;if _babc [_deb ]=='\n'{_deb ++;};}else if _babc [_deb ]=='\n'{_deb ++;};};_gbe ._fge .Discard (_deb );_aacca ,_bee :=_bfee .PdfObject .(*_cd .PdfObjectDictionary );if !_bee {return nil ,_f .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_ec .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_aacca );_bdcb ,_fgcd :=_aacca .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_cd .PdfObjectInteger );if !_fgcd {return nil ,_f .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_ede :=*_bdcb ;if _ede < 0{return nil ,_f .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_ede )> _gbe ._ag {_ec .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_f .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_ccd :=make ([]byte ,_ede );
_ ,_gac =_gbe .readAtLeast (_ccd ,int (_ede ));if _gac !=nil {_ec .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_ccd ),_ccd );_ec .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_gac );
return nil ,_gac ;};_afd :=_cd .PdfObjectStream {};_afd .Stream =_ccd ;_afd .PdfObjectDictionary =_bfee .PdfObject .(*_cd .PdfObjectDictionary );_afd .ObjectNumber =_bfee .ObjectNumber ;_afd .GenerationNumber =_bfee .GenerationNumber ;_gbe .skipSpaces ();
_gbe ._fge .Discard (9);_gbe .skipSpaces ();return &_afd ,nil ;};};_bfee .PdfObject ,_gac =_gbe .parseObject ();return &_bfee ,_gac ;};};_ec .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_bfee ,nil ;};func (_dc *fdfParser )readAtLeast (_ebc []byte ,_ab int )(int ,error ){_acf :=_ab ;_dcb :=0;_ge :=0;for _acf > 0{_fe ,_bfe :=_dc ._fge .Read (_ebc [_dcb :]);if _bfe !=nil {_ec .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_fe ,_ge ,_bfe .Error ());
return _dcb ,_f .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_ge ++;_dcb +=_fe ;_acf -=_fe ;};return _dcb ,nil ;};func (_aff *fdfParser )setFileOffset (_bg int64 ){_aff ._gdg .Seek (_bg ,_ba .SeekStart );_aff ._fge =_e .NewReader (_aff ._gdg );
};var _cb =_c .MustCompile ("\u0025\u0025\u0045O\u0046");func (_df *fdfParser )getFileOffset ()int64 {_adc ,_ :=_df ._gdg .Seek (0,_ba .SeekCurrent );_adc -=int64 (_df ._fge .Buffered ());return _adc ;};var _cbd =_c .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");
func (_gb *fdfParser )parseDict ()(*_cd .PdfObjectDictionary ,error ){_ec .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");_ggca :=_cd .MakeDict ();_cdce ,_ :=_gb ._fge .ReadByte ();if _cdce !='<'{return nil ,_f .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};_cdce ,_ =_gb ._fge .ReadByte ();if _cdce !='<'{return nil ,_f .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};for {_gb .skipSpaces ();_gb .skipComments ();_ebee ,_gaf :=_gb ._fge .Peek (2);if _gaf !=nil {return nil ,_gaf ;
};_ec .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_ebee ),string (_ebee ));if (_ebee [0]=='>')&&(_ebee [1]=='>'){_ec .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");
_gb ._fge .ReadByte ();_gb ._fge .ReadByte ();break ;};_ec .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");_fdf ,_gaf :=_gb .parseName ();_ec .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_fdf );if _gaf !=nil {_ec .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_gaf );
return nil ,_gaf ;};if len (_fdf )> 4&&_fdf [len (_fdf )-4:]=="\u006e\u0075\u006c\u006c"{_eag :=_fdf [0:len (_fdf )-4];_ec .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_fdf );
_ec .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_eag );_gb .skipSpaces ();_gef ,_ :=_gb ._fge .Peek (1);if _gef [0]=='/'{_ggca .Set (_eag ,_cd .MakeNull ());continue ;};};_gb .skipSpaces ();
_acd ,_gaf :=_gb .parseObject ();if _gaf !=nil {return nil ,_gaf ;};_ggca .Set (_fdf ,_acd );_ec .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_fdf ,_acd .String ());};_ec .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");
return _ggca ,nil ;};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_cd .PdfObjectDictionary ,error ){_cdc :=map[string ]*_cd .PdfObjectDictionary {};for _ca :=0;_ca < fdf ._fgf .Len ();_ca ++{_aac ,_fb :=_cd .GetDict (fdf ._fgf .Get (_ca ));if _fb {_dg ,_ :=_cd .GetString (_aac .Get ("\u0054"));
if _dg !=nil {_cdc [_dg .Str ()]=_aac ;};};};return _cdc ,nil ;};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_ac ,_aa :=_eb .Open (fdfPath );if _aa !=nil {return nil ,_aa ;};defer _ac .Close ();return Load (_ac );};func (_fde *fdfParser )parseNumber ()(_cd .PdfObject ,error ){return _cd .ParseNumber (_fde ._fge )};
var _bga =_c .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");func (_dbb *fdfParser )parseArray ()(*_cd .PdfObjectArray ,error ){_ebe :=_cd .MakeArray ();_dbb ._fge .ReadByte ();for {_dbb .skipSpaces ();
_dbbf ,_bfa :=_dbb ._fge .Peek (1);if _bfa !=nil {return _ebe ,_bfa ;};if _dbbf [0]==']'{_dbb ._fge .ReadByte ();break ;};_cg ,_bfa :=_dbb .parseObject ();if _bfa !=nil {return _ebe ,_bfa ;};_ebe .Append (_cg );};return _ebe ,nil ;};func _acb (_bda string )(*fdfParser ,error ){_aad :=fdfParser {};
_gfd :=[]byte (_bda );_egg :=_af .NewReader (_gfd );_aad ._gdg =_egg ;_aad ._dbd =map[int64 ]_cd .PdfObject {};_eeed :=_e .NewReader (_egg );_aad ._fge =_eeed ;_aad ._ag =int64 (len (_bda ));return &_aad ,_aad .parse ();};func (_ebdd *fdfParser )parseNull ()(_cd .PdfObjectNull ,error ){_ ,_fef :=_ebdd ._fge .Discard (4);
return _cd .PdfObjectNull {},_fef ;};func (_ddc *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_ddc ._gdg .Seek (0,_ba .SeekStart );_ddc ._fge =_e .NewReader (_ddc ._gdg );_cdag :=20;_fda :=make ([]byte ,_cdag );for {_fabf ,_acfg :=_ddc ._fge .ReadByte ();
if _acfg !=nil {if _acfg ==_ba .EOF {break ;}else {return 0,0,_acfg ;};};if _cd .IsDecimalDigit (_fabf )&&_fda [_cdag -1]=='.'&&_cd .IsDecimalDigit (_fda [_cdag -2])&&_fda [_cdag -3]=='-'&&_fda [_cdag -4]=='F'&&_fda [_cdag -5]=='D'&&_fda [_cdag -6]=='P'{_bgd :=int (_fda [_cdag -2]-'0');
_ecc :=int (_fabf -'0');return _bgd ,_ecc ,nil ;};_fda =append (_fda [1:_cdag ],_fabf );};return 0,0,_f .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};func (_de *fdfParser )parseHexString ()(*_cd .PdfObjectString ,error ){_de ._fge .ReadByte ();
var _bde _af .Buffer ;for {_da ,_ddf :=_de ._fge .Peek (1);if _ddf !=nil {return _cd .MakeHexString (""),_ddf ;};if _da [0]=='>'{_de ._fge .ReadByte ();break ;};_ccg ,_ :=_de ._fge .ReadByte ();if !_cd .IsWhiteSpace (_ccg ){_bde .WriteByte (_ccg );};};
if _bde .Len ()%2==1{_bde .WriteRune ('0');};_fcbg ,_dcf :=_b .DecodeString (_bde .String ());if _dcf !=nil {_ec .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_bde .String ());
return _cd .MakeHexString (""),nil ;};return _cd .MakeHexString (string (_fcbg )),nil ;};

// Root returns the Root of the FDF document.
func (_ae *fdfParser )Root ()(*_cd .PdfObjectDictionary ,error ){if _ae ._ea !=nil {if _caf ,_aba :=_ae .trace (_ae ._ea .Get ("\u0052\u006f\u006f\u0074")).(*_cd .PdfObjectDictionary );_aba {if _dad ,_dfbg :=_ae .trace (_caf .Get ("\u0046\u0044\u0046")).(*_cd .PdfObjectDictionary );
_dfbg {return _dad ,nil ;};};};var _bcfb []int64 ;for _ada :=range _ae ._dbd {_bcfb =append (_bcfb ,_ada );};_fgc .Slice (_bcfb ,func (_bdaf ,_fdc int )bool {return _bcfb [_bdaf ]< _bcfb [_fdc ]});for _ ,_bba :=range _bcfb {_dec :=_ae ._dbd [_bba ];if _adba ,_bbe :=_ae .trace (_dec ).(*_cd .PdfObjectDictionary );
_bbe {if _gge ,_gefc :=_ae .trace (_adba .Get ("\u0046\u0044\u0046")).(*_cd .PdfObjectDictionary );_gefc {return _gge ,nil ;};};};return nil ,_f .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};func (_cdfc *fdfParser )seekToEOFMarker (_fce int64 )error {_bcca :=int64 (0);
_efg :=int64 (1000);for _bcca < _fce {if _fce <=(_efg +_bcca ){_efg =_fce -_bcca ;};_ ,_dfe :=_cdfc ._gdg .Seek (-_bcca -_efg ,_ba .SeekEnd );if _dfe !=nil {return _dfe ;};_ceff :=make ([]byte ,_efg );_cdfc ._gdg .Read (_ceff );_ec .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_ceff ));
_bab :=_cb .FindAllStringIndex (string (_ceff ),-1);if _bab !=nil {_cfd :=_bab [len (_bab )-1];_ec .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_bab );_cdfc ._gdg .Seek (-_bcca -_efg +int64 (_cfd [0]),_ba .SeekEnd );return nil ;};_ec .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_bcca +=_efg ;};_ec .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _f .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};

// Load loads FDF form data from `r`.
func Load (r _ba .ReadSeeker )(*Data ,error ){_bf ,_bc :=_cgf (r );if _bc !=nil {return nil ,_bc ;};_ce ,_bc :=_bf .Root ();if _bc !=nil {return nil ,_bc ;};_db ,_gg :=_cd .GetArray (_ce .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_gg {return nil ,_f .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_fgf :_db ,_g :_ce },nil ;};func (_eea *fdfParser )trace (_gdf _cd .PdfObject )_cd .PdfObject {switch _age :=_gdf .(type ){case *_cd .PdfObjectReference :_gag ,_bae :=_eea ._dbd [_age .ObjectNumber ].(*_cd .PdfIndirectObject );if _bae {return _gag .PdfObject ;
};_ec .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_cd .PdfIndirectObject :return _age .PdfObject ;};return _gdf ;};

// Data represents forms data format (FDF) file data.
type Data struct{_g *_cd .PdfObjectDictionary ;_fgf *_cd .PdfObjectArray ;};

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_cd .PdfObject ,error ){_ced ,_fgb :=fdf .FieldDictionaries ();if _fgb !=nil {return nil ,_fgb ;};var _gc []string ;for _cc :=range _ced {_gc =append (_gc ,_cc );};_fgc .Strings (_gc );_dga :=map[string ]_cd .PdfObject {};
for _ ,_gd :=range _gc {_ccc :=_ced [_gd ];_gf :=_cd .TraceToDirectObject (_ccc .Get ("\u0056"));_dga [_gd ]=_gf ;};return _dga ,nil ;};type fdfParser struct{_fc int ;_gde int ;_dbd map[int64 ]_cd .PdfObject ;_gdg _ba .ReadSeeker ;_fge *_e .Reader ;_ag int64 ;
_ea *_cd .PdfObjectDictionary ;};func (_fada *fdfParser )parse ()error {_fada ._gdg .Seek (0,_ba .SeekStart );_fada ._fge =_e .NewReader (_fada ._gdg );for {_fada .skipComments ();_aaa ,_fab :=_fada ._fge .Peek (20);if _fab !=nil {_ec .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _fab ;};if _ad .HasPrefix (string (_aaa ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_fada ._fge .Discard (7);_fada .skipSpaces ();_fada .skipComments ();_dgf ,_ :=_fada .parseDict ();_fada ._ea =_dgf ;break ;};_adbc :=_cda .FindStringSubmatchIndex (string (_aaa ));
if len (_adbc )< 6{_ec .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_aaa ));
return _f .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_ebcd ,_fab :=_fada .parseIndirectObject ();if _fab !=nil {return _fab ;};switch _gaca :=_ebcd .(type ){case *_cd .PdfIndirectObject :_fada ._dbd [_gaca .ObjectNumber ]=_gaca ;case *_cd .PdfObjectStream :_fada ._dbd [_gaca .ObjectNumber ]=_gaca ;default:return _f .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
};};return nil ;};func (_cgd *fdfParser )parseObject ()(_cd .PdfObject ,error ){_ec .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");_cgd .skipSpaces ();for {_gfe ,_dbg :=_cgd ._fge .Peek (2);if _dbg !=nil {return nil ,_dbg ;
};_ec .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_gfe ));if _gfe [0]=='/'{_dag ,_bbb :=_cgd .parseName ();_ec .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_dag );
return &_dag ,_bbb ;}else if _gfe [0]=='('{_ec .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _cgd .parseString ();}else if _gfe [0]=='['{_ec .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");return _cgd .parseArray ();
}else if (_gfe [0]=='<')&&(_gfe [1]=='<'){_ec .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _cgd .parseDict ();}else if _gfe [0]=='<'{_ec .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");return _cgd .parseHexString ();
}else if _gfe [0]=='%'{_cgd .readComment ();_cgd .skipSpaces ();}else {_ec .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_gfe ,_ =_cgd ._fge .Peek (15);_fcd :=string (_gfe );_ec .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_fcd );
if (len (_fcd )> 3)&&(_fcd [:4]=="\u006e\u0075\u006c\u006c"){_baa ,_fbc :=_cgd .parseNull ();return &_baa ,_fbc ;}else if (len (_fcd )> 4)&&(_fcd [:5]=="\u0066\u0061\u006cs\u0065"){_dgc ,_dac :=_cgd .parseBool ();return &_dgc ,_dac ;}else if (len (_fcd )> 3)&&(_fcd [:4]=="\u0074\u0072\u0075\u0065"){_fcbd ,_eac :=_cgd .parseBool ();
return &_fcbd ,_eac ;};_fdg :=_ggc .FindStringSubmatch (_fcd );if len (_fdg )> 1{_gfe ,_ =_cgd ._fge .ReadBytes ('R');_ec .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_gfe [:]));_dbde ,_dbfc :=_ga (string (_gfe ));
return &_dbde ,_dbfc ;};_egd :=_bga .FindStringSubmatch (_fcd );if len (_egd )> 1{_ec .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _cgd .parseNumber ();};_egd =_cbd .FindStringSubmatch (_fcd );if len (_egd )> 1{_ec .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");
_ec .Log .Trace ("\u0025\u0020\u0073",_egd );return _cgd .parseNumber ();};_ec .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_fcd );return nil ,_f .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};func (_caa *fdfParser )skipComments ()error {if _ ,_gcc :=_caa .skipSpaces ();_gcc !=nil {return _gcc ;};_dd :=true ;for {_bdc ,_fa :=_caa ._fge .Peek (1);if _fa !=nil {_ec .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_fa .Error ());
return _fa ;};if _dd &&_bdc [0]!='%'{return nil ;};_dd =false ;if (_bdc [0]!='\r')&&(_bdc [0]!='\n'){_caa ._fge .ReadByte ();}else {break ;};};return _caa .skipComments ();};func _ga (_dfa string )(_cd .PdfObjectReference ,error ){_dba :=_cd .PdfObjectReference {};
_efe :=_ggc .FindStringSubmatch (_dfa );if len (_efe )< 3{_ec .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");return _dba ,_f .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");
};_fgeb ,_dgd :=_fg .Atoi (_efe [1]);if _dgd !=nil {_ec .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_efe [1]);
return _dba ,nil ;};_dba .ObjectNumber =int64 (_fgeb );_geag ,_dgd :=_fg .Atoi (_efe [2]);if _dgd !=nil {_ec .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_efe [2]);
return _dba ,nil ;};_dba .GenerationNumber =int64 (_geag );return _dba ,nil ;};func (_dde *fdfParser )readTextLine ()(string ,error ){var _aga _af .Buffer ;for {_ff ,_fag :=_dde ._fge .Peek (1);if _fag !=nil {_ec .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_fag .Error ());
return _aga .String (),_fag ;};if (_ff [0]!='\r')&&(_ff [0]!='\n'){_gca ,_ :=_dde ._fge .ReadByte ();_aga .WriteByte (_gca );}else {break ;};};return _aga .String (),nil ;};func _cgf (_beef _ba .ReadSeeker )(*fdfParser ,error ){_fdbc :=&fdfParser {};_fdbc ._gdg =_beef ;
_fdbc ._dbd =map[int64 ]_cd .PdfObject {};_ffc ,_ebca ,_cbc :=_fdbc .parseFdfVersion ();if _cbc !=nil {_ec .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_cbc );
return nil ,_cbc ;};_fdbc ._fc =_ffc ;_fdbc ._gde =_ebca ;_cbc =_fdbc .parse ();return _fdbc ,_cbc ;};