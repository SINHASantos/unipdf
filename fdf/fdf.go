//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_dg "bufio";_fb "bytes";_f "encoding/hex";_a "errors";_ba "fmt";_ce "github.com/unidoc/unipdf/v3/common";_ad "github.com/unidoc/unipdf/v3/core";_c "io";_g "os";_dd "regexp";_e "sort";_b "strconv";_da "strings";);var _cbc =_dd .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");
func _gagd (_eaae string )(*fdfParser ,error ){_gbe :=fdfParser {};_gcf :=[]byte (_eaae );_ceaa :=_fb .NewReader (_gcf );_gbe ._bed =_ceaa ;_gbe ._cg =map[int64 ]_ad .PdfObject {};_fge :=_dg .NewReader (_ceaa );_gbe ._cdcc =_fge ;_gbe ._gg =int64 (len (_eaae ));
return &_gbe ,_gbe .parse ();};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_ad .PdfObjectDictionary ,error ){_eb :=map[string ]*_ad .PdfObjectDictionary {};for _af :=0;_af < fdf ._adg .Len ();_af ++{_acd ,_fg :=_ad .GetDict (fdf ._adg .Get (_af ));if _fg {_ade ,_ :=_ad .GetString (_acd .Get ("\u0054"));
if _ade !=nil {_eb [_ade .Str ()]=_acd ;};};};return _eb ,nil ;};func (_acg *fdfParser )parseDict ()(*_ad .PdfObjectDictionary ,error ){_ce .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");
_ceb :=_ad .MakeDict ();_cec ,_ :=_acg ._cdcc .ReadByte ();if _cec !='<'{return nil ,_a .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_cec ,_ =_acg ._cdcc .ReadByte ();if _cec !='<'{return nil ,_a .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};for {_acg .skipSpaces ();_acg .skipComments ();_gdd ,_bcb :=_acg ._cdcc .Peek (2);if _bcb !=nil {return nil ,_bcb ;};_ce .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_gdd ),string (_gdd ));
if (_gdd [0]=='>')&&(_gdd [1]=='>'){_ce .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_acg ._cdcc .ReadByte ();_acg ._cdcc .ReadByte ();break ;};_ce .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");
_ecc ,_bcb :=_acg .parseName ();_ce .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_ecc );if _bcb !=nil {_ce .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_bcb );
return nil ,_bcb ;};if len (_ecc )> 4&&_ecc [len (_ecc )-4:]=="\u006e\u0075\u006c\u006c"{_gbg :=_ecc [0:len (_ecc )-4];_ce .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_ecc );
_ce .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_gbg );_acg .skipSpaces ();_bcag ,_ :=_acg ._cdcc .Peek (1);if _bcag [0]=='/'{_ceb .Set (_gbg ,_ad .MakeNull ());continue ;};};_acg .skipSpaces ();
_agd ,_bcb :=_acg .parseObject ();if _bcb !=nil {return nil ,_bcb ;};_ceb .Set (_ecc ,_agd );_ce .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_ecc ,_agd .String ());};_ce .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");
return _ceb ,nil ;};func (_age *fdfParser )parseFdfVersion ()(int ,int ,error ){_age ._bed .Seek (0,_c .SeekStart );_ggc :=20;_baff :=make ([]byte ,_ggc );_age ._bed .Read (_baff );_ebcc :=_gcd .FindStringSubmatch (string (_baff ));if len (_ebcc )< 3{_dcf ,_edb ,_fab :=_age .seekFdfVersionTopDown ();
if _fab !=nil {_ce .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");return 0,0,_fab ;
};return _dcf ,_edb ,nil ;};_ggb ,_aea :=_b .Atoi (_ebcc [1]);if _aea !=nil {return 0,0,_aea ;};_dbg ,_aea :=_b .Atoi (_ebcc [2]);if _aea !=nil {return 0,0,_aea ;};_ce .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_ggb ,_dbg );
return _ggb ,_dbg ,nil ;};var _gcd =_dd .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");var _ge =_dd .MustCompile ("\u0025\u0025\u0045O\u0046");func (_ab *fdfParser )setFileOffset (_fe int64 ){_ab ._bed .Seek (_fe ,_c .SeekStart );
_ab ._cdcc =_dg .NewReader (_ab ._bed );};func (_dab *fdfParser )skipSpaces ()(int ,error ){_ebc :=0;for {_aaf ,_ddad :=_dab ._cdcc .ReadByte ();if _ddad !=nil {return 0,_ddad ;};if _ad .IsWhiteSpace (_aaf ){_ebc ++;}else {_dab ._cdcc .UnreadByte ();break ;
};};return _ebc ,nil ;};func (_fd *fdfParser )readAtLeast (_ag []byte ,_fgg int )(int ,error ){_be :=_fgg ;_cea :=0;_ef :=0;for _be > 0{_ea ,_cc :=_fd ._cdcc .Read (_ag [_cea :]);if _cc !=nil {_ce .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_ea ,_ef ,_cc .Error ());
return _cea ,_a .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_ef ++;_cea +=_ea ;_be -=_ea ;};return _cea ,nil ;};func (_egbe *fdfParser )trace (_beb _ad .PdfObject )_ad .PdfObject {switch _cef :=_beb .(type ){case *_ad .PdfObjectReference :_cca ,_gfe :=_egbe ._cg [_cef .ObjectNumber ].(*_ad .PdfIndirectObject );
if _gfe {return _cca .PdfObject ;};_ce .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_ad .PdfIndirectObject :return _cef .PdfObject ;};return _beb ;};

// Data represents forms data format (FDF) file data.
type Data struct{_ac *_ad .PdfObjectDictionary ;_adg *_ad .PdfObjectArray ;};func (_aebd *fdfParser )parseBool ()(_ad .PdfObjectBool ,error ){_fggf ,_bcg :=_aebd ._cdcc .Peek (4);if _bcg !=nil {return _ad .PdfObjectBool (false ),_bcg ;};if (len (_fggf )>=4)&&(string (_fggf [:4])=="\u0074\u0072\u0075\u0065"){_aebd ._cdcc .Discard (4);
return _ad .PdfObjectBool (true ),nil ;};_fggf ,_bcg =_aebd ._cdcc .Peek (5);if _bcg !=nil {return _ad .PdfObjectBool (false ),_bcg ;};if (len (_fggf )>=5)&&(string (_fggf [:5])=="\u0066\u0061\u006cs\u0065"){_aebd ._cdcc .Discard (5);return _ad .PdfObjectBool (false ),nil ;
};return _ad .PdfObjectBool (false ),_a .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");};type fdfParser struct{_eae int ;_dde int ;_cg map[int64 ]_ad .PdfObject ;_bed _c .ReadSeeker ;
_cdcc *_dg .Reader ;_gg int64 ;_bb *_ad .PdfObjectDictionary ;};func (_fbe *fdfParser )parse ()error {_fbe ._bed .Seek (0,_c .SeekStart );_fbe ._cdcc =_dg .NewReader (_fbe ._bed );for {_fbe .skipComments ();_dbcf ,_ddd :=_fbe ._cdcc .Peek (20);if _ddd !=nil {_ce .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _ddd ;};if _da .HasPrefix (string (_dbcf ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_fbe ._cdcc .Discard (7);_fbe .skipSpaces ();_fbe .skipComments ();_bafg ,_ :=_fbe .parseDict ();_fbe ._bb =_bafg ;break ;};_geb :=_agc .FindStringSubmatchIndex (string (_dbcf ));
if len (_geb )< 6{_ce .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_dbcf ));
return _a .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_bdd ,_ddd :=_fbe .parseIndirectObject ();if _ddd !=nil {return _ddd ;};switch _ebag :=_bdd .(type ){case *_ad .PdfIndirectObject :_fbe ._cg [_ebag .ObjectNumber ]=_ebag ;case *_ad .PdfObjectStream :_fbe ._cg [_ebag .ObjectNumber ]=_ebag ;default:return _a .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
};};return nil ;};func (_gcdd *fdfParser )parseNumber ()(_ad .PdfObject ,error ){return _ad .ParseNumber (_gcdd ._cdcc )};func (_bac *fdfParser )parseArray ()(*_ad .PdfObjectArray ,error ){_beg :=_ad .MakeArray ();_bac ._cdcc .ReadByte ();for {_bac .skipSpaces ();
_bfe ,_acc :=_bac ._cdcc .Peek (1);if _acc !=nil {return _beg ,_acc ;};if _bfe [0]==']'{_bac ._cdcc .ReadByte ();break ;};_bd ,_acc :=_bac .parseObject ();if _acc !=nil {return _beg ,_acc ;};_beg .Append (_bd );};return _beg ,nil ;};func (_gca *fdfParser )readTextLine ()(string ,error ){var _bf _fb .Buffer ;
for {_fbb ,_adb :=_gca ._cdcc .Peek (1);if _adb !=nil {_ce .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_adb .Error ());return _bf .String (),_adb ;};if (_fbb [0]!='\r')&&(_fbb [0]!='\n'){_ff ,_ :=_gca ._cdcc .ReadByte ();_bf .WriteByte (_ff );
}else {break ;};};return _bf .String (),nil ;};func (_fcf *fdfParser )parseString ()(*_ad .PdfObjectString ,error ){_fcf ._cdcc .ReadByte ();var _agg _fb .Buffer ;_bg :=1;for {_dea ,_df :=_fcf ._cdcc .Peek (1);if _df !=nil {return _ad .MakeString (_agg .String ()),_df ;
};if _dea [0]=='\\'{_fcf ._cdcc .ReadByte ();_cae ,_afe :=_fcf ._cdcc .ReadByte ();if _afe !=nil {return _ad .MakeString (_agg .String ()),_afe ;};if _ad .IsOctalDigit (_cae ){_eac ,_fbbg :=_fcf ._cdcc .Peek (2);if _fbbg !=nil {return _ad .MakeString (_agg .String ()),_fbbg ;
};var _bgc []byte ;_bgc =append (_bgc ,_cae );for _ ,_dc :=range _eac {if _ad .IsOctalDigit (_dc ){_bgc =append (_bgc ,_dc );}else {break ;};};_fcf ._cdcc .Discard (len (_bgc )-1);_ce .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_bgc );
_eaf ,_fbbg :=_b .ParseUint (string (_bgc ),8,32);if _fbbg !=nil {return _ad .MakeString (_agg .String ()),_fbbg ;};_agg .WriteByte (byte (_eaf ));continue ;};switch _cae {case 'n':_agg .WriteRune ('\n');case 'r':_agg .WriteRune ('\r');case 't':_agg .WriteRune ('\t');
case 'b':_agg .WriteRune ('\b');case 'f':_agg .WriteRune ('\f');case '(':_agg .WriteRune ('(');case ')':_agg .WriteRune (')');case '\\':_agg .WriteRune ('\\');};continue ;}else if _dea [0]=='('{_bg ++;}else if _dea [0]==')'{_bg --;if _bg ==0{_fcf ._cdcc .ReadByte ();
break ;};};_dgb ,_ :=_fcf ._cdcc .ReadByte ();_agg .WriteByte (_dgb );};return _ad .MakeString (_agg .String ()),nil ;};func (_efe *fdfParser )parseIndirectObject ()(_ad .PdfObject ,error ){_bge :=_ad .PdfIndirectObject {};_ce .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");
_ace ,_ddg :=_efe ._cdcc .Peek (20);if _ddg !=nil {_ce .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return &_bge ,_ddg ;};_ce .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_ace ));_def :=_agc .FindStringSubmatchIndex (string (_ace ));if len (_def )< 6{_ce .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_ace ));
return &_bge ,_a .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_efe ._cdcc .Discard (_def [0]);_ce .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_def );_ged :=_def [1]-_def [0];_cgd :=make ([]byte ,_ged );_ ,_ddg =_efe .readAtLeast (_cgd ,_ged );if _ddg !=nil {_ce .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_ddg );
return nil ,_ddg ;};_ce .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_cgd );_gab :=_agc .FindStringSubmatch (string (_cgd ));if len (_gab )< 3{_ce .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_cgd ));
return &_bge ,_a .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_ffg ,_ :=_b .Atoi (_gab [1]);_dce ,_ :=_b .Atoi (_gab [2]);_bge .ObjectNumber =int64 (_ffg );_bge .GenerationNumber =int64 (_dce );for {_cfb ,_bffa :=_efe ._cdcc .Peek (2);if _bffa !=nil {return &_bge ,_bffa ;};_ce .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_cfb ),string (_cfb ));
if _ad .IsWhiteSpace (_cfb [0]){_efe .skipSpaces ();}else if _cfb [0]=='%'{_efe .skipComments ();}else if (_cfb [0]=='<')&&(_cfb [1]=='<'){_ce .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_bge .PdfObject ,_bffa =_efe .parseDict ();
_ce .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_bffa );if _bffa !=nil {return &_bge ,_bffa ;};_ce .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_cfb [0]=='/')||(_cfb [0]=='(')||(_cfb [0]=='[')||(_cfb [0]=='<'){_bge .PdfObject ,_bffa =_efe .parseObject ();if _bffa !=nil {return &_bge ,_bffa ;};_ce .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _cfb [0]=='e'{_dcfg ,_eba :=_efe .readTextLine ();if _eba !=nil {return nil ,_eba ;};if len (_dcfg )>=6&&_dcfg [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _cfb [0]=='s'{_cfb ,_ =_efe ._cdcc .Peek (10);if string (_cfb [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_ecfd :=6;
if len (_cfb )> 6{if _ad .IsWhiteSpace (_cfb [_ecfd ])&&_cfb [_ecfd ]!='\r'&&_cfb [_ecfd ]!='\n'{_ce .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_ecfd ++;};if _cfb [_ecfd ]=='\r'{_ecfd ++;if _cfb [_ecfd ]=='\n'{_ecfd ++;};}else if _cfb [_ecfd ]=='\n'{_ecfd ++;};};_efe ._cdcc .Discard (_ecfd );_eee ,_gcae :=_bge .PdfObject .(*_ad .PdfObjectDictionary );if !_gcae {return nil ,_a .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_ce .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_eee );_bfee ,_cafg :=_eee .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_ad .PdfObjectInteger );if !_cafg {return nil ,_a .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_bgef :=*_bfee ;if _bgef < 0{return nil ,_a .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_bgef )> _efe ._gg {_ce .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_a .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_eccc :=make ([]byte ,_bgef );
_ ,_bffa =_efe .readAtLeast (_eccc ,int (_bgef ));if _bffa !=nil {_ce .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_eccc ),_eccc );_ce .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_bffa );
return nil ,_bffa ;};_ddf :=_ad .PdfObjectStream {};_ddf .Stream =_eccc ;_ddf .PdfObjectDictionary =_bge .PdfObject .(*_ad .PdfObjectDictionary );_ddf .ObjectNumber =_bge .ObjectNumber ;_ddf .GenerationNumber =_bge .GenerationNumber ;_efe .skipSpaces ();
_efe ._cdcc .Discard (9);_efe .skipSpaces ();return &_ddf ,nil ;};};_bge .PdfObject ,_bffa =_efe .parseObject ();return &_bge ,_bffa ;};};_ce .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_bge ,nil ;};func (_baf *fdfParser )parseHexString ()(*_ad .PdfObjectString ,error ){_baf ._cdcc .ReadByte ();var _fdd _fb .Buffer ;for {_dbb ,_bea :=_baf ._cdcc .Peek (1);if _bea !=nil {return _ad .MakeHexString (""),_bea ;};if _dbb [0]=='>'{_baf ._cdcc .ReadByte ();
break ;};_dfd ,_ :=_baf ._cdcc .ReadByte ();if !_ad .IsWhiteSpace (_dfd ){_fdd .WriteByte (_dfd );};};if _fdd .Len ()%2==1{_fdd .WriteRune ('0');};_fgf ,_ffad :=_f .DecodeString (_fdd .String ());if _ffad !=nil {_ce .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_fdd .String ());
return _ad .MakeHexString (""),nil ;};return _ad .MakeHexString (string (_fgf )),nil ;};var _agc =_dd .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");func (_ebb *fdfParser )parseName ()(_ad .PdfObjectName ,error ){var _adf _fb .Buffer ;
_edg :=false ;for {_ffa ,_fga :=_ebb ._cdcc .Peek (1);if _fga ==_c .EOF {break ;};if _fga !=nil {return _ad .PdfObjectName (_adf .String ()),_fga ;};if !_edg {if _ffa [0]=='/'{_edg =true ;_ebb ._cdcc .ReadByte ();}else if _ffa [0]=='%'{_ebb .readComment ();
_ebb .skipSpaces ();}else {_ce .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_ffa ,_ffa );return _ad .PdfObjectName (_adf .String ()),_ba .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_ffa [0]);
};}else {if _ad .IsWhiteSpace (_ffa [0]){break ;}else if (_ffa [0]=='/')||(_ffa [0]=='[')||(_ffa [0]=='(')||(_ffa [0]==']')||(_ffa [0]=='<')||(_ffa [0]=='>'){break ;}else if _ffa [0]=='#'{_bc ,_bee :=_ebb ._cdcc .Peek (3);if _bee !=nil {return _ad .PdfObjectName (_adf .String ()),_bee ;
};_ebb ._cdcc .Discard (3);_cgb ,_bee :=_f .DecodeString (string (_bc [1:3]));if _bee !=nil {return _ad .PdfObjectName (_adf .String ()),_bee ;};_adf .Write (_cgb );}else {_gba ,_ :=_ebb ._cdcc .ReadByte ();_adf .WriteByte (_gba );};};};return _ad .PdfObjectName (_adf .String ()),nil ;
};func (_cdb *fdfParser )readComment ()(string ,error ){var _gga _fb .Buffer ;_ ,_aee :=_cdb .skipSpaces ();if _aee !=nil {return _gga .String (),_aee ;};_eda :=true ;for {_ded ,_ggag :=_cdb ._cdcc .Peek (1);if _ggag !=nil {_ce .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_ggag .Error ());
return _gga .String (),_ggag ;};if _eda &&_ded [0]!='%'{return _gga .String (),_a .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");};_eda =false ;if (_ded [0]!='\r')&&(_ded [0]!='\n'){_ee ,_ :=_cdb ._cdcc .ReadByte ();
_gga .WriteByte (_ee );}else {break ;};};return _gga .String (),nil ;};var _efg =_dd .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");func (_cdbg *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_cdbg ._bed .Seek (0,_c .SeekStart );
_cdbg ._cdcc =_dg .NewReader (_cdbg ._bed );_ecfg :=20;_aca :=make ([]byte ,_ecfg );for {_fbc ,_aead :=_cdbg ._cdcc .ReadByte ();if _aead !=nil {if _aead ==_c .EOF {break ;}else {return 0,0,_aead ;};};if _ad .IsDecimalDigit (_fbc )&&_aca [_ecfg -1]=='.'&&_ad .IsDecimalDigit (_aca [_ecfg -2])&&_aca [_ecfg -3]=='-'&&_aca [_ecfg -4]=='F'&&_aca [_ecfg -5]=='D'&&_aca [_ecfg -6]=='P'{_aff :=int (_aca [_ecfg -2]-'0');
_gfc :=int (_fbc -'0');return _aff ,_gfc ,nil ;};_aca =append (_aca [1:_ecfg ],_fbc );};return 0,0,_a .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};func _fgb (_gec string )(_ad .PdfObjectReference ,error ){_cbf :=_ad .PdfObjectReference {};
_gbc :=_ca .FindStringSubmatch (_gec );if len (_gbc )< 3{_ce .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");return _cbf ,_a .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");
};_eaa ,_eg :=_b .Atoi (_gbc [1]);if _eg !=nil {_ce .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_gbc [1]);
return _cbf ,nil ;};_cbf .ObjectNumber =int64 (_eaa );_aaa ,_eg :=_b .Atoi (_gbc [2]);if _eg !=nil {_ce .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_gbc [2]);
return _cbf ,nil ;};_cbf .GenerationNumber =int64 (_aaa );return _cbf ,nil ;};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_gc ,_cd :=_g .Open (fdfPath );if _cd !=nil {return nil ,_cd ;};defer _gc .Close ();return Load (_gc );};func _afg (_ggd _c .ReadSeeker )(*fdfParser ,error ){_cdab :=&fdfParser {};_cdab ._bed =_ggd ;_cdab ._cg =map[int64 ]_ad .PdfObject {};
_fgcg ,_eag ,_cfa :=_cdab .parseFdfVersion ();if _cfa !=nil {_ce .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_cfa );return nil ,_cfa ;};_cdab ._eae =_fgcg ;
_cdab ._dde =_eag ;_cfa =_cdab .parse ();return _cdab ,_cfa ;};

// Root returns the Root of the FDF document.
func (_gfb *fdfParser )Root ()(*_ad .PdfObjectDictionary ,error ){if _gfb ._bb !=nil {if _fcaa ,_egb :=_gfb .trace (_gfb ._bb .Get ("\u0052\u006f\u006f\u0074")).(*_ad .PdfObjectDictionary );_egb {if _cebb ,_aeeg :=_gfb .trace (_fcaa .Get ("\u0046\u0044\u0046")).(*_ad .PdfObjectDictionary );
_aeeg {return _cebb ,nil ;};};};var _caa []int64 ;for _dae :=range _gfb ._cg {_caa =append (_caa ,_dae );};_e .Slice (_caa ,func (_dbe ,_ggg int )bool {return _caa [_dbe ]< _caa [_ggg ]});for _ ,_dgd :=range _caa {_ega :=_gfb ._cg [_dgd ];if _dbge ,_aag :=_gfb .trace (_ega ).(*_ad .PdfObjectDictionary );
_aag {if _cda ,_bgg :=_gfb .trace (_dbge .Get ("\u0046\u0044\u0046")).(*_ad .PdfObjectDictionary );_bgg {return _cda ,nil ;};};};return nil ,_a .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_ad .PdfObject ,error ){_db ,_aa :=fdf .FieldDictionaries ();if _aa !=nil {return nil ,_aa ;};var _de []string ;for _gd :=range _db {_de =append (_de ,_gd );};_e .Strings (_de );_ae :=map[string ]_ad .PdfObject {};
for _ ,_cdc :=range _de {_ecf :=_db [_cdc ];_fca :=_ad .TraceToDirectObject (_ecf .Get ("\u0056"));_ae [_cdc ]=_fca ;};return _ae ,nil ;};func (_dac *fdfParser )skipComments ()error {if _ ,_gf :=_dac .skipSpaces ();_gf !=nil {return _gf ;};_ada :=true ;
for {_cgc ,_ebf :=_dac ._cdcc .Peek (1);if _ebf !=nil {_ce .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_ebf .Error ());return _ebf ;};if _ada &&_cgc [0]!='%'{return nil ;};_ada =false ;if (_cgc [0]!='\r')&&(_cgc [0]!='\n'){_dac ._cdcc .ReadByte ();
}else {break ;};};return _dac .skipComments ();};

// Load loads FDF form data from `r`.
func Load (r _c .ReadSeeker )(*Data ,error ){_fa ,_cf :=_afg (r );if _cf !=nil {return nil ,_cf ;};_fae ,_cf :=_fa .Root ();if _cf !=nil {return nil ,_cf ;};_ed ,_ceg :=_ad .GetArray (_fae .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_ceg {return nil ,_a .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_adg :_ed ,_ac :_fae },nil ;};func (_add *fdfParser )seekToEOFMarker (_bcc int64 )error {_cfge :=int64 (0);_efgf :=int64 (1000);for _cfge < _bcc {if _bcc <=(_efgf +_cfge ){_efgf =_bcc -_cfge ;};_ ,_ece :=_add ._bed .Seek (-_cfge -_efgf ,_c .SeekEnd );
if _ece !=nil {return _ece ;};_bcd :=make ([]byte ,_efgf );_add ._bed .Read (_bcd );_ce .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_bcd ));
_ggae :=_ge .FindAllStringIndex (string (_bcd ),-1);if _ggae !=nil {_accg :=_ggae [len (_ggae )-1];_ce .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_ggae );_add ._bed .Seek (-_cfge -_efgf +int64 (_accg [0]),_c .SeekEnd );return nil ;
};_ce .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_cfge +=_efgf ;};_ce .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _a .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};func (_ced *fdfParser )getFileOffset ()int64 {_gb ,_ :=_ced ._bed .Seek (0,_c .SeekCurrent );_gb -=int64 (_ced ._cdcc .Buffered ());return _gb ;};var _ca =_dd .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");
func (_cbd *fdfParser )parseNull ()(_ad .PdfObjectNull ,error ){_ ,_gfd :=_cbd ._cdcc .Discard (4);return _ad .PdfObjectNull {},_gfd ;};func (_cgcg *fdfParser )parseObject ()(_ad .PdfObject ,error ){_ce .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");
_cgcg .skipSpaces ();for {_ffb ,_fbd :=_cgcg ._cdcc .Peek (2);if _fbd !=nil {return nil ,_fbd ;};_ce .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_ffb ));if _ffb [0]=='/'{_becf ,_fgbc :=_cgcg .parseName ();
_ce .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_becf );return &_becf ,_fgbc ;}else if _ffb [0]=='('{_ce .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _cgcg .parseString ();}else if _ffb [0]=='['{_ce .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");
return _cgcg .parseArray ();}else if (_ffb [0]=='<')&&(_ffb [1]=='<'){_ce .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _cgcg .parseDict ();}else if _ffb [0]=='<'{_ce .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");
return _cgcg .parseHexString ();}else if _ffb [0]=='%'{_cgcg .readComment ();_cgcg .skipSpaces ();}else {_ce .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_ffb ,_ =_cgcg ._cdcc .Peek (15);_cfg :=string (_ffb );
_ce .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_cfg );if (len (_cfg )> 3)&&(_cfg [:4]=="\u006e\u0075\u006c\u006c"){_gdg ,_fcd :=_cgcg .parseNull ();return &_gdg ,_fcd ;}else if (len (_cfg )> 4)&&(_cfg [:5]=="\u0066\u0061\u006cs\u0065"){_ga ,_ffag :=_cgcg .parseBool ();
return &_ga ,_ffag ;}else if (len (_cfg )> 3)&&(_cfg [:4]=="\u0074\u0072\u0075\u0065"){_faf ,_cagge :=_cgcg .parseBool ();return &_faf ,_cagge ;};_dbc :=_ca .FindStringSubmatch (_cfg );if len (_dbc )> 1{_ffb ,_ =_cgcg ._cdcc .ReadBytes ('R');_ce .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_ffb [:]));
_fbbe ,_bfg :=_fgb (string (_ffb ));return &_fbbe ,_bfg ;};_eaec :=_efg .FindStringSubmatch (_cfg );if len (_eaec )> 1{_ce .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _cgcg .parseNumber ();};_eaec =_cbc .FindStringSubmatch (_cfg );
if len (_eaec )> 1{_ce .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_ce .Log .Trace ("\u0025\u0020\u0073",_eaec );return _cgcg .parseNumber ();};_ce .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_cfg );
return nil ,_a .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};