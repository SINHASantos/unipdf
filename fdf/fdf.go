//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_af "bufio";_ae "bytes";_ed "encoding/hex";_a "errors";_fg "fmt";_fa "github.com/unidoc/unipdf/v3/common";_ac "github.com/unidoc/unipdf/v3/core";_c "io";_g "os";_fd "regexp";_ff "sort";_ad "strconv";_f "strings";);func (_gd *fdfParser )readTextLine ()(string ,error ){var _cdg _ae .Buffer ;
for {_ba ,_ccc :=_gd ._be .Peek (1);if _ccc !=nil {_fa .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_ccc .Error ());return _cdg .String (),_ccc ;};if (_ba [0]!='\r')&&(_ba [0]!='\n'){_fge ,_ :=_gd ._be .ReadByte ();_cdg .WriteByte (_fge );
}else {break ;};};return _cdg .String (),nil ;};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_ac .PdfObjectDictionary ,error ){_b :=map[string ]*_ac .PdfObjectDictionary {};for _ef :=0;_ef < fdf ._cd .Len ();_ef ++{_bc ,_dg :=_ac .GetDict (fdf ._cd .Get (_ef ));if _dg {_eff ,_ :=_ac .GetString (_bc .Get ("\u0054"));
if _eff !=nil {_b [_eff .Str ()]=_bc ;};};};return _b ,nil ;};var _ade =_fd .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_acc ,_ffg :=_g .Open (fdfPath );if _ffg !=nil {return nil ,_ffg ;};defer _acc .Close ();return Load (_acc );};func (_cf *fdfParser )skipComments ()error {if _ ,_fe :=_cf .skipSpaces ();_fe !=nil {return _fe ;
};_fdb :=true ;for {_fed ,_ge :=_cf ._be .Peek (1);if _ge !=nil {_fa .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_ge .Error ());return _ge ;};if _fdb &&_fed [0]!='%'{return nil ;};_fdb =false ;if (_fed [0]!='\r')&&(_fed [0]!='\n'){_cf ._be .ReadByte ();
}else {break ;};};return _cf .skipComments ();};var _gf =_fd .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");func (_dgef *fdfParser )parseDict ()(*_ac .PdfObjectDictionary ,error ){_fa .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");
_ggc :=_ac .MakeDict ();_bdgc ,_ :=_dgef ._be .ReadByte ();if _bdgc !='<'{return nil ,_a .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_bdgc ,_ =_dgef ._be .ReadByte ();if _bdgc !='<'{return nil ,_a .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};for {_dgef .skipSpaces ();_dgef .skipComments ();_fcf ,_fab :=_dgef ._be .Peek (2);if _fab !=nil {return nil ,_fab ;};_fa .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_fcf ),string (_fcf ));
if (_fcf [0]=='>')&&(_fcf [1]=='>'){_fa .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_dgef ._be .ReadByte ();_dgef ._be .ReadByte ();break ;};_fa .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");
_ec ,_fab :=_dgef .parseName ();_fa .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_ec );if _fab !=nil {_fa .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_fab );
return nil ,_fab ;};if len (_ec )> 4&&_ec [len (_ec )-4:]=="\u006e\u0075\u006c\u006c"{_bgc :=_ec [0:len (_ec )-4];_fa .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_ec );
_fa .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_bgc );_dgef .skipSpaces ();_cagd ,_ :=_dgef ._be .Peek (1);if _cagd [0]=='/'{_ggc .Set (_bgc ,_ac .MakeNull ());continue ;};};_dgef .skipSpaces ();
_aeg ,_fab :=_dgef .parseObject ();if _fab !=nil {return nil ,_fab ;};_ggc .Set (_ec ,_aeg );_fa .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_ec ,_aeg .String ());};_fa .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");
return _ggc ,nil ;};func (_bfb *fdfParser )parseObject ()(_ac .PdfObject ,error ){_fa .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");_bfb .skipSpaces ();for {_add ,_acfa :=_bfb ._be .Peek (2);if _acfa !=nil {return nil ,_acfa ;
};_fa .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_add ));if _add [0]=='/'{_eac ,_fda :=_bfb .parseName ();_fa .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_eac );
return &_eac ,_fda ;}else if _add [0]=='('{_fa .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _bfb .parseString ();}else if _add [0]=='['{_fa .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");return _bfb .parseArray ();
}else if (_add [0]=='<')&&(_add [1]=='<'){_fa .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _bfb .parseDict ();}else if _add [0]=='<'{_fa .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");return _bfb .parseHexString ();
}else if _add [0]=='%'{_bfb .readComment ();_bfb .skipSpaces ();}else {_fa .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_add ,_ =_bfb ._be .Peek (15);_eega :=string (_add );_fa .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_eega );
if (len (_eega )> 3)&&(_eega [:4]=="\u006e\u0075\u006c\u006c"){_dgb ,_dcg :=_bfb .parseNull ();return &_dgb ,_dcg ;}else if (len (_eega )> 4)&&(_eega [:5]=="\u0066\u0061\u006cs\u0065"){_egb ,_eabe :=_bfb .parseBool ();return &_egb ,_eabe ;}else if (len (_eega )> 3)&&(_eega [:4]=="\u0074\u0072\u0075\u0065"){_abb ,_cba :=_bfb .parseBool ();
return &_abb ,_cba ;};_eefd :=_gf .FindStringSubmatch (_eega );if len (_eefd )> 1{_add ,_ =_bfb ._be .ReadBytes ('R');_fa .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_add [:]));_caa ,_dfa :=_gcdc (string (_add ));
return &_caa ,_dfa ;};_bgaa :=_gad .FindStringSubmatch (_eega );if len (_bgaa )> 1{_fa .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _bfb .parseNumber ();};_bgaa =_cg .FindStringSubmatch (_eega );if len (_bgaa )> 1{_fa .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");
_fa .Log .Trace ("\u0025\u0020\u0073",_bgaa );return _bfb .parseNumber ();};_fa .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_eega );return nil ,_a .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};

// Data represents forms data format (FDF) file data.
type Data struct{_d *_ac .PdfObjectDictionary ;_cd *_ac .PdfObjectArray ;};

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_ac .PdfObject ,error ){_bd ,_bdg :=fdf .FieldDictionaries ();if _bdg !=nil {return nil ,_bdg ;};var _ab []string ;for _ca :=range _bd {_ab =append (_ab ,_ca );};_ff .Strings (_ab );_fce :=map[string ]_ac .PdfObject {};
for _ ,_acca :=range _ab {_ce :=_bd [_acca ];_eg :=_ac .TraceToDirectObject (_ce .Get ("\u0056"));_fce [_acca ]=_eg ;};return _fce ,nil ;};var _gad =_fd .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");
func (_fbd *fdfParser )parseArray ()(*_ac .PdfObjectArray ,error ){_dge :=_ac .MakeArray ();_fbd ._be .ReadByte ();for {_fbd .skipSpaces ();_fbag ,_aaaa :=_fbd ._be .Peek (1);if _aaaa !=nil {return _dge ,_aaaa ;};if _fbag [0]==']'{_fbd ._be .ReadByte ();
break ;};_fea ,_aaaa :=_fbd .parseObject ();if _aaaa !=nil {return _dge ,_aaaa ;};_dge .Append (_fea );};return _dge ,nil ;};var _cg =_fd .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");
func _gfcb (_afa string )(*fdfParser ,error ){_ecb :=fdfParser {};_aac :=[]byte (_afa );_eafa :=_ae .NewReader (_aac );_ecb ._ee =_eafa ;_ecb ._agf =map[int64 ]_ac .PdfObject {};_gcdd :=_af .NewReader (_eafa );_ecb ._be =_gcdd ;_ecb ._db =int64 (len (_afa ));
return &_ecb ,_ecb .parse ();};var _gb =_fd .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");func (_beb *fdfParser )parseString ()(*_ac .PdfObjectString ,error ){_beb ._be .ReadByte ();var _fagf _ae .Buffer ;
_ffgf :=1;for {_ceg ,_dac :=_beb ._be .Peek (1);if _dac !=nil {return _ac .MakeString (_fagf .String ()),_dac ;};if _ceg [0]=='\\'{_beb ._be .ReadByte ();_gff ,_cgd :=_beb ._be .ReadByte ();if _cgd !=nil {return _ac .MakeString (_fagf .String ()),_cgd ;
};if _ac .IsOctalDigit (_gff ){_fged ,_bee :=_beb ._be .Peek (2);if _bee !=nil {return _ac .MakeString (_fagf .String ()),_bee ;};var _ccf []byte ;_ccf =append (_ccf ,_gff );for _ ,_dgf :=range _fged {if _ac .IsOctalDigit (_dgf ){_ccf =append (_ccf ,_dgf );
}else {break ;};};_beb ._be .Discard (len (_ccf )-1);_fa .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_ccf );_cb ,_bee :=_ad .ParseUint (string (_ccf ),8,32);if _bee !=nil {return _ac .MakeString (_fagf .String ()),_bee ;
};_fagf .WriteByte (byte (_cb ));continue ;};switch _gff {case 'n':_fagf .WriteRune ('\n');case 'r':_fagf .WriteRune ('\r');case 't':_fagf .WriteRune ('\t');case 'b':_fagf .WriteRune ('\b');case 'f':_fagf .WriteRune ('\f');case '(':_fagf .WriteRune ('(');
case ')':_fagf .WriteRune (')');case '\\':_fagf .WriteRune ('\\');};continue ;}else if _ceg [0]=='('{_ffgf ++;}else if _ceg [0]==')'{_ffgf --;if _ffgf ==0{_beb ._be .ReadByte ();break ;};};_eafb ,_ :=_beb ._be .ReadByte ();_fagf .WriteByte (_eafb );};return _ac .MakeString (_fagf .String ()),nil ;
};func (_agc *fdfParser )seekToEOFMarker (_eefe int64 )error {_efgd :=int64 (0);_edgg :=int64 (1000);for _efgd < _eefe {if _eefe <=(_edgg +_efgd ){_edgg =_eefe -_efgd ;};_ ,_afe :=_agc ._ee .Seek (-_efgd -_edgg ,_c .SeekEnd );if _afe !=nil {return _afe ;
};_afg :=make ([]byte ,_edgg );_agc ._ee .Read (_afg );_fa .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_afg ));_bfaf :=_edd .FindAllStringIndex (string (_afg ),-1);
if _bfaf !=nil {_ebf :=_bfaf [len (_bfaf )-1];_fa .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_bfaf );_agc ._ee .Seek (-_efgd -_edgg +int64 (_ebf [0]),_c .SeekEnd );return nil ;};_fa .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_efgd +=_edgg ;};_fa .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _a .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};func (_bga *fdfParser )getFileOffset ()int64 {_ag ,_ :=_bga ._ee .Seek (0,_c .SeekCurrent );_ag -=int64 (_bga ._be .Buffered ());return _ag ;};

// Load loads FDF form data from `r`.
func Load (r _c .ReadSeeker )(*Data ,error ){_fb ,_ga :=_eba (r );if _ga !=nil {return nil ,_ga ;};_fba ,_ga :=_fb .Root ();if _ga !=nil {return nil ,_ga ;};_fc ,_aa :=_ac .GetArray (_fba .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_aa {return nil ,_a .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_cd :_fc ,_d :_fba },nil ;};func (_aaf *fdfParser )setFileOffset (_acd int64 ){_aaf ._ee .Seek (_acd ,_c .SeekStart );_aaf ._be =_af .NewReader (_aaf ._ee );};func (_aca *fdfParser )parseFdfVersion ()(int ,int ,error ){_aca ._ee .Seek (0,_c .SeekStart );
_aef :=20;_bdea :=make ([]byte ,_aef );_aca ._ee .Read (_bdea );_gfc :=_gb .FindStringSubmatch (string (_bdea ));if len (_gfc )< 3{_cdgb ,_cbab ,_feg :=_aca .seekFdfVersionTopDown ();if _feg !=nil {_fa .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");
return 0,0,_feg ;};return _cdgb ,_cbab ,nil ;};_fcad ,_eaaf :=_ad .Atoi (_gfc [1]);if _eaaf !=nil {return 0,0,_eaaf ;};_bfa ,_eaaf :=_ad .Atoi (_gfc [2]);if _eaaf !=nil {return 0,0,_eaaf ;};_fa .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_fcad ,_bfa );
return _fcad ,_bfa ,nil ;};

// Root returns the Root of the FDF document.
func (_fga *fdfParser )Root ()(*_ac .PdfObjectDictionary ,error ){if _fga ._bceg !=nil {if _adgbf ,_ffgc :=_fga .trace (_fga ._bceg .Get ("\u0052\u006f\u006f\u0074")).(*_ac .PdfObjectDictionary );_ffgc {if _afaf ,_dbc :=_fga .trace (_adgbf .Get ("\u0046\u0044\u0046")).(*_ac .PdfObjectDictionary );
_dbc {return _afaf ,nil ;};};};var _effb []int64 ;for _ddg :=range _fga ._agf {_effb =append (_effb ,_ddg );};_ff .Slice (_effb ,func (_aee ,_dgba int )bool {return _effb [_aee ]< _effb [_dgba ]});for _ ,_ecbd :=range _effb {_debf :=_fga ._agf [_ecbd ];
if _bgab ,_abf :=_fga .trace (_debf ).(*_ac .PdfObjectDictionary );_abf {if _ebeg ,_cff :=_fga .trace (_bgab .Get ("\u0046\u0044\u0046")).(*_ac .PdfObjectDictionary );_cff {return _ebeg ,nil ;};};};return nil ,_a .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};func (_gc *fdfParser )readComment ()(string ,error ){var _de _ae .Buffer ;_ ,_gbc :=_gc .skipSpaces ();if _gbc !=nil {return _de .String (),_gbc ;};_fdf :=true ;for {_daa ,_eaf :=_gc ._be .Peek (1);if _eaf !=nil {_fa .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_eaf .Error ());
return _de .String (),_eaf ;};if _fdf &&_daa [0]!='%'{return _de .String (),_a .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");};_fdf =false ;if (_daa [0]!='\r')&&(_daa [0]!='\n'){_gg ,_ :=_gc ._be .ReadByte ();
_de .WriteByte (_gg );}else {break ;};};return _de .String (),nil ;};func (_gfaa *fdfParser )parseIndirectObject ()(_ac .PdfObject ,error ){_gedc :=_ac .PdfIndirectObject {};_fa .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");
_edea ,_fgcg :=_gfaa ._be .Peek (20);if _fgcg !=nil {_fa .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return &_gedc ,_fgcg ;};_fa .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_edea ));_ccd :=_ade .FindStringSubmatchIndex (string (_edea ));if len (_ccd )< 6{_fa .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_edea ));
return &_gedc ,_a .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_gfaa ._be .Discard (_ccd [0]);_fa .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_ccd );_gfg :=_ccd [1]-_ccd [0];_bfe :=make ([]byte ,_gfg );_ ,_fgcg =_gfaa .readAtLeast (_bfe ,_gfg );if _fgcg !=nil {_fa .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_fgcg );
return nil ,_fgcg ;};_fa .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_bfe );_bfg :=_ade .FindStringSubmatch (string (_bfe ));if len (_bfg )< 3{_fa .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_bfe ));
return &_gedc ,_a .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_bdb ,_ :=_ad .Atoi (_bfg [1]);_adgb ,_ :=_ad .Atoi (_bfg [2]);_gedc .ObjectNumber =int64 (_bdb );_gedc .GenerationNumber =int64 (_adgb );for {_bfge ,_ebe :=_gfaa ._be .Peek (2);if _ebe !=nil {return &_gedc ,_ebe ;};_fa .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_bfge ),string (_bfge ));
if _ac .IsWhiteSpace (_bfge [0]){_gfaa .skipSpaces ();}else if _bfge [0]=='%'{_gfaa .skipComments ();}else if (_bfge [0]=='<')&&(_bfge [1]=='<'){_fa .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_gedc .PdfObject ,_ebe =_gfaa .parseDict ();
_fa .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_ebe );if _ebe !=nil {return &_gedc ,_ebe ;};_fa .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_bfge [0]=='/')||(_bfge [0]=='(')||(_bfge [0]=='[')||(_bfge [0]=='<'){_gedc .PdfObject ,_ebe =_gfaa .parseObject ();if _ebe !=nil {return &_gedc ,_ebe ;};_fa .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _bfge [0]=='e'{_dcgb ,_bgca :=_gfaa .readTextLine ();if _bgca !=nil {return nil ,_bgca ;};if len (_dcgb )>=6&&_dcgb [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _bfge [0]=='s'{_bfge ,_ =_gfaa ._be .Peek (10);if string (_bfge [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_dde :=6;
if len (_bfge )> 6{if _ac .IsWhiteSpace (_bfge [_dde ])&&_bfge [_dde ]!='\r'&&_bfge [_dde ]!='\n'{_fa .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_dde ++;};if _bfge [_dde ]=='\r'{_dde ++;if _bfge [_dde ]=='\n'{_dde ++;};}else if _bfge [_dde ]=='\n'{_dde ++;};};_gfaa ._be .Discard (_dde );_gdd ,_dgfb :=_gedc .PdfObject .(*_ac .PdfObjectDictionary );if !_dgfb {return nil ,_a .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_fa .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_gdd );_gea ,_cbc :=_gdd .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_ac .PdfObjectInteger );if !_cbc {return nil ,_a .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_agcb :=*_gea ;if _agcb < 0{return nil ,_a .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_agcb )> _gfaa ._db {_fa .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_a .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_eda :=make ([]byte ,_agcb );
_ ,_ebe =_gfaa .readAtLeast (_eda ,int (_agcb ));if _ebe !=nil {_fa .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_eda ),_eda );_fa .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_ebe );
return nil ,_ebe ;};_agg :=_ac .PdfObjectStream {};_agg .Stream =_eda ;_agg .PdfObjectDictionary =_gedc .PdfObject .(*_ac .PdfObjectDictionary );_agg .ObjectNumber =_gedc .ObjectNumber ;_agg .GenerationNumber =_gedc .GenerationNumber ;_gfaa .skipSpaces ();
_gfaa ._be .Discard (9);_gfaa .skipSpaces ();return &_agg ,nil ;};};_gedc .PdfObject ,_ebe =_gfaa .parseObject ();return &_gedc ,_ebe ;};};_fa .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_gedc ,nil ;};type fdfParser struct{_fbg int ;_cag int ;_agf map[int64 ]_ac .PdfObject ;_ee _c .ReadSeeker ;_be *_af .Reader ;_db int64 ;_bceg *_ac .PdfObjectDictionary ;};func (_fgf *fdfParser )trace (_bba _ac .PdfObject )_ac .PdfObject {switch _aba :=_bba .(type ){case *_ac .PdfObjectReference :_dfg ,_fgcgb :=_fgf ._agf [_aba .ObjectNumber ].(*_ac .PdfIndirectObject );
if _fgcgb {return _dfg .PdfObject ;};_fa .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_ac .PdfIndirectObject :return _aba .PdfObject ;};return _bba ;};func (_edg *fdfParser )parseName ()(_ac .PdfObjectName ,error ){var _eaa _ae .Buffer ;
_gdg :=false ;for {_fdg ,_gcd :=_edg ._be .Peek (1);if _gcd ==_c .EOF {break ;};if _gcd !=nil {return _ac .PdfObjectName (_eaa .String ()),_gcd ;};if !_gdg {if _fdg [0]=='/'{_gdg =true ;_edg ._be .ReadByte ();}else if _fdg [0]=='%'{_edg .readComment ();
_edg .skipSpaces ();}else {_fa .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_fdg ,_fdg );return _ac .PdfObjectName (_eaa .String ()),_fg .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_fdg [0]);
};}else {if _ac .IsWhiteSpace (_fdg [0]){break ;}else if (_fdg [0]=='/')||(_fdg [0]=='[')||(_fdg [0]=='(')||(_fdg [0]==']')||(_fdg [0]=='<')||(_fdg [0]=='>'){break ;}else if _fdg [0]=='#'{_fedg ,_fad :=_edg ._be .Peek (3);if _fad !=nil {return _ac .PdfObjectName (_eaa .String ()),_fad ;
};_edg ._be .Discard (3);_gbb ,_fad :=_ed .DecodeString (string (_fedg [1:3]));if _fad !=nil {return _ac .PdfObjectName (_eaa .String ()),_fad ;};_eaa .Write (_gbb );}else {_efg ,_ :=_edg ._be .ReadByte ();_eaa .WriteByte (_efg );};};};return _ac .PdfObjectName (_eaa .String ()),nil ;
};func _gcdc (_cad string )(_ac .PdfObjectReference ,error ){_dcb :=_ac .PdfObjectReference {};_adg :=_gf .FindStringSubmatch (_cad );if len (_adg )< 3{_fa .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");
return _dcb ,_a .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");};_gbcb ,_gfa :=_ad .Atoi (_adg [1]);if _gfa !=nil {_fa .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_adg [1]);
return _dcb ,nil ;};_dcb .ObjectNumber =int64 (_gbcb );_bbcg ,_gfa :=_ad .Atoi (_adg [2]);if _gfa !=nil {_fa .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_adg [2]);
return _dcb ,nil ;};_dcb .GenerationNumber =int64 (_bbcg );return _dcb ,nil ;};func (_fcadd *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_fcadd ._ee .Seek (0,_c .SeekStart );_fcadd ._be =_af .NewReader (_fcadd ._ee );_bfbe :=20;_bec :=make ([]byte ,_bfbe );
for {_bbb ,_fgcd :=_fcadd ._be .ReadByte ();if _fgcd !=nil {if _fgcd ==_c .EOF {break ;}else {return 0,0,_fgcd ;};};if _ac .IsDecimalDigit (_bbb )&&_bec [_bfbe -1]=='.'&&_ac .IsDecimalDigit (_bec [_bfbe -2])&&_bec [_bfbe -3]=='-'&&_bec [_bfbe -4]=='F'&&_bec [_bfbe -5]=='D'&&_bec [_bfbe -6]=='P'{_ddd :=int (_bec [_bfbe -2]-'0');
_cec :=int (_bbb -'0');return _ddd ,_cec ,nil ;};_bec =append (_bec [1:_bfbe ],_bbb );};return 0,0,_a .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};func (_acf *fdfParser )readAtLeast (_da []byte ,_cc int )(int ,error ){_dd :=_cc ;
_gag :=0;_fgc :=0;for _dd > 0{_df ,_bgg :=_acf ._be .Read (_da [_gag :]);if _bgg !=nil {_fa .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_df ,_fgc ,_bgg .Error ());
return _gag ,_a .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_fgc ++;_gag +=_df ;_dd -=_df ;};return _gag ,nil ;};func (_fca *fdfParser )parseHexString ()(*_ac .PdfObjectString ,error ){_fca ._be .ReadByte ();
var _gbaa _ae .Buffer ;for {_ged ,_bca :=_fca ._be .Peek (1);if _bca !=nil {return _ac .MakeHexString (""),_bca ;};if _ged [0]=='>'{_fca ._be .ReadByte ();break ;};_egc ,_ :=_fca ._be .ReadByte ();if !_ac .IsWhiteSpace (_egc ){_gbaa .WriteByte (_egc );
};};if _gbaa .Len ()%2==1{_gbaa .WriteRune ('0');};_dacb ,_gbe :=_ed .DecodeString (_gbaa .String ());if _gbe !=nil {_fa .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_gbaa .String ());
return _ac .MakeHexString (""),nil ;};return _ac .MakeHexString (string (_dacb )),nil ;};func (_eef *fdfParser )skipSpaces ()(int ,error ){_dfe :=0;for {_ea ,_bf :=_eef ._be .ReadByte ();if _bf !=nil {return 0,_bf ;};if _ac .IsWhiteSpace (_ea ){_dfe ++;
}else {_eef ._be .UnreadByte ();break ;};};return _dfe ,nil ;};func (_gba *fdfParser )parseNumber ()(_ac .PdfObject ,error ){return _ac .ParseNumber (_gba ._be )};func (_deef *fdfParser )parse ()error {_deef ._ee .Seek (0,_c .SeekStart );_deef ._be =_af .NewReader (_deef ._ee );
for {_deef .skipComments ();_cbf ,_acdg :=_deef ._be .Peek (20);if _acdg !=nil {_fa .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _acdg ;};if _f .HasPrefix (string (_cbf ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_deef ._be .Discard (7);_deef .skipSpaces ();_deef .skipComments ();_fgd ,_ :=_deef .parseDict ();_deef ._bceg =_fgd ;break ;};_gdf :=_ade .FindStringSubmatchIndex (string (_cbf ));
if len (_gdf )< 6{_fa .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_cbf ));
return _a .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_cgc ,_acdg :=_deef .parseIndirectObject ();if _acdg !=nil {return _acdg ;};switch _aea :=_cgc .(type ){case *_ac .PdfIndirectObject :_deef ._agf [_aea .ObjectNumber ]=_aea ;case *_ac .PdfObjectStream :_deef ._agf [_aea .ObjectNumber ]=_aea ;default:return _a .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
};};return nil ;};var _edd =_fd .MustCompile ("\u0025\u0025\u0045O\u0046");func _eba (_bdf _c .ReadSeeker )(*fdfParser ,error ){_dee :=&fdfParser {};_dee ._ee =_bdf ;_dee ._agf =map[int64 ]_ac .PdfObject {};_baf ,_eed ,_faeb :=_dee .parseFdfVersion ();
if _faeb !=nil {_fa .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_faeb );return nil ,_faeb ;};_dee ._fbg =_baf ;_dee ._cag =_eed ;_faeb =_dee .parse ();
return _dee ,_faeb ;};func (_gce *fdfParser )parseBool ()(_ac .PdfObjectBool ,error ){_dad ,_fef :=_gce ._be .Peek (4);if _fef !=nil {return _ac .PdfObjectBool (false ),_fef ;};if (len (_dad )>=4)&&(string (_dad [:4])=="\u0074\u0072\u0075\u0065"){_gce ._be .Discard (4);
return _ac .PdfObjectBool (true ),nil ;};_dad ,_fef =_gce ._be .Peek (5);if _fef !=nil {return _ac .PdfObjectBool (false ),_fef ;};if (len (_dad )>=5)&&(string (_dad [:5])=="\u0066\u0061\u006cs\u0065"){_gce ._be .Discard (5);return _ac .PdfObjectBool (false ),nil ;
};return _ac .PdfObjectBool (false ),_a .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");};func (_eeg *fdfParser )parseNull ()(_ac .PdfObjectNull ,error ){_ ,_edgc :=_eeg ._be .Discard (4);
return _ac .PdfObjectNull {},_edgc ;};