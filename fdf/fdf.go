//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_ca "bufio";_bg "bytes";_ad "encoding/hex";_g "errors";_gd "fmt";_ba "github.com/unidoc/unipdf/v3/common";_bge "github.com/unidoc/unipdf/v3/core";_e "io";_aa "os";_b "regexp";_bga "sort";_a "strconv";_d "strings";);type fdfParser struct{_edg int ;
_bdc int ;_abgb map[int64 ]_bge .PdfObject ;_eg _e .ReadSeeker ;_cge *_ca .Reader ;_ecg int64 ;_cf *_bge .PdfObjectDictionary ;};func (_cfb *fdfParser )readTextLine ()(string ,error ){var _bgg _bg .Buffer ;for {_babd ,_bfbc :=_cfb ._cge .Peek (1);if _bfbc !=nil {_ba .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_bfbc .Error ());
return _bgg .String (),_bfbc ;};if (_babd [0]!='\r')&&(_babd [0]!='\n'){_dd ,_ :=_cfb ._cge .ReadByte ();_bgg .WriteByte (_dd );}else {break ;};};return _bgg .String (),nil ;};func (_edd *fdfParser )parseObject ()(_bge .PdfObject ,error ){_ba .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");
_edd .skipSpaces ();for {_ebd ,_baa :=_edd ._cge .Peek (2);if _baa !=nil {return nil ,_baa ;};_ba .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_ebd ));if _ebd [0]=='/'{_dgb ,_gdbc :=_edd .parseName ();
_ba .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_dgb );return &_dgb ,_gdbc ;}else if _ebd [0]=='('{_ba .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _edd .parseString ();}else if _ebd [0]=='['{_ba .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");
return _edd .parseArray ();}else if (_ebd [0]=='<')&&(_ebd [1]=='<'){_ba .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _edd .parseDict ();}else if _ebd [0]=='<'{_ba .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");
return _edd .parseHexString ();}else if _ebd [0]=='%'{_edd .readComment ();_edd .skipSpaces ();}else {_ba .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_ebd ,_ =_edd ._cge .Peek (15);_dcde :=string (_ebd );
_ba .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_dcde );if (len (_dcde )> 3)&&(_dcde [:4]=="\u006e\u0075\u006c\u006c"){_ggg ,_abgc :=_edd .parseNull ();return &_ggg ,_abgc ;}else if (len (_dcde )> 4)&&(_dcde [:5]=="\u0066\u0061\u006cs\u0065"){_cagg ,_cec :=_edd .parseBool ();
return &_cagg ,_cec ;}else if (len (_dcde )> 3)&&(_dcde [:4]=="\u0074\u0072\u0075\u0065"){_ada ,_dde :=_edd .parseBool ();return &_ada ,_dde ;};_efb :=_gcc .FindStringSubmatch (_dcde );if len (_efb )> 1{_ebd ,_ =_edd ._cge .ReadBytes ('R');_ba .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_ebd [:]));
_bcg ,_bce :=_fef (string (_ebd ));return &_bcg ,_bce ;};_bgee :=_cg .FindStringSubmatch (_dcde );if len (_bgee )> 1{_ba .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _edd .parseNumber ();};_bgee =_bab .FindStringSubmatch (_dcde );
if len (_bgee )> 1{_ba .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_ba .Log .Trace ("\u0025\u0020\u0073",_bgee );return _edd .parseNumber ();};_ba .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_dcde );
return nil ,_g .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};var _ff =_b .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");

// Load loads FDF form data from `r`.
func Load (r _e .ReadSeeker )(*Data ,error ){_gba ,_ae :=_cc (r );if _ae !=nil {return nil ,_ae ;};_ab ,_ae :=_gba .Root ();if _ae !=nil {return nil ,_ae ;};_bae ,_gbb :=_bge .GetArray (_ab .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_gbb {return nil ,_g .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_gb :_bae ,_bc :_ab },nil ;};var _gcc =_b .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");func (_dc *fdfParser )getFileOffset ()int64 {_cad ,_ :=_dc ._eg .Seek (0,_e .SeekCurrent );
_cad -=int64 (_dc ._cge .Buffered ());return _cad ;};

// Data represents forms data format (FDF) file data.
type Data struct{_bc *_bge .PdfObjectDictionary ;_gb *_bge .PdfObjectArray ;};var _fag =_b .MustCompile ("\u0025\u0025\u0045O\u0046");func (_fg *fdfParser )readAtLeast (_dg []byte ,_eb int )(int ,error ){_gde :=_eb ;_ga :=0;_bca :=0;for _gde > 0{_ag ,_cag :=_fg ._cge .Read (_dg [_ga :]);
if _cag !=nil {_ba .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_ag ,_bca ,_cag .Error ());return _ga ,_g .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");
};_bca ++;_ga +=_ag ;_gde -=_ag ;};return _ga ,nil ;};func (_dccb *fdfParser )parseIndirectObject ()(_bge .PdfObject ,error ){_gff :=_bge .PdfIndirectObject {};_ba .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");
_gbd ,_caag :=_dccb ._cge .Peek (20);if _caag !=nil {_ba .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return &_gff ,_caag ;};_ba .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_gbd ));_ece :=_ffc .FindStringSubmatchIndex (string (_gbd ));if len (_ece )< 6{_ba .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_gbd ));
return &_gff ,_g .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_dccb ._cge .Discard (_ece [0]);_ba .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_ece );_aeg :=_ece [1]-_ece [0];_ggb :=make ([]byte ,_aeg );_ ,_caag =_dccb .readAtLeast (_ggb ,_aeg );if _caag !=nil {_ba .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_caag );
return nil ,_caag ;};_ba .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_ggb );_afg :=_ffc .FindStringSubmatch (string (_ggb ));if len (_afg )< 3{_ba .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_ggb ));
return &_gff ,_g .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_fagg ,_ :=_a .Atoi (_afg [1]);_cfd ,_ :=_a .Atoi (_afg [2]);_gff .ObjectNumber =int64 (_fagg );_gff .GenerationNumber =int64 (_cfd );for {_ebda ,_ggc :=_dccb ._cge .Peek (2);if _ggc !=nil {return &_gff ,_ggc ;};_ba .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_ebda ),string (_ebda ));
if _bge .IsWhiteSpace (_ebda [0]){_dccb .skipSpaces ();}else if _ebda [0]=='%'{_dccb .skipComments ();}else if (_ebda [0]=='<')&&(_ebda [1]=='<'){_ba .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_gff .PdfObject ,_ggc =_dccb .parseDict ();
_ba .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_ggc );if _ggc !=nil {return &_gff ,_ggc ;};_ba .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_ebda [0]=='/')||(_ebda [0]=='(')||(_ebda [0]=='[')||(_ebda [0]=='<'){_gff .PdfObject ,_ggc =_dccb .parseObject ();if _ggc !=nil {return &_gff ,_ggc ;};_ba .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _ebda [0]=='e'{_bdec ,_dce :=_dccb .readTextLine ();if _dce !=nil {return nil ,_dce ;};if len (_bdec )>=6&&_bdec [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _ebda [0]=='s'{_ebda ,_ =_dccb ._cge .Peek (10);if string (_ebda [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_adae :=6;
if len (_ebda )> 6{if _bge .IsWhiteSpace (_ebda [_adae ])&&_ebda [_adae ]!='\r'&&_ebda [_adae ]!='\n'{_ba .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_adae ++;};if _ebda [_adae ]=='\r'{_adae ++;if _ebda [_adae ]=='\n'{_adae ++;};}else if _ebda [_adae ]=='\n'{_adae ++;};};_dccb ._cge .Discard (_adae );_gfa ,_dfda :=_gff .PdfObject .(*_bge .PdfObjectDictionary );if !_dfda {return nil ,_g .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_ba .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_gfa );_fccf ,_ffa :=_gfa .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_bge .PdfObjectInteger );if !_ffa {return nil ,_g .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_egc :=*_fccf ;if _egc < 0{return nil ,_g .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_egc )> _dccb ._ecg {_ba .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_g .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_gcbf :=make ([]byte ,_egc );
_ ,_ggc =_dccb .readAtLeast (_gcbf ,int (_egc ));if _ggc !=nil {_ba .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_gcbf ),_gcbf );_ba .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_ggc );
return nil ,_ggc ;};_eba :=_bge .PdfObjectStream {};_eba .Stream =_gcbf ;_eba .PdfObjectDictionary =_gff .PdfObject .(*_bge .PdfObjectDictionary );_eba .ObjectNumber =_gff .ObjectNumber ;_eba .GenerationNumber =_gff .GenerationNumber ;_dccb .skipSpaces ();
_dccb ._cge .Discard (9);_dccb .skipSpaces ();return &_eba ,nil ;};};_gff .PdfObject ,_ggc =_dccb .parseObject ();return &_gff ,_ggc ;};};_ba .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_gff ,nil ;};func (_gec *fdfParser )parseName ()(_bge .PdfObjectName ,error ){var _ega _bg .Buffer ;_ac :=false ;for {_dcff ,_aea :=_gec ._cge .Peek (1);if _aea ==_e .EOF {break ;};if _aea !=nil {return _bge .PdfObjectName (_ega .String ()),_aea ;
};if !_ac {if _dcff [0]=='/'{_ac =true ;_gec ._cge .ReadByte ();}else if _dcff [0]=='%'{_gec .readComment ();_gec .skipSpaces ();}else {_ba .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_dcff ,_dcff );
return _bge .PdfObjectName (_ega .String ()),_gd .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_dcff [0]);};}else {if _bge .IsWhiteSpace (_dcff [0]){break ;}else if (_dcff [0]=='/')||(_dcff [0]=='[')||(_dcff [0]=='(')||(_dcff [0]==']')||(_dcff [0]=='<')||(_dcff [0]=='>'){break ;
}else if _dcff [0]=='#'{_cda ,_gdb :=_gec ._cge .Peek (3);if _gdb !=nil {return _bge .PdfObjectName (_ega .String ()),_gdb ;};_gec ._cge .Discard (3);_af ,_gdb :=_ad .DecodeString (string (_cda [1:3]));if _gdb !=nil {return _bge .PdfObjectName (_ega .String ()),_gdb ;
};_ega .Write (_af );}else {_cfbb ,_ :=_gec ._cge .ReadByte ();_ega .WriteByte (_cfbb );};};};return _bge .PdfObjectName (_ega .String ()),nil ;};func (_gcf *fdfParser )readComment ()(string ,error ){var _cb _bg .Buffer ;_ ,_da :=_gcf .skipSpaces ();if _da !=nil {return _cb .String (),_da ;
};_cfe :=true ;for {_bdg ,_cd :=_gcf ._cge .Peek (1);if _cd !=nil {_ba .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_cd .Error ());return _cb .String (),_cd ;};if _cfe &&_bdg [0]!='%'{return _cb .String (),_g .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");
};_cfe =false ;if (_bdg [0]!='\r')&&(_bdg [0]!='\n'){_ffcc ,_ :=_gcf ._cge .ReadByte ();_cb .WriteByte (_ffcc );}else {break ;};};return _cb .String (),nil ;};var _ffc =_b .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");
var _cg =_b .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_bge .PdfObject ,error ){_gc ,_adc :=fdf .FieldDictionaries ();if _adc !=nil {return nil ,_adc ;};var _gg []string ;for _ee :=range _gc {_gg =append (_gg ,_ee );};_bga .Strings (_gg );_bde :=map[string ]_bge .PdfObject {};
for _ ,_add :=range _gg {_bag :=_gc [_add ];_adcf :=_bge .TraceToDirectObject (_bag .Get ("\u0056"));_bde [_add ]=_adcf ;};return _bde ,nil ;};func (_ffd *fdfParser )parseNumber ()(_bge .PdfObject ,error ){return _bge .ParseNumber (_ffd ._cge )};func (_dca *fdfParser )parseHexString ()(*_bge .PdfObjectString ,error ){_dca ._cge .ReadByte ();
var _ea _bg .Buffer ;for {_gef ,_aed :=_dca ._cge .Peek (1);if _aed !=nil {return _bge .MakeHexString (""),_aed ;};if _gef [0]=='>'{_dca ._cge .ReadByte ();break ;};_bfe ,_ :=_dca ._cge .ReadByte ();if !_bge .IsWhiteSpace (_bfe ){_ea .WriteByte (_bfe );
};};if _ea .Len ()%2==1{_ea .WriteRune ('0');};_gca ,_fff :=_ad .DecodeString (_ea .String ());if _fff !=nil {_ba .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_ea .String ());
return _bge .MakeHexString (""),nil ;};return _bge .MakeHexString (string (_gca )),nil ;};func (_fb *fdfParser )parseBool ()(_bge .PdfObjectBool ,error ){_aaf ,_fae :=_fb ._cge .Peek (4);if _fae !=nil {return _bge .PdfObjectBool (false ),_fae ;};if (len (_aaf )>=4)&&(string (_aaf [:4])=="\u0074\u0072\u0075\u0065"){_fb ._cge .Discard (4);
return _bge .PdfObjectBool (true ),nil ;};_aaf ,_fae =_fb ._cge .Peek (5);if _fae !=nil {return _bge .PdfObjectBool (false ),_fae ;};if (len (_aaf )>=5)&&(string (_aaf [:5])=="\u0066\u0061\u006cs\u0065"){_fb ._cge .Discard (5);return _bge .PdfObjectBool (false ),nil ;
};return _bge .PdfObjectBool (false ),_g .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");};func (_gfd *fdfParser )seekToEOFMarker (_fcc int64 )error {_fage :=int64 (0);_dcc :=int64 (1000);
for _fage < _fcc {if _fcc <=(_dcc +_fage ){_dcc =_fcc -_fage ;};_ ,_efe :=_gfd ._eg .Seek (-_fage -_dcc ,_e .SeekEnd );if _efe !=nil {return _efe ;};_cea :=make ([]byte ,_dcc );_gfd ._eg .Read (_cea );_ba .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_cea ));
_cgd :=_fag .FindAllStringIndex (string (_cea ),-1);if _cgd !=nil {_efef :=_cgd [len (_cgd )-1];_ba .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_cgd );_gfd ._eg .Seek (-_fage -_dcc +int64 (_efef [0]),_e .SeekEnd );return nil ;};_ba .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_fage +=_dcc ;};_ba .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _g .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};

// Root returns the Root of the FDF document.
func (_gga *fdfParser )Root ()(*_bge .PdfObjectDictionary ,error ){if _gga ._cf !=nil {if _aba ,_afc :=_gga .trace (_gga ._cf .Get ("\u0052\u006f\u006f\u0074")).(*_bge .PdfObjectDictionary );_afc {if _ffda ,_ggec :=_gga .trace (_aba .Get ("\u0046\u0044\u0046")).(*_bge .PdfObjectDictionary );
_ggec {return _ffda ,nil ;};};};var _dge []int64 ;for _ecdg :=range _gga ._abgb {_dge =append (_dge ,_ecdg );};_bga .Slice (_dge ,func (_ebad ,_bbd int )bool {return _dge [_ebad ]< _dge [_bbd ]});for _ ,_gdg :=range _dge {_cbb :=_gga ._abgb [_gdg ];if _dfba ,_cgg :=_gga .trace (_cbb ).(*_bge .PdfObjectDictionary );
_cgg {if _dgba ,_fga :=_gga .trace (_dfba .Get ("\u0046\u0044\u0046")).(*_bge .PdfObjectDictionary );_fga {return _dgba ,nil ;};};};return nil ,_g .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};func (_edc *fdfParser )skipSpaces ()(int ,error ){_ef :=0;
for {_bdeb ,_egd :=_edc ._cge .ReadByte ();if _egd !=nil {return 0,_egd ;};if _bge .IsWhiteSpace (_bdeb ){_ef ++;}else {_edc ._cge .UnreadByte ();break ;};};return _ef ,nil ;};func (_gag *fdfParser )parse ()error {_gag ._eg .Seek (0,_e .SeekStart );_gag ._cge =_ca .NewReader (_gag ._eg );
for {_gag .skipComments ();_gae ,_acgf :=_gag ._cge .Peek (20);if _acgf !=nil {_ba .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _acgf ;};if _d .HasPrefix (string (_gae ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_gag ._cge .Discard (7);_gag .skipSpaces ();_gag .skipComments ();_bec ,_ :=_gag .parseDict ();_gag ._cf =_bec ;break ;};_ccf :=_ffc .FindStringSubmatchIndex (string (_gae ));
if len (_ccf )< 6{_ba .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_gae ));
return _g .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_bbf ,_acgf :=_gag .parseIndirectObject ();if _acgf !=nil {return _acgf ;};switch _dfdb :=_bbf .(type ){case *_bge .PdfIndirectObject :_gag ._abgb [_dfdb .ObjectNumber ]=_dfdb ;case *_bge .PdfObjectStream :_gag ._abgb [_dfdb .ObjectNumber ]=_dfdb ;default:return _g .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
};};return nil ;};func (_bda *fdfParser )parseNull ()(_bge .PdfObjectNull ,error ){_ ,_dbf :=_bda ._cge .Discard (4);return _bge .PdfObjectNull {},_dbf ;};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_bge .PdfObjectDictionary ,error ){_ec :=map[string ]*_bge .PdfObjectDictionary {};for _gf :=0;_gf < fdf ._gb .Len ();_gf ++{_bac ,_ecd :=_bge .GetDict (fdf ._gb .Get (_gf ));if _ecd {_f ,_ :=_bge .GetString (_bac .Get ("\u0054"));
if _f !=nil {_ec [_f .Str ()]=_bac ;};};};return _ec ,nil ;};func (_aff *fdfParser )parseDict ()(*_bge .PdfObjectDictionary ,error ){_ba .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");_bfed :=_bge .MakeDict ();
_egb ,_ :=_aff ._cge .ReadByte ();if _egb !='<'{return nil ,_g .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_egb ,_ =_aff ._cge .ReadByte ();if _egb !='<'{return nil ,_g .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};for {_aff .skipSpaces ();_aff .skipComments ();_dfa ,_fcg :=_aff ._cge .Peek (2);if _fcg !=nil {return nil ,_fcg ;};_ba .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_dfa ),string (_dfa ));
if (_dfa [0]=='>')&&(_dfa [1]=='>'){_ba .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_aff ._cge .ReadByte ();_aff ._cge .ReadByte ();break ;};_ba .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");
_gcb ,_fcg :=_aff .parseName ();_ba .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_gcb );if _fcg !=nil {_ba .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_fcg );
return nil ,_fcg ;};if len (_gcb )> 4&&_gcb [len (_gcb )-4:]=="\u006e\u0075\u006c\u006c"{_abb :=_gcb [0:len (_gcb )-4];_ba .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_gcb );
_ba .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_abb );_aff .skipSpaces ();_cba ,_ :=_aff ._cge .Peek (1);if _cba [0]=='/'{_bfed .Set (_abb ,_bge .MakeNull ());continue ;};};_aff .skipSpaces ();
_faf ,_fcg :=_aff .parseObject ();if _fcg !=nil {return nil ,_fcg ;};_bfed .Set (_gcb ,_faf );_ba .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_gcb ,_faf .String ());};_ba .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");
return _bfed ,nil ;};func (_ge *fdfParser )skipComments ()error {if _ ,_fc :=_ge .skipSpaces ();_fc !=nil {return _fc ;};_bf :=true ;for {_dcf ,_ebf :=_ge ._cge .Peek (1);if _ebf !=nil {_ba .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_ebf .Error ());
return _ebf ;};if _bf &&_dcf [0]!='%'{return nil ;};_bf =false ;if (_dcf [0]!='\r')&&(_dcf [0]!='\n'){_ge ._cge .ReadByte ();}else {break ;};};return _ge .skipComments ();};func (_ce *fdfParser )setFileOffset (_db int64 ){_ce ._eg .Seek (_db ,_e .SeekStart );
_ce ._cge =_ca .NewReader (_ce ._eg );};func (_edf *fdfParser )parseString ()(*_bge .PdfObjectString ,error ){_edf ._cge .ReadByte ();var _ede _bg .Buffer ;_be :=1;for {_bb ,_bfa :=_edf ._cge .Peek (1);if _bfa !=nil {return _bge .MakeString (_ede .String ()),_bfa ;
};if _bb [0]=='\\'{_edf ._cge .ReadByte ();_gaf ,_bgf :=_edf ._cge .ReadByte ();if _bgf !=nil {return _bge .MakeString (_ede .String ()),_bgf ;};if _bge .IsOctalDigit (_gaf ){_dfb ,_fe :=_edf ._cge .Peek (2);if _fe !=nil {return _bge .MakeString (_ede .String ()),_fe ;
};var _cga []byte ;_cga =append (_cga ,_gaf );for _ ,_dag :=range _dfb {if _bge .IsOctalDigit (_dag ){_cga =append (_cga ,_dag );}else {break ;};};_edf ._cge .Discard (len (_cga )-1);_ba .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_cga );
_de ,_fe :=_a .ParseUint (string (_cga ),8,32);if _fe !=nil {return _bge .MakeString (_ede .String ()),_fe ;};_ede .WriteByte (byte (_de ));continue ;};switch _gaf {case 'n':_ede .WriteRune ('\n');case 'r':_ede .WriteRune ('\r');case 't':_ede .WriteRune ('\t');
case 'b':_ede .WriteRune ('\b');case 'f':_ede .WriteRune ('\f');case '(':_ede .WriteRune ('(');case ')':_ede .WriteRune (')');case '\\':_ede .WriteRune ('\\');};continue ;}else if _bb [0]=='('{_be ++;}else if _bb [0]==')'{_be --;if _be ==0{_edf ._cge .ReadByte ();
break ;};};_ffe ,_ :=_edf ._cge .ReadByte ();_ede .WriteByte (_ffe );};return _bge .MakeString (_ede .String ()),nil ;};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_df ,_ed :=_aa .Open (fdfPath );if _ed !=nil {return nil ,_ed ;};defer _df .Close ();return Load (_df );};func _gccf (_egge string )(*fdfParser ,error ){_deb :=fdfParser {};_bdca :=[]byte (_egge );_bdgf :=_bg .NewReader (_bdca );
_deb ._eg =_bdgf ;_deb ._abgb =map[int64 ]_bge .PdfObject {};_aae :=_ca .NewReader (_bdgf );_deb ._cge =_aae ;_deb ._ecg =int64 (len (_egge ));return &_deb ,_deb .parse ();};var _bab =_b .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");
func _cc (_cbba _e .ReadSeeker )(*fdfParser ,error ){_gbbd :=&fdfParser {};_gbbd ._eg =_cbba ;_gbbd ._abgb =map[int64 ]_bge .PdfObject {};_bff ,_cdc ,_efba :=_gbbd .parseFdfVersion ();if _efba !=nil {_ba .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_efba );
return nil ,_efba ;};_gbbd ._edg =_bff ;_gbbd ._bdc =_cdc ;_efba =_gbbd .parse ();return _gbbd ,_efba ;};func _fef (_gbf string )(_bge .PdfObjectReference ,error ){_deg :=_bge .PdfObjectReference {};_eec :=_gcc .FindStringSubmatch (_gbf );if len (_eec )< 3{_ba .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");
return _deg ,_g .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");};_faa ,_deaf :=_a .Atoi (_eec [1]);if _deaf !=nil {_ba .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_eec [1]);
return _deg ,nil ;};_deg .ObjectNumber =int64 (_faa );_adf ,_deaf :=_a .Atoi (_eec [2]);if _deaf !=nil {_ba .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_eec [2]);
return _deg ,nil ;};_deg .GenerationNumber =int64 (_adf );return _deg ,nil ;};func (_ebfc *fdfParser )parseArray ()(*_bge .PdfObjectArray ,error ){_gecf :=_bge .MakeArray ();_ebfc ._cge .ReadByte ();for {_ebfc .skipSpaces ();_ffcf ,_bed :=_ebfc ._cge .Peek (1);
if _bed !=nil {return _gecf ,_bed ;};if _ffcf [0]==']'{_ebfc ._cge .ReadByte ();break ;};_efg ,_bed :=_ebfc .parseObject ();if _bed !=nil {return _gecf ,_bed ;};_gecf .Append (_efg );};return _gecf ,nil ;};func (_egag *fdfParser )trace (_ffce _bge .PdfObject )_bge .PdfObject {switch _acg :=_ffce .(type ){case *_bge .PdfObjectReference :_ead ,_ebfg :=_egag ._abgb [_acg .ObjectNumber ].(*_bge .PdfIndirectObject );
if _ebfg {return _ead .PdfObject ;};_ba .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_bge .PdfIndirectObject :return _acg .PdfObject ;};return _ffce ;};func (_dage *fdfParser )parseFdfVersion ()(int ,int ,error ){_dage ._eg .Seek (0,_e .SeekStart );
_egg :=20;_aab :=make ([]byte ,_egg );_dage ._eg .Read (_aab );_gcad :=_ff .FindStringSubmatch (string (_aab ));if len (_gcad )< 3{_dbc ,_dad ,_ddf :=_dage .seekFdfVersionTopDown ();if _ddf !=nil {_ba .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");
return 0,0,_ddf ;};return _dbc ,_dad ,nil ;};_ebe ,_aedb :=_a .Atoi (_gcad [1]);if _aedb !=nil {return 0,0,_aedb ;};_aedd ,_aedb :=_a .Atoi (_gcad [2]);if _aedb !=nil {return 0,0,_aedb ;};_ba .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_ebe ,_aedd );
return _ebe ,_aedd ,nil ;};func (_cae *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_cae ._eg .Seek (0,_e .SeekStart );_cae ._cge =_ca .NewReader (_cae ._eg );_cdae :=20;_aegc :=make ([]byte ,_cdae );for {_agf ,_cgab :=_cae ._cge .ReadByte ();
if _cgab !=nil {if _cgab ==_e .EOF {break ;}else {return 0,0,_cgab ;};};if _bge .IsDecimalDigit (_agf )&&_aegc [_cdae -1]=='.'&&_bge .IsDecimalDigit (_aegc [_cdae -2])&&_aegc [_cdae -3]=='-'&&_aegc [_cdae -4]=='F'&&_aegc [_cdae -5]=='D'&&_aegc [_cdae -6]=='P'{_fad :=int (_aegc [_cdae -2]-'0');
_gce :=int (_agf -'0');return _fad ,_gce ,nil ;};_aegc =append (_aegc [1:_cdae ],_agf );};return 0,0,_g .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};