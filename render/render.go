//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package render ;import (_a "errors";_e "fmt";_c "github.com/adrg/sysfont";_bg "github.com/unidoc/unipdf/v3/annotator";_dg "github.com/unidoc/unipdf/v3/common";_gg "github.com/unidoc/unipdf/v3/contentstream";_da "github.com/unidoc/unipdf/v3/contentstream/draw";
_fbe "github.com/unidoc/unipdf/v3/core";_ab "github.com/unidoc/unipdf/v3/internal/license";_df "github.com/unidoc/unipdf/v3/internal/transform";_ga "github.com/unidoc/unipdf/v3/model";_ffa "github.com/unidoc/unipdf/v3/render/internal/context";_bc "github.com/unidoc/unipdf/v3/render/internal/context/imagerender";
_fc "golang.org/x/image/draw";_gd "image";_g "image/color";_d "image/draw";_be "image/jpeg";_fb "image/png";_ffe "math";_ff "os";_b "path/filepath";_ae "strings";);

// NewImageDevice returns a new image device.
func NewImageDevice ()*ImageDevice {const _fg ="r\u0065\u006e\u0064\u0065r.\u004ee\u0077\u0049\u006d\u0061\u0067e\u0044\u0065\u0076\u0069\u0063\u0065";_ab .TrackUse (_fg );return &ImageDevice {};};func _ddgf (_gbe *_ga .Image ,_fga _g .Color )_gd .Image {_cbce ,_geb :=int (_gbe .Width ),int (_gbe .Height );
_ffg :=_gd .NewRGBA (_gd .Rect (0,0,_cbce ,_geb ));for _ced :=0;_ced < _geb ;_ced ++{for _eaec :=0;_eaec < _cbce ;_eaec ++{_bac ,_faega :=_gbe .ColorAt (_eaec ,_ced );if _faega !=nil {_dg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_eaec ,_ced );
continue ;};_fab ,_aed ,_gagd ,_ :=_bac .RGBA ();var _cadd _g .Color ;if _fab +_aed +_gagd ==0{_cadd =_g .Transparent ;}else {_cadd =_fga ;};_ffg .Set (_eaec ,_ced ,_cadd );};};return _ffg ;};func _gfae (_gcab _ffa .Gradient ,_acgc *_ga .PdfFunctionType2 ,_faeg _ga .PdfColorspace ,_dgbb float64 ,_ecdb bool )(_ffa .Gradient ,error ){switch _faeg .(type ){case *_ga .PdfColorspaceDeviceRGB :if len (_acgc .C0 )!=3||len (_acgc .C1 )!=3{return nil ,_a .New ("\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u0020\u0052\u0047\u0042\u0020\u0063o\u006co\u0072\u0020\u0061\u0072\u0072\u0061\u0079\u0020\u006c\u0065\u006e\u0067\u0074\u0068");
};_deag :=_acgc .C0 ;_fbgc :=_acgc .C1 ;if _ecdb {_gcab .AddColorStop (0.0,_g .RGBA {R :uint8 (_deag [0]*255),G :uint8 (_deag [1]*255),B :uint8 (_deag [2]*255),A :255});};_gcab .AddColorStop (_dgbb ,_g .RGBA {R :uint8 (_fbgc [0]*255),G :uint8 (_fbgc [1]*255),B :uint8 (_fbgc [2]*255),A :255});
case *_ga .PdfColorspaceDeviceCMYK :if len (_acgc .C0 )!=4||len (_acgc .C1 )!=4{return nil ,_a .New ("\u0069\u006e\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0043\u004d\u0059\u004b\u0020\u0063\u006f\u006c\u006f\u0072 \u0061\u0072\u0072\u0061\u0079\u0020\u006ce\u006e\u0067\u0074\u0068");
};_eeec :=_acgc .C0 ;_gaed :=_acgc .C1 ;if _ecdb {_gcab .AddColorStop (0.0,_g .CMYK {C :uint8 (_eeec [0]*255),M :uint8 (_eeec [1]*255),Y :uint8 (_eeec [2]*255),K :uint8 (_eeec [3]*255)});};_gcab .AddColorStop (_dgbb ,_g .CMYK {C :uint8 (_gaed [0]*255),M :uint8 (_gaed [1]*255),Y :uint8 (_gaed [2]*255),K :uint8 (_gaed [3]*255)});
default:return nil ,_e .Errorf ("u\u006e\u0073\u0075\u0070\u0070\u006fr\u0074\u0065\u0064\u0020\u0063\u006f\u006c\u006f\u0072 \u0073\u0070\u0061c\u0065:\u0020\u0025\u0073",_faeg .String ());};return _gcab ,nil ;};

// RenderWithOpts converts the specified PDF page into an image, optionally flattens annotations and returns the result.
func (_dad *ImageDevice )RenderWithOpts (page *_ga .PdfPage ,skipFlattening bool )(_gd .Image ,error ){_ffb ,_db :=page .GetMediaBox ();if _db !=nil {return nil ,_db ;};_ffb .Normalize ();_ec :=page .CropBox ;var _cg ,_gf float64 ;if _ec !=nil {_ec .Normalize ();
_cg ,_gf =_ec .Width (),_ec .Height ();};_eg :=page .Rotate ;_egd ,_ed ,_bga ,_ee :=_ffb .Llx ,_ffb .Lly ,_ffb .Width (),_ffb .Height ();_cb :=_df .IdentityMatrix ();if _eg !=nil &&*_eg %360!=0&&*_eg %90==0{_bd :=-float64 (*_eg );_eed :=_fbf (_bga ,_ee ,_bd );
_cb =_cb .Translate ((_eed .Width -_bga )/2+_bga /2,(_eed .Height -_ee )/2+_ee /2).Rotate (_bd *_ffe .Pi /180).Translate (-_bga /2,-_ee /2);_bga ,_ee =_eed .Width ,_eed .Height ;if _ec !=nil {_bb :=_fbf (_cg ,_gf ,_bd );_cg ,_gf =_bb .Width ,_bb .Height ;
};};if _egd !=0||_ed !=0{_cb =_cb .Translate (-_egd ,-_ed );};_dad ._cgb =1.0;if _dad .OutputWidth !=0{_bbd :=_bga ;if _ec !=nil {_bbd =_cg ;};_dad ._cgb =float64 (_dad .OutputWidth )/_bbd ;_bga ,_ee ,_cg ,_gf =_bga *_dad ._cgb ,_ee *_dad ._cgb ,_cg *_dad ._cgb ,_gf *_dad ._cgb ;
_cb =_df .ScaleMatrix (_dad ._cgb ,_dad ._cgb ).Mult (_cb );};_dd :=_bc .NewContext (int (_bga ),int (_ee ));if _ge :=_dad .renderPage (_dd ,page ,_cb ,skipFlattening );_ge !=nil {return nil ,_ge ;};_fe :=_dd .Image ();if _ec !=nil {_ce ,_abb :=(_ec .Llx -_egd )*_dad ._cgb ,(_ec .Lly -_ed )*_dad ._cgb ;
_egg :=_gd .Rect (0,0,int (_cg ),int (_gf ));_aef :=_gd .Pt (int (_ce ),int (_ee -_abb -_gf ));_ba :=_gd .NewRGBA (_egg );_d .Draw (_ba ,_egg ,_fe ,_aef ,_d .Src );_fe =_ba ;};return _fe ,nil ;};

// PdfShadingType defines PDF shading types.
// Source: PDF32000_2008.pdf. Chapter 8.7.4.5
type PdfShadingType int64 ;func (_bad renderer )renderPage (_bcc _ffa .Context ,_ggac *_ga .PdfPage ,_fd _df .Matrix ,_gb bool )error {if !_gb {_eee :=_ga .FieldFlattenOpts {AnnotFilterFunc :func (_ggd *_ga .PdfAnnotation )bool {switch _ggd .GetContext ().(type ){case *_ga .PdfAnnotationLine :return true ;
case *_ga .PdfAnnotationSquare :return true ;case *_ga .PdfAnnotationCircle :return true ;case *_ga .PdfAnnotationPolygon :return true ;case *_ga .PdfAnnotationPolyLine :return true ;};return false ;}};_de :=_bg .FieldAppearance {};_fcc :=_ggac .FlattenFieldsWithOpts (_de ,&_eee );
if _fcc !=nil {_dg .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0064u\u0072\u0069n\u0067\u0020\u0061\u006e\u006e\u006f\u0074\u0061t\u0069\u006f\u006e\u0020\u0066\u006c\u0061\u0074\u0074\u0065\u006e\u0069n\u0067\u0020\u0025\u0076",_fcc );};};_ddb ,_aa :=_ggac .GetAllContentStreams ();
if _aa !=nil {return _aa ;};if _ad :=_fd ;!_ad .Identity (){_ddb =_e .Sprintf ("%\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066 \u0025\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066\u0020\u0063\u006d\u0020%\u0073",_ad [0],_ad [1],_ad [3],_ad [4],_ad [6],_ad [7],_ddb );
};_bcc .Translate (0,float64 (_bcc .Height ()));_bcc .Scale (1,-1);_bcc .Push ();_bcc .SetRGBA (1,1,1,1);_bcc .DrawRectangle (0,0,float64 (_bcc .Width ()),float64 (_bcc .Height ()));_bcc .Fill ();_bcc .Pop ();_bcc .SetLineWidth (1.0);_bcc .SetRGBA (0,0,0,1);
return _bad .renderContentStream (_bcc ,_ddb ,_ggac .Resources );};func _aga (_gce string ,_aafeb _gd .Image )error {_dcdg ,_egeg :=_ff .Create (_gce );if _egeg !=nil {return _egeg ;};defer _dcdg .Close ();return _fb .Encode (_dcdg ,_aafeb );};func (_cge renderer )processLinearShading (_dcd _ffa .Context ,_bfga *_ga .PdfShading )(_ffa .Gradient ,*_fbe .PdfObjectArray ,error ){_egcb :=_bfga .GetContext ().(*_ga .PdfShadingType2 );
if len (_egcb .Function )==0{return nil ,nil ,_a .New ("\u006e\u006f\u0020\u0067\u0072\u0061\u0064i\u0065\u006e\u0074 \u0066\u0075\u006e\u0063t\u0069\u006f\u006e\u0020\u0066\u006f\u0075\u006e\u0064\u002c\u0020\u0073\u006b\u0069\u0070\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e");
};_debe ,_eef :=_egcb .Coords .ToFloat64Array ();if _eef !=nil {return nil ,nil ,_a .New ("\u0066\u0061\u0069l\u0065\u0064\u0020\u0067e\u0074\u0074\u0069\u006e\u0067\u0020\u0073h\u0061\u0064\u0069\u006e\u0067\u0020\u0070\u006f\u0073\u0069\u0074\u0069\u006f\u006e");
};_afa :=_bfga .ColorSpace ;_aacb ,_cdef :=_dcd .Matrix ().Transform (_debe [0],_debe [1]);_abcg ,_dccc :=_dcd .Matrix ().Transform (_debe [2],_debe [3]);_gag :=_bc .NewLinearGradient (_aacb ,_cdef ,_abcg ,_dccc );_ceb :=_fbe .MakeArrayFromFloats ([]float64 {0,0,1,1});
for _ ,_gbg :=range _debe {if _gbg > 1{_ceb =_egcb .Coords ;break ;};};if _dgee ,_ddea :=_egcb .Function [0].(*_ga .PdfFunctionType2 );_ddea {_gag ,_eef =_gfae (_gag ,_dgee ,_afa ,1.0,true );}else if _fbea ,_gfd :=_egcb .Function [0].(*_ga .PdfFunctionType3 );
_gfd {_gaaf :=append ([]float64 {0},_fbea .Bounds ...);_gaaf =append (_gaaf ,1.0);_gag ,_eef =_caba (_gag ,_fbea ,_afa ,_gaaf );};return _gag ,_ceb ,_eef ;};func (_dbf renderer )processGradient (_fbeed _ffa .Context ,_cgcg *_gg .ContentStreamOperation ,_bcd *_ga .PdfPageResources ,_bfg *_fbe .PdfObjectName )(_ffa .Gradient ,error ){if _aff ,_bgad :=_bcd .GetPatternByName (*_bfg );
_bgad &&_aff .IsShading (){_fbg :=_aff .GetAsShadingPattern ().Shading ;_dgec ,_ ,_adg :=_dbf .processShading (_fbeed ,_fbg );if _adg !=nil {return nil ,_adg ;};return _dgec ,nil ;};return nil ,nil ;};

// ImageDevice is used to render PDF pages to image targets.
type ImageDevice struct{renderer ;

// OutputWidth represents the width of the rendered images in pixels.
// The heights of the output images are calculated based on the selected
// width and the original height of each rendered page.
OutputWidth int ;};func _fbf (_ecfa ,_eggc ,_abe float64 )_da .BoundingBox {return _da .Path {Points :[]_da .Point {_da .NewPoint (0,0).Rotate (_abe ),_da .NewPoint (_ecfa ,0).Rotate (_abe ),_da .NewPoint (0,_eggc ).Rotate (_abe ),_da .NewPoint (_ecfa ,_eggc ).Rotate (_abe )}}.GetBoundingBox ();
};

// Render converts the specified PDF page into an image, flattens annotations by default and returns the result.
func (_gga *ImageDevice )Render (page *_ga .PdfPage )(_gd .Image ,error ){return _gga .RenderWithOpts (page ,false );};func (_ac renderer )renderContentStream (_ecf _ffa .Context ,_fcd string ,_gbf *_ga .PdfPageResources )error {_gfc ,_ggaa :=_gg .NewContentStreamParser (_fcd ).Parse ();
if _ggaa !=nil {return _ggaa ;};_aaf :=_ecf .TextState ();_aaf .GlobalScale =_ac ._cgb ;_dfd :=map[string ]*_ffa .TextFont {};_fef :=_c .NewFinder (&_c .FinderOpts {Extensions :[]string {"\u002e\u0074\u0074\u0066","\u002e\u0074\u0074\u0063"}});var _egc *_gg .ContentStreamOperation ;
_aea :=_gg .NewContentStreamProcessor (*_gfc );_aea .AddHandler (_gg .HandlerConditionEnumAllOperands ,"",func (_bdb *_gg .ContentStreamOperation ,_abf _gg .GraphicsState ,_cgf *_ga .PdfPageResources )error {_dg .Log .Debug ("\u0050\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0025\u0073",_bdb .Operand );
switch _bdb .Operand {case "\u0071":_ecf .Push ();case "\u0051":_ecf .Pop ();_aaf =_ecf .TextState ();case "\u0063\u006d":if len (_bdb .Params )!=6{return _eeb ;};_bgf ,_cd :=_fbe .GetNumbersAsFloat (_bdb .Params );if _cd !=nil {return _cd ;};_ca :=_df .NewMatrix (_bgf [0],_bgf [1],_bgf [2],_bgf [3],_bgf [4],_bgf [5]);
_dg .Log .Debug ("\u0047\u0072\u0061\u0070\u0068\u0069\u0063\u0073\u0020\u0073\u0074a\u0074\u0065\u0020\u006d\u0061\u0074\u0072\u0069\u0078\u003a \u0025\u002b\u0076",_ca );_ecf .SetMatrix (_ecf .Matrix ().Mult (_ca ));case "\u0077":if len (_bdb .Params )!=1{return _eeb ;
};_egdf ,_cgd :=_fbe .GetNumbersAsFloat (_bdb .Params );if _cgd !=nil {return _cgd ;};_ecf .SetLineWidth (_egdf [0]);case "\u004a":if len (_bdb .Params )!=1{return _eeb ;};_ef ,_eca :=_fbe .GetIntVal (_bdb .Params [0]);if !_eca {return _cf ;};switch _ef {case 0:_ecf .SetLineCap (_ffa .LineCapButt );
case 1:_ecf .SetLineCap (_ffa .LineCapRound );case 2:_ecf .SetLineCap (_ffa .LineCapSquare );default:_dg .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u006ee\u0020\u0063\u0061\u0070\u0020\u0073\u0074\u0079\u006c\u0065:\u0020\u0025\u0064",_ef );
return _eeb ;};case "\u006a":if len (_bdb .Params )!=1{return _eeb ;};_ag ,_bea :=_fbe .GetIntVal (_bdb .Params [0]);if !_bea {return _cf ;};switch _ag {case 0:_ecf .SetLineJoin (_ffa .LineJoinBevel );case 1:_ecf .SetLineJoin (_ffa .LineJoinRound );case 2:_ecf .SetLineJoin (_ffa .LineJoinBevel );
default:_dg .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006c\u0069\u006e\u0065\u0020\u006a\u006f\u0069\u006e \u0073\u0074\u0079l\u0065:\u0020\u0025\u0064",_ag );return _eeb ;};case "\u004d":if len (_bdb .Params )!=1{return _eeb ;};_bdf ,_acg :=_fbe .GetNumbersAsFloat (_bdb .Params );
if _acg !=nil {return _acg ;};_ =_bdf ;_dg .Log .Debug ("\u004di\u0074\u0065\u0072\u0020l\u0069\u006d\u0069\u0074\u0020n\u006ft\u0020s\u0075\u0070\u0070\u006f\u0072\u0074\u0065d");case "\u0064":if len (_bdb .Params )!=2{return _eeb ;};_dgd ,_feg :=_fbe .GetArray (_bdb .Params [0]);
if !_feg {return _cf ;};_gdd ,_feg :=_fbe .GetIntVal (_bdb .Params [1]);if !_feg {_ ,_ddf :=_fbe .GetFloatVal (_bdb .Params [1]);if !_ddf {return _cf ;};};_fa ,_ceg :=_fbe .GetNumbersAsFloat (_dgd .Elements ());if _ceg !=nil {return _ceg ;};_ecf .SetDash (_fa ...);
_ =_gdd ;_dg .Log .Debug ("\u004c\u0069n\u0065\u0020\u0064\u0061\u0073\u0068\u0020\u0070\u0068\u0061\u0073\u0065\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006frt\u0065\u0064");case "\u0072\u0069":_dg .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020i\u006e\u0074\u0065\u006e\u0074\u0020\u006eo\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");
case "\u0069":_dg .Log .Debug ("\u0046\u006c\u0061\u0074\u006e\u0065\u0073\u0073\u0020\u0074\u006f\u006c\u0065\u0072\u0061n\u0063e\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0067\u0073":if len (_bdb .Params )!=1{return _eeb ;
};_aca ,_dc :=_fbe .GetName (_bdb .Params [0]);if !_dc {return _cf ;};if _aca ==nil {return _eeb ;};_dge ,_dc :=_cgf .GetExtGState (*_aca );if !_dc {_dg .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006eo\u0074 \u0066i\u006ed\u0020\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u003a\u0020\u0025\u0073",*_aca );
return _a .New ("\u0072e\u0073o\u0075\u0072\u0063\u0065\u0020n\u006f\u0074 \u0066\u006f\u0075\u006e\u0064");};_abfb ,_dc :=_fbe .GetDict (_dge );if !_dc {_dg .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020c\u006f\u0075\u006c\u0064 ge\u0074 g\u0072\u0061\u0070\u0068\u0069\u0063\u0073 s\u0074\u0061\u0074\u0065\u0020\u0064\u0069c\u0074");
return _cf ;};_dg .Log .Debug ("G\u0053\u0020\u0064\u0069\u0063\u0074\u003a\u0020\u0025\u0073",_abfb .String ());_cec :=_abfb .Get ("\u0063\u0061");if _cec !=nil {_daa ,_cc :=_fbe .GetNumberAsFloat (_cec );if _cc ==nil {_fde ,_fge :=_abf .ColorspaceNonStroking .ColorToRGB (_abf .ColorNonStroking );
if _fge !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fge );return _fge ;};_gff ,_bbc :=_fde .(*_ga .PdfColorDeviceRGB );if !_bbc {_dg .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");
return _fge ;};_ecf .SetFillRGBA (_gff .R (),_gff .G (),_gff .B (),_daa );};};case "\u006d":if len (_bdb .Params )!=2{_dg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_eeb );
return nil ;};_bbcd ,_cfa :=_fbe .GetNumbersAsFloat (_bdb .Params );if _cfa !=nil {return _cfa ;};_dg .Log .Debug ("M\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u0076",_bbcd );_ecf .NewSubPath ();_ecf .MoveTo (_bbcd [0],_bbcd [1]);case "\u006c":if len (_bdb .Params )!=2{_dg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_eeb );
return nil ;};_baf ,_ffbd :=_fbe .GetNumbersAsFloat (_bdb .Params );if _ffbd !=nil {return _ffbd ;};_ecf .LineTo (_baf [0],_baf [1]);case "\u0063":if len (_bdb .Params )!=6{return _eeb ;};_bce ,_cbf :=_fbe .GetNumbersAsFloat (_bdb .Params );if _cbf !=nil {return _cbf ;
};_dg .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_bce );_ecf .CubicTo (_bce [0],_bce [1],_bce [2],_bce [3],_bce [4],_bce [5]);case "\u0076","\u0079":if len (_bdb .Params )!=4{return _eeb ;
};_ddd ,_fed :=_fbe .GetNumbersAsFloat (_bdb .Params );if _fed !=nil {return _fed ;};_dg .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_ddd );_ecf .QuadraticTo (_ddd [0],_ddd [1],_ddd [2],_ddd [3]);
case "\u0068":_ecf .ClosePath ();_ecf .NewSubPath ();case "\u0072\u0065":if len (_bdb .Params )!=4{return _eeb ;};_bed ,_gde :=_fbe .GetNumbersAsFloat (_bdb .Params );if _gde !=nil {return _gde ;};_ecf .DrawRectangle (_bed [0],_bed [1],_bed [2],_bed [3]);
_ecf .NewSubPath ();case "\u0053":_abc ,_eac :=_abf .ColorspaceStroking .ColorToRGB (_abf .ColorStroking );if _eac !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eac );
return _eac ;};_cag ,_fbee :=_abc .(*_ga .PdfColorDeviceRGB );if !_fbee {_dg .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _eac ;};_ecf .SetRGBA (_cag .R (),_cag .G (),_cag .B (),1);
_ecf .Stroke ();case "\u0073":_eec ,_aee :=_abf .ColorspaceStroking .ColorToRGB (_abf .ColorStroking );if _aee !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aee );
return _aee ;};_acd ,_dbd :=_eec .(*_ga .PdfColorDeviceRGB );if !_dbd {_dg .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _aee ;};_ecf .ClosePath ();_ecf .NewSubPath ();
_ecf .SetRGBA (_acd .R (),_acd .G (),_acd .B (),1);_ecf .Stroke ();case "\u0066","\u0046":_cef ,_bbf :=_abf .ColorspaceNonStroking .ColorToRGB (_abf .ColorNonStroking );if _bbf !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bbf );
return _bbf ;};switch _gedc :=_cef .(type ){case *_ga .PdfColorDeviceRGB :_ecf .SetRGBA (_gedc .R (),_gedc .G (),_gedc .B (),1);_ecf .SetFillRule (_ffa .FillRuleWinding );_ecf .Fill ();case *_ga .PdfColorPattern :_ecf .Fill ();};_dg .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");
case "\u0066\u002a":_eb ,_ccc :=_abf .ColorspaceNonStroking .ColorToRGB (_abf .ColorNonStroking );if _ccc !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ccc );
return _ccc ;};_eda ,_acdg :=_eb .(*_ga .PdfColorDeviceRGB );if !_acdg {_dg .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _ccc ;};_ecf .SetRGBA (_eda .R (),_eda .G (),_eda .B (),1);
_ecf .SetFillRule (_ffa .FillRuleEvenOdd );_ecf .Fill ();case "\u0042":_bccb ,_gac :=_abf .ColorspaceNonStroking .ColorToRGB (_abf .ColorNonStroking );if _gac !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gac );
return _gac ;};switch _deb :=_bccb .(type ){case *_ga .PdfColorDeviceRGB :_ecf .SetRGBA (_deb .R (),_deb .G (),_deb .B (),1);_ecf .SetFillRule (_ffa .FillRuleWinding );_ecf .FillPreserve ();_bccb ,_gac =_abf .ColorspaceStroking .ColorToRGB (_abf .ColorStroking );
if _gac !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gac );return _gac ;};if _cdc ,_dag :=_bccb .(*_ga .PdfColorDeviceRGB );
_dag {_ecf .SetRGBA (_cdc .R (),_cdc .G (),_cdc .B (),1);_ecf .Stroke ();};case *_ga .PdfColorPattern :_ecf .SetFillRule (_ffa .FillRuleWinding );_ecf .Fill ();_ecf .StrokePattern ();};case "\u0042\u002a":_gffe ,_fcda :=_abf .ColorspaceNonStroking .ColorToRGB (_abf .ColorNonStroking );
if _fcda !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fcda );return _fcda ;};switch _dea :=_gffe .(type ){case *_ga .PdfColorDeviceRGB :_ecf .SetRGBA (_dea .R (),_dea .G (),_dea .B (),1);
_ecf .SetFillRule (_ffa .FillRuleEvenOdd );_ecf .FillPreserve ();_gffe ,_fcda =_abf .ColorspaceStroking .ColorToRGB (_abf .ColorStroking );if _fcda !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fcda );
return _fcda ;};if _ace ,_cdb :=_gffe .(*_ga .PdfColorDeviceRGB );_cdb {_ecf .SetRGBA (_ace .R (),_ace .G (),_ace .B (),1);_ecf .Stroke ();};case *_ga .PdfColorPattern :_ecf .SetFillRule (_ffa .FillRuleEvenOdd );_ecf .Fill ();_ecf .StrokePattern ();};case "\u0062":_ecf .ClosePath ();
_aae ,_eaa :=_abf .ColorspaceNonStroking .ColorToRGB (_abf .ColorNonStroking );if _eaa !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eaa );
return _eaa ;};switch _gca :=_aae .(type ){case *_ga .PdfColorDeviceRGB :_ecf .SetRGBA (_gca .R (),_gca .G (),_gca .B (),1);_ecf .NewSubPath ();_ecf .SetFillRule (_ffa .FillRuleWinding );_ecf .FillPreserve ();_aae ,_eaa =_abf .ColorspaceStroking .ColorToRGB (_abf .ColorStroking );
if _eaa !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eaa );return _eaa ;};if _bgb ,_bccf :=_aae .(*_ga .PdfColorDeviceRGB );
_bccf {_ecf .SetRGBA (_bgb .R (),_bgb .G (),_bgb .B (),1);_ecf .Stroke ();};case *_ga .PdfColorPattern :_ecf .NewSubPath ();_ecf .SetFillRule (_ffa .FillRuleWinding );_ecf .Fill ();_ecf .StrokePattern ();};case "\u0062\u002a":_ecf .ClosePath ();_bde ,_bgg :=_abf .ColorspaceNonStroking .ColorToRGB (_abf .ColorNonStroking );
if _bgg !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bgg );return _bgg ;};switch _beag :=_bde .(type ){case *_ga .PdfColorDeviceRGB :_ecf .SetRGBA (_beag .R (),_beag .G (),_beag .B (),1);
_ecf .NewSubPath ();_ecf .SetFillRule (_ffa .FillRuleEvenOdd );_ecf .FillPreserve ();_bde ,_bgg =_abf .ColorspaceStroking .ColorToRGB (_abf .ColorStroking );if _bgg !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bgg );
return _bgg ;};if _cgc ,_eab :=_bde .(*_ga .PdfColorDeviceRGB );_eab {_ecf .SetRGBA (_cgc .R (),_cgc .G (),_cgc .B (),1);_ecf .Stroke ();};case *_ga .PdfColorPattern :_ecf .NewSubPath ();_ecf .SetFillRule (_ffa .FillRuleEvenOdd );_ecf .Fill ();_ecf .StrokePattern ();
};case "\u006e":_ecf .ClearPath ();case "\u0057":_ecf .SetFillRule (_ffa .FillRuleWinding );_ecf .ClipPreserve ();case "\u0057\u002a":_ecf .SetFillRule (_ffa .FillRuleEvenOdd );_ecf .ClipPreserve ();case "\u0072\u0067":_cad ,_deg :=_abf .ColorNonStroking .(*_ga .PdfColorDeviceRGB );
if !_deg {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorNonStroking );return nil ;};_ecf .SetFillRGBA (_cad .R (),_cad .G (),_cad .B (),1);
case "\u0052\u0047":_fgg ,_edd :=_abf .ColorStroking .(*_ga .PdfColorDeviceRGB );if !_edd {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorStroking );
return nil ;};_ecf .SetStrokeRGBA (_fgg .R (),_fgg .G (),_fgg .B (),1);case "\u006b":_efd ,_ddfc :=_abf .ColorNonStroking .(*_ga .PdfColorDeviceCMYK );if !_ddfc {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorNonStroking );
return nil ;};_cce ,_debc :=_abf .ColorspaceNonStroking .ColorToRGB (_efd );if _debc !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorNonStroking );
return nil ;};_af ,_ddfc :=_cce .(*_ga .PdfColorDeviceRGB );if !_ddfc {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cce );return nil ;
};_ecf .SetFillRGBA (_af .R (),_af .G (),_af .B (),1);case "\u004b":_abba ,_bgfc :=_abf .ColorStroking .(*_ga .PdfColorDeviceCMYK );if !_bgfc {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorStroking );
return nil ;};_ecd ,_beaa :=_abf .ColorspaceStroking .ColorToRGB (_abba );if _beaa !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorStroking );
return nil ;};_gge ,_bgfc :=_ecd .(*_ga .PdfColorDeviceRGB );if !_bgfc {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ecd );return nil ;
};_ecf .SetStrokeRGBA (_gge .R (),_gge .G (),_gge .B (),1);case "\u0067":_abd ,_dbe :=_abf .ColorNonStroking .(*_ga .PdfColorDeviceGray );if !_dbe {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorNonStroking );
return nil ;};_egcc ,_ddc :=_abf .ColorspaceNonStroking .ColorToRGB (_abd );if _ddc !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorNonStroking );
return nil ;};_cfe ,_dbe :=_egcc .(*_ga .PdfColorDeviceRGB );if !_dbe {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_egcc );return nil ;
};_ecf .SetFillRGBA (_cfe .R (),_cfe .G (),_cfe .B (),1);case "\u0047":_beab ,_bba :=_abf .ColorStroking .(*_ga .PdfColorDeviceGray );if !_bba {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorStroking );
return nil ;};_fdf ,_fgf :=_abf .ColorspaceStroking .ColorToRGB (_beab );if _fgf !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorStroking );
return nil ;};_bcf ,_bba :=_fdf .(*_ga .PdfColorDeviceRGB );if !_bba {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fdf );return nil ;
};_ecf .SetStrokeRGBA (_bcf .R (),_bcf .G (),_bcf .B (),1);case "\u0063\u0073":if len (_bdb .Params )> 0{if _fba ,_fff :=_fbe .GetName (_bdb .Params [0]);_fff &&_fba .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{break ;};};_dgb ,_edf :=_abf .ColorspaceNonStroking .ColorToRGB (_abf .ColorNonStroking );
if _edf !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorNonStroking );return nil ;};_gee ,_gaa :=_dgb .(*_ga .PdfColorDeviceRGB );
if !_gaa {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dgb );return nil ;};_ecf .SetFillRGBA (_gee .R (),_gee .G (),_gee .B (),1);
case "\u0073\u0063":_cafd ,_gae :=_abf .ColorspaceNonStroking .ColorToRGB (_abf .ColorNonStroking );if _gae !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorNonStroking );
return nil ;};_cdf ,_gbd :=_cafd .(*_ga .PdfColorDeviceRGB );if !_gbd {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cafd );return nil ;
};_ecf .SetFillRGBA (_cdf .R (),_cdf .G (),_cdf .B (),1);case "\u0073\u0063\u006e":if len (_bdb .Params )> 0&&len (_egc .Params )> 0{if _afe ,_eeef :=_fbe .GetName (_egc .Params [0]);_eeef &&_afe .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{if _dcf ,_fce :=_fbe .GetName (_bdb .Params [0]);
_fce {_ccf ,_aafe :=_ac .processGradient (_ecf ,_bdb ,_cgf ,_dcf );if _aafe !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077\u0068\u0065\u006e\u0020\u0070\u0072o\u0063\u0065\u0073\u0073\u0069\u006eg\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074\u0020\u0064\u0061\u0074a\u003a\u0020\u0025\u0076",_aafe );
break ;};if _ccf ==nil {_dg .Log .Debug ("\u0055\u006ek\u006e\u006f\u0077n\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074");break ;};_ecf .SetFillStyle (_ccf );_ecf .SetStrokeStyle (_ccf );break ;};};};_agg ,_gcad :=_abf .ColorspaceNonStroking .ColorToRGB (_abf .ColorNonStroking );
if _gcad !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorNonStroking );return nil ;};_aba ,_cdfb :=_agg .(*_ga .PdfColorDeviceRGB );
if !_cdfb {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_agg );return nil ;};_ecf .SetFillRGBA (_aba .R (),_aba .G (),_aba .B (),1);
case "\u0043\u0053":if len (_bdb .Params )> 0{if _ege ,_gdf :=_fbe .GetName (_bdb .Params [0]);_gdf &&_ege .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{break ;};};_gddb ,_dff :=_abf .ColorspaceStroking .ColorToRGB (_abf .ColorStroking );if _dff !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorStroking );
return nil ;};_bbcdc ,_bgac :=_gddb .(*_ga .PdfColorDeviceRGB );if !_bgac {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gddb );return nil ;
};_ecf .SetStrokeRGBA (_bbcdc .R (),_bbcdc .G (),_bbcdc .B (),1);case "\u0053\u0043":_egf ,_bafa :=_abf .ColorspaceStroking .ColorToRGB (_abf .ColorStroking );if _bafa !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorStroking );
return nil ;};_aac ,_dcfd :=_egf .(*_ga .PdfColorDeviceRGB );if !_dcfd {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_egf );return nil ;
};_ecf .SetStrokeRGBA (_aac .R (),_aac .G (),_aac .B (),1);case "\u0053\u0043\u004e":if len (_bdb .Params )> 0&&len (_egc .Params )> 0{if _bdbf ,_cgbf :=_fbe .GetName (_egc .Params [0]);_cgbf &&_bdbf .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{if _gdc ,_cbe :=_fbe .GetName (_bdb .Params [0]);
_cbe {_dga ,_cadc :=_ac .processGradient (_ecf ,_bdb ,_cgf ,_gdc );if _cadc !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077\u0068\u0065\u006e\u0020\u0070\u0072o\u0063\u0065\u0073\u0073\u0069\u006eg\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074\u0020\u0064\u0061\u0074a\u003a\u0020\u0025\u0076",_cadc );
break ;};if _dga ==nil {_dg .Log .Debug ("\u0055\u006ek\u006e\u006f\u0077n\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074");break ;};_ecf .SetFillStyle (_dga );_ecf .SetStrokeStyle (_dga );break ;};};};_bgc ,_afb :=_abf .ColorspaceStroking .ColorToRGB (_abf .ColorStroking );
if _afb !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_abf .ColorStroking );return nil ;};_aab ,_dac :=_bgc .(*_ga .PdfColorDeviceRGB );
if !_dac {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bgc );return nil ;};_ecf .SetStrokeRGBA (_aab .R (),_aab .G (),_aab .B (),1);
case "\u0073\u0068":if len (_bdb .Params )!=1{_dg .Log .Debug ("\u0049n\u0076\u0061\u006c\u0069\u0064\u0020\u0073\u0068\u0020\u0070\u0061r\u0061\u006d\u0073\u0020\u0066\u006f\u0072\u006d\u0061\u0074");break ;};_abac ,_ead :=_fbe .GetName (_bdb .Params [0]);
if !_ead {_dg .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020g\u0065\u0074\u0074\u0069\u006e\u0067\u0020\u0073\u0068a\u0064\u0069\u006eg\u0020n\u0061\u006d\u0065");break ;};_efc ,_ead :=_cgf .GetShadingByName (*_abac );if !_ead {_dg .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020g\u0065\u0074\u0074\u0069\u006e\u0067\u0020\u0073\u0068a\u0064\u0069\u006eg\u0020d\u0061\u0074\u0061");
break ;};_aggd ,_aeg ,_gaaa :=_ac .processShading (_ecf ,_efc );if _gaaa !=nil {_dg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077\u0068\u0065\u006e\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0073\u0068a\u0064\u0069\u006e\u0067\u0020d\u0061\u0074a\u003a\u0020\u0025\u0076",_gaaa );
break ;};if _aggd ==nil {_dg .Log .Debug ("\u0055\u006ek\u006e\u006f\u0077n\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074");break ;};_gcc ,_gaaa :=_aeg .ToFloat64Array ();if _gaaa !=nil {_dg .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073: \u0025\u0076",_gaaa );
break ;};_ecf .DrawRectangle (_gcc [0],_gcc [1],_gcc [2],_gcc [3]);_ecf .NewSubPath ();_ecf .SetFillStyle (_aggd );_ecf .SetStrokeStyle (_aggd );_ecf .Fill ();case "\u0044\u006f":if len (_bdb .Params )!=1{return _eeb ;};_fdb ,_aeed :=_fbe .GetName (_bdb .Params [0]);
if !_aeed {return _cf ;};_ ,_faa :=_cgf .GetXObjectByName (*_fdb );switch _faa {case _ga .XObjectTypeImage :_dg .Log .Debug ("\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u0069\u006d\u0061\u0067e\u003a\u0020\u0025\u0073",_fdb .String ());_fdba ,_dgc :=_cgf .GetXObjectImageByName (*_fdb );
if _dgc !=nil {return _dgc ;};_ded ,_dgc :=_fdba .ToImage ();if _dgc !=nil {_dg .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_dgc );
return nil ;};if _agb :=_fdba .ColorSpace ;_agb !=nil {var _ebd bool ;switch _agb .(type ){case *_ga .PdfColorspaceSpecialIndexed :_ebd =true ;};if _ebd {if _eaf ,_eafb :=_agb .ImageToRGB (*_ded );_eafb !=nil {_dg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0063\u006fnv\u0065r\u0074\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u0074\u006f\u0020\u0052G\u0042\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020i\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
}else {_ded =&_eaf ;};};};_ccg :=_ecf .FillPattern ().ColorAt (0,0);var _beac _gd .Image ;if _fdba .Mask !=nil {if _beac ,_dgc =_abcb (_fdba .Mask ,_ccg );_dgc !=nil {_dg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a \u0063\u006f\u0075\u006c\u0064 \u006eo\u0074\u0020\u0067\u0065\u0074\u0020\u0065\u0078\u0070\u006c\u0069\u0063\u0069\u0074\u0020\u0069\u006d\u0061\u0067e\u0020\u006d\u0061\u0073\u006b\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e");
};}else if _fdba .SMask !=nil {if _beac ,_dgc =_agbf (_fdba .SMask ,_ccg );_dgc !=nil {_dg .Log .Debug ("W\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0067\u0065\u0074\u0020\u0073\u006f\u0066\u0074\u0020\u0069\u006da\u0067e\u0020\u006d\u0061\u0073k\u002e\u0020O\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
};};var _egccg _gd .Image ;if _bf ,_ :=_fbe .GetBoolVal (_fdba .ImageMask );_bf {_egccg =_cbc (_ded ,_ccg );}else {_egccg ,_dgc =_ded .ToGoImage ();if _dgc !=nil {_dg .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_dgc );
return nil ;};};if _beac !=nil {_egccg =_dgba (_egccg ,_beac );};_dade :=_egccg .Bounds ();_ecf .Push ();_ecf .Scale (1.0/float64 (_dade .Dx ()),-1.0/float64 (_dade .Dy ()));_ecf .DrawImageAnchored (_egccg ,0,0,0,1);_ecf .Pop ();case _ga .XObjectTypeForm :_dg .Log .Debug ("\u0058\u004fb\u006a\u0065\u0063t\u0020\u0066\u006f\u0072\u006d\u003a\u0020\u0025\u0073",_fdb .String ());
_cab ,_acea :=_cgf .GetXObjectFormByName (*_fdb );if _acea !=nil {return _acea ;};_acf ,_acea :=_cab .GetContentStream ();if _acea !=nil {return _acea ;};_acc :=_cab .Resources ;if _acc ==nil {_acc =_cgf ;};_ecf .Push ();if _cab .Matrix !=nil {_egef ,_cdd :=_fbe .GetArray (_cab .Matrix );
if !_cdd {return _cf ;};_acb ,_dbg :=_fbe .GetNumbersAsFloat (_egef .Elements ());if _dbg !=nil {return _dbg ;};if len (_acb )!=6{return _eeb ;};_dgag :=_df .NewMatrix (_acb [0],_acb [1],_acb [2],_acb [3],_acb [4],_acb [5]);_ecf .SetMatrix (_ecf .Matrix ().Mult (_dgag ));
};if _cab .BBox !=nil {_afbf ,_beb :=_fbe .GetArray (_cab .BBox );if !_beb {return _cf ;};_ade ,_ggge :=_fbe .GetNumbersAsFloat (_afbf .Elements ());if _ggge !=nil {return _ggge ;};if len (_ade )!=4{_dg .Log .Debug ("\u004c\u0065\u006e\u0020\u003d\u0020\u0025\u0064",len (_ade ));
return _eeb ;};_ecf .DrawRectangle (_ade [0],_ade [1],_ade [2]-_ade [0],_ade [3]-_ade [1]);_ecf .SetRGBA (1,0,0,1);_ecf .Clip ();}else {_dg .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0052\u0065q\u0075\u0069\u0072e\u0064\u0020\u0042\u0042\u006f\u0078\u0020\u006d\u0069ss\u0069\u006e\u0067 \u006f\u006e \u0058\u004f\u0062\u006a\u0065\u0063t\u0020\u0046o\u0072\u006d");
};_acea =_ac .renderContentStream (_ecf ,string (_acf ),_acc );if _acea !=nil {return _acea ;};_ecf .Pop ();};case "\u0042\u0049":if len (_bdb .Params )!=1{return _eeb ;};_eede ,_eae :=_bdb .Params [0].(*_gg .ContentStreamInlineImage );if !_eae {return nil ;
};_dgdf ,_cff :=_eede .ToImage (_cgf );if _cff !=nil {_dg .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_cff );
return nil ;};_ggad ,_cff :=_dgdf .ToGoImage ();if _cff !=nil {_dg .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_cff );
return nil ;};_ggb :=_ggad .Bounds ();_ecf .Push ();_ecf .Scale (1.0/float64 (_ggb .Dx ()),-1.0/float64 (_ggb .Dy ()));_ecf .DrawImageAnchored (_ggad ,0,0,0,1);_ecf .Pop ();case "\u0042\u0054":_aaf .Reset ();case "\u0045\u0054":_aaf .Reset ();case "\u0054\u0072":if len (_bdb .Params )!=1{return _eeb ;
};_aabb ,_ggf :=_fbe .GetNumberAsFloat (_bdb .Params [0]);if _ggf !=nil {return _ggf ;};_aaf .Tr =_ffa .TextRenderingMode (_aabb );case "\u0054\u004c":if len (_bdb .Params )!=1{return _eeb ;};_feb ,_cac :=_fbe .GetNumberAsFloat (_bdb .Params [0]);if _cac !=nil {return _cac ;
};_aaf .Tl =_feb ;case "\u0054\u0063":if len (_bdb .Params )!=1{return _eeb ;};_ddg ,_fccf :=_fbe .GetNumberAsFloat (_bdb .Params [0]);if _fccf !=nil {return _fccf ;};_dg .Log .Debug ("\u0054\u0063\u003a\u0020\u0025\u0076",_ddg );_aaf .Tc =_ddg ;case "\u0054\u0077":if len (_bdb .Params )!=1{return _eeb ;
};_bbb ,_fca :=_fbe .GetNumberAsFloat (_bdb .Params [0]);if _fca !=nil {return _fca ;};_dg .Log .Debug ("\u0054\u0077\u003a\u0020\u0025\u0076",_bbb );_aaf .Tw =_bbb ;case "\u0054\u007a":if len (_bdb .Params )!=1{return _eeb ;};_afec ,_gbdb :=_fbe .GetNumberAsFloat (_bdb .Params [0]);
if _gbdb !=nil {return _gbdb ;};_aaf .Th =_afec ;case "\u0054\u0073":if len (_bdb .Params )!=1{return _eeb ;};_dda ,_cdfa :=_fbe .GetNumberAsFloat (_bdb .Params [0]);if _cdfa !=nil {return _cdfa ;};_aaf .Ts =_dda ;case "\u0054\u0064":if len (_bdb .Params )!=2{return _eeb ;
};_bbbb ,_efb :=_fbe .GetNumbersAsFloat (_bdb .Params );if _efb !=nil {return _efb ;};_dg .Log .Debug ("\u0054\u0064\u003a\u0020\u0025\u0076",_bbbb );_aaf .ProcTd (_bbbb [0],_bbbb [1]);case "\u0054\u0044":if len (_bdb .Params )!=2{return _eeb ;};_cae ,_eff :=_fbe .GetNumbersAsFloat (_bdb .Params );
if _eff !=nil {return _eff ;};_dg .Log .Debug ("\u0054\u0044\u003a\u0020\u0025\u0076",_cae );_aaf .ProcTD (_cae [0],_cae [1]);case "\u0054\u002a":_aaf .ProcTStar ();case "\u0054\u006d":if len (_bdb .Params )!=6{return _eeb ;};_dffb ,_bdfa :=_fbe .GetNumbersAsFloat (_bdb .Params );
if _bdfa !=nil {return _bdfa ;};_dg .Log .Debug ("\u0054\u0065x\u0074\u0020\u006da\u0074\u0072\u0069\u0078\u003a\u0020\u0025\u002b\u0076",_dffb );_aaf .ProcTm (_dffb [0],_dffb [1],_dffb [2],_dffb [3],_dffb [4],_dffb [5]);case "\u0027":if len (_bdb .Params )!=1{return _eeb ;
};_cda ,_cdg :=_fbe .GetStringBytes (_bdb .Params [0]);if !_cdg {return _cf ;};_dg .Log .Debug ("\u0027\u0020\u0073t\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_cda ));_aaf .ProcQ (_cda ,_ecf );case "\u0022":if len (_bdb .Params )!=3{return _eeb ;
};_cde ,_acgb :=_fbe .GetNumberAsFloat (_bdb .Params [0]);if _acgb !=nil {return _acgb ;};_dcc ,_acgb :=_fbe .GetNumberAsFloat (_bdb .Params [1]);if _acgb !=nil {return _acgb ;};_ccfg ,_aag :=_fbe .GetStringBytes (_bdb .Params [2]);if !_aag {return _cf ;
};_aaf .ProcDQ (_ccfg ,_cde ,_dcc ,_ecf );case "\u0054\u006a":if len (_bdb .Params )!=1{return _eeb ;};_ecda ,_cfg :=_fbe .GetStringBytes (_bdb .Params [0]);if !_cfg {return _cf ;};_dg .Log .Debug ("\u0054j\u0020s\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0060\u0025\u0073\u0060",string (_ecda ));
_aaf .ProcTj (_ecda ,_ecf );case "\u0054\u004a":if len (_bdb .Params )!=1{return _eeb ;};_bef ,_efa :=_fbe .GetArray (_bdb .Params [0]);if !_efa {_dg .Log .Debug ("\u0054\u0079\u0070\u0065\u003a\u0020\u0025\u0054",_bef );return _cf ;};_dg .Log .Debug ("\u0054\u004a\u0020\u0061\u0072\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_bef );
for _ ,_afd :=range _bef .Elements (){switch _ece :=_afd .(type ){case *_fbe .PdfObjectString :if _ece !=nil {_aaf .ProcTj (_ece .Bytes (),_ecf );};case *_fbe .PdfObjectFloat ,*_fbe .PdfObjectInteger :_fae ,_bceg :=_fbe .GetNumberAsFloat (_ece );if _bceg ==nil {_aaf .Translate (-_fae *0.001*_aaf .Tf .Size *_aaf .Th /100.0,0);
};};};case "\u0054\u0066":if len (_bdb .Params )!=2{return _eeb ;};_dg .Log .Debug ("\u0025\u0023\u0076",_bdb .Params );_gcd ,_egdfd :=_fbe .GetName (_bdb .Params [0]);if !_egdfd ||_gcd ==nil {_dg .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u006e\u0061m\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_bdb .Params [0]);
return _cf ;};_dg .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u006e\u0061\u006d\u0065\u003a\u0020\u0025\u0073",_gcd .String ());_dccf ,_egfd :=_fbe .GetNumberAsFloat (_bdb .Params [1]);if _egfd !=nil {_dg .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u0073\u0069z\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_bdb .Params [1]);
return _cf ;};_dg .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u0073\u0069\u007a\u0065\u003a\u0020\u0025\u0076",_dccf );_dde ,_dce :=_cgf .GetFontByName (*_gcd );if !_dce {_dg .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0046\u006f\u006e\u0074\u0020\u0025s\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064",_gcd .String ());
return _a .New ("\u0066\u006f\u006e\u0074\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};_dg .Log .Debug ("\u0046\u006f\u006e\u0074\u003a\u0020\u0025\u0054",_dde );_afbb ,_egdfd :=_fbe .GetDict (_dde );if !_egdfd {_dg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075l\u0064\u0020\u006e\u006f\u0074\u0020\u0067e\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0069\u0063\u0074");
return _cf ;};_bfb ,_egfd :=_ga .NewPdfFontFromPdfObject (_afbb );if _egfd !=nil {_dg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066\u0072\u006fm\u0020\u006fb\u006a\u0065\u0063\u0074");
return _egfd ;};_ggfg :=_bfb .BaseFont ();if _ggfg ==""{_ggfg =_gcd .String ();};_cga ,_egdfd :=_dfd [_ggfg ];if !_egdfd {_cga ,_egfd =_ffa .NewTextFont (_bfb ,_dccf );if _egfd !=nil {_dg .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_egfd );
};};if _cga ==nil {if len (_ggfg )> 7&&_ggfg [6]=='+'{_ggfg =_ggfg [7:];};_adac :=[]string {_ggfg ,"\u0054i\u006de\u0073\u0020\u004e\u0065\u0077\u0020\u0052\u006f\u006d\u0061\u006e","\u0041\u0072\u0069a\u006c","D\u0065\u006a\u0061\u0056\u0075\u0020\u0053\u0061\u006e\u0073"};
for _ ,_dedg :=range _adac {_dg .Log .Debug ("\u0044\u0045\u0042\u0055\u0047\u003a \u0073\u0065\u0061\u0072\u0063\u0068\u0069\u006e\u0067\u0020\u0073\u0079\u0073t\u0065\u006d\u0020\u0066\u006f\u006e\u0074 \u0060\u0025\u0073\u0060",_dedg );if _cga ,_egdfd =_dfd [_dedg ];
_egdfd {break ;};_cfef :=_fef .Match (_dedg );if _cfef ==nil {_dg .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u0066\u0069\u006e\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_dedg );continue ;};_cga ,_egfd =_ffa .NewTextFontFromPath (_cfef .Filename ,_dccf );
if _egfd !=nil {_dg .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_cfef .Filename );continue ;};_dg .Log .Debug ("\u0053\u0075\u0062\u0073\u0074\u0069t\u0075\u0074\u0069\u006e\u0067\u0020\u0066\u006f\u006e\u0074\u0020\u0025\u0073 \u0077\u0069\u0074\u0068\u0020\u0025\u0073 \u0028\u0025\u0073\u0029",_ggfg ,_cfef .Name ,_cfef .Filename );
_dfd [_dedg ]=_cga ;break ;};};if _cga ==nil {_dg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020n\u006f\u0074\u0020\u0066\u0069\u006ed\u0020\u0061\u006e\u0079\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065 \u0066\u006f\u006e\u0074");
return _a .New ("\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0066\u0069\u006e\u0064\u0020a\u006ey\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065\u0020\u0066\u006f\u006e\u0074");};_aaf .ProcTf (_cga .WithSize (_dccf ,_bfb ));case "\u0042\u004d\u0043","\u0042\u0044\u0043":if len (_bdb .Params )==2&&_bdb .Params [0].String ()=="\u0041\u0072\u0074\u0069\u0066\u0061\u0063\u0074"{_efba ,_dbgd :=_fbe .GetDict (_bdb .Params [1]);
if _dbgd {if _efba .Get ("\u0053u\u0062\u0074\u0079\u0070\u0065")!=nil &&_efba .Get ("\u0053u\u0062\u0074\u0079\u0070\u0065").String ()=="\u0057a\u0074\u0065\u0072\u006d\u0061\u0072k"{_aaf .Tr =_ffa .TextRenderingModeInvisible ;};};};case "\u0045\u004d\u0043":default:_dg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0073u\u0070\u0070\u006f\u0072\u0074\u0065\u0064 \u006f\u0070\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u0073",_bdb .Operand );
};_egc =_bdb ;return nil ;});_ggaa =_aea .Process (_gbf );if _ggaa !=nil {return _ggaa ;};return nil ;};var (_cf =_a .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_eeb =_a .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072");
);func (_gcg renderer )processShading (_cgce _ffa .Context ,_cddf *_ga .PdfShading )(_ffa .Gradient ,*_fbe .PdfObjectArray ,error ){_fbc :=int64 (*_cddf .ShadingType );if _fbc ==int64 (ShadingTypeAxial ){return _gcg .processLinearShading (_cgce ,_cddf );
}else if _fbc ==int64 (ShadingTypeRadial ){return _gcg .processRadialShading (_cgce ,_cddf );}else {_dg .Log .Debug (_e .Sprintf ("\u0050r\u006f\u0063e\u0073\u0073\u0069n\u0067\u0020\u0067\u0072\u0061\u0064\u0069e\u006e\u0074\u0020\u0074\u0079\u0070e\u0020\u0025\u0064\u0020\u006e\u006f\u0074\u0020\u0079\u0065\u0074 \u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064",_fbc ));
};return nil ,nil ,nil ;};func _dgba (_ebe ,_cbge _gd .Image )_gd .Image {_dega ,_fgc :=_cbge .Bounds ().Size (),_ebe .Bounds ().Size ();_ddaa ,_eeea :=_dega .X ,_dega .Y ;if _fgc .X > _ddaa {_ddaa =_fgc .X ;};if _fgc .Y > _eeea {_eeea =_fgc .Y ;};_bfdd :=_gd .Rect (0,0,_ddaa ,_eeea );
if _dega .X !=_ddaa ||_dega .Y !=_eeea {_cbgf :=_gd .NewRGBA (_bfdd );_fc .BiLinear .Scale (_cbgf ,_bfdd ,_ebe ,_cbge .Bounds (),_fc .Over ,nil );_cbge =_cbgf ;};if _fgc .X !=_ddaa ||_fgc .Y !=_eeea {_gec :=_gd .NewRGBA (_bfdd );_fc .BiLinear .Scale (_gec ,_bfdd ,_ebe ,_ebe .Bounds (),_fc .Over ,nil );
_ebe =_gec ;};_aegg :=_gd .NewRGBA (_bfdd );_fc .DrawMask (_aegg ,_bfdd ,_ebe ,_gd .Point {},_cbge ,_gd .Point {},_fc .Over );return _aegg ;};func _gad (_gfaa string ,_afed _gd .Image ,_dffa int )error {_ccbe ,_dbgb :=_ff .Create (_gfaa );if _dbgb !=nil {return _dbgb ;
};defer _ccbe .Close ();return _be .Encode (_ccbe ,_afed ,&_be .Options {Quality :_dffa });};

// RenderToPath converts the specified PDF page into an image and saves the
// result at the specified location.
func (_gc *ImageDevice )RenderToPath (page *_ga .PdfPage ,outputPath string )error {_ea ,_ggg :=_gc .Render (page );if _ggg !=nil {return _ggg ;};_ged :=_ae .ToLower (_b .Ext (outputPath ));if _ged ==""{return _a .New ("\u0063\u006ful\u0064\u0020\u006eo\u0074\u0020\u0072\u0065cog\u006eiz\u0065\u0020\u006f\u0075\u0074\u0070\u0075t \u0066\u0069\u006c\u0065\u0020\u0074\u0079p\u0065");
};switch _ged {case "\u002e\u0070\u006e\u0067":return _aga (outputPath ,_ea );case "\u002e\u006a\u0070\u0067","\u002e\u006a\u0070e\u0067":return _gad (outputPath ,_ea ,100);};return _e .Errorf ("\u0075\u006e\u0072\u0065\u0063\u006fg\u006e\u0069\u007a\u0065\u0064\u0020\u006f\u0075\u0074\u0070\u0075\u0074\u0020f\u0069\u006c\u0065\u0020\u0074\u0079\u0070e\u003a\u0020\u0025\u0073",_ged );
};func _cbc (_gcabf *_ga .Image ,_bfa _g .Color )_gd .Image {_cee ,_bcec :=int (_gcabf .Width ),int (_gcabf .Height );_aec :=_gd .NewRGBA (_gd .Rect (0,0,_cee ,_bcec ));for _ccff :=0;_ccff < _bcec ;_ccff ++{for _bfd :=0;_bfd < _cee ;_bfd ++{_bgcb ,_abag :=_gcabf .ColorAt (_bfd ,_ccff );
if _abag !=nil {_dg .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_bfd ,_ccff );
continue ;};_cca ,_acfg ,_cfeg ,_ :=_bgcb .RGBA ();var _cebg _g .Color ;if _cca +_acfg +_cfeg ==0{_cebg =_bfa ;}else {_cebg =_g .Transparent ;};_aec .Set (_bfd ,_ccff ,_cebg );};};return _aec ;};const (ShadingTypeFunctionBased PdfShadingType =1;ShadingTypeAxial PdfShadingType =2;
ShadingTypeRadial PdfShadingType =3;ShadingTypeFreeForm PdfShadingType =4;ShadingTypeLatticeForm PdfShadingType =5;ShadingTypeCoons PdfShadingType =6;ShadingTypeTensorProduct PdfShadingType =7;);func (_bfc renderer )processRadialShading (_cea _ffa .Context ,_cabd *_ga .PdfShading )(_ffa .Gradient ,*_fbe .PdfObjectArray ,error ){_geda :=_cabd .GetContext ().(*_ga .PdfShadingType3 );
if len (_geda .Function )==0{return nil ,nil ,_a .New ("\u006e\u006f\u0020\u0067\u0072\u0061\u0064i\u0065\u006e\u0074 \u0066\u0075\u006e\u0063t\u0069\u006f\u006e\u0020\u0066\u006f\u0075\u006e\u0064\u002c\u0020\u0073\u006b\u0069\u0070\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e");
};_fgd ,_dgf :=_geda .Coords .ToFloat64Array ();if _dgf !=nil {return nil ,nil ,_a .New ("\u0066\u0061\u0069l\u0065\u0064\u0020\u0067e\u0074\u0074\u0069\u006e\u0067\u0020\u0073h\u0061\u0064\u0069\u006e\u0067\u0020\u0070\u006f\u0073\u0069\u0074\u0069\u006f\u006e");
};_fcaa :=_cabd .ColorSpace ;_gea :=_fbe .MakeArrayFromFloats ([]float64 {0,0,1,1});var _edc ,_gbge ,_gcae ,_afag ,_dcee ,_adc float64 ;_edc ,_gbge =_cea .Matrix ().Transform (_fgd [0],_fgd [1]);_gcae ,_afag =_cea .Matrix ().Transform (_fgd [3],_fgd [4]);
_dcee ,_ =_cea .Matrix ().Transform (_fgd [2],0);_adc ,_ =_cea .Matrix ().Transform (_fgd [5],0);_eada ,_ :=_cea .Matrix ().Translation ();_dcee -=_eada ;_adc -=_eada ;for _fac ,_acde :=range _fgd {if _fac ==2||_fac ==5{continue ;};if _acde > 1.0{_abbe :=_ffe .Min (_edc -_dcee ,_gcae -_adc );
_cbg :=_ffe .Min (_gbge -_dcee ,_afag -_adc );_dfdg :=_ffe .Max (_edc +_dcee ,_gcae +_adc );_eecf :=_ffe .Max (_gbge +_dcee ,_afag +_adc );_ebf :=_dfdg -_abbe ;_faf :=_cbg -_eecf ;_gea =_fbe .MakeArrayFromFloats ([]float64 {_abbe ,_cbg ,_ebf ,_faf });break ;
};};_cecb :=_bc .NewRadialGradient (_edc ,_gbge ,_dcee ,_gcae ,_afag ,_adc );if _bbe ,_gba :=_geda .Function [0].(*_ga .PdfFunctionType2 );_gba {_cecb ,_dgf =_gfae (_cecb ,_bbe ,_fcaa ,1.0,true );}else if _gfa ,_aaee :=_geda .Function [0].(*_ga .PdfFunctionType3 );
_aaee {_gef :=append ([]float64 {0},_gfa .Bounds ...);_gef =append (_gef ,1.0);_cecb ,_dgf =_caba (_cecb ,_gfa ,_fcaa ,_gef );};if _dgf !=nil {return nil ,nil ,_dgf ;};return _cecb ,_gea ,nil ;};type renderer struct{_cgb float64 };func _abcb (_edcf _fbe .PdfObject ,_gccf _g .Color )(_gd .Image ,error ){_eeg ,_ccab :=_fbe .GetStream (_edcf );
if !_ccab {return nil ,nil ;};_acdga ,_cgea :=_ga .NewXObjectImageFromStream (_eeg );if _cgea !=nil {return nil ,_cgea ;};_fbeg ,_cgea :=_acdga .ToImage ();if _cgea !=nil {return nil ,_cgea ;};return _cbc (_fbeg ,_gccf ),nil ;};func _caba (_fcdb _ffa .Gradient ,_ggc *_ga .PdfFunctionType3 ,_ccb _ga .PdfColorspace ,_fdbg []float64 )(_ffa .Gradient ,error ){var _daga error ;
for _bcfa :=0;_bcfa < len (_ggc .Functions );_bcfa ++{if _gfdd ,_cgcb :=_ggc .Functions [_bcfa ].(*_ga .PdfFunctionType2 );_cgcb {_fcdb ,_daga =_gfae (_fcdb ,_gfdd ,_ccb ,_fdbg [_bcfa +1],_bcfa ==0);if _daga !=nil {return nil ,_daga ;};};};return _fcdb ,nil ;
};func _agbf (_bdg _fbe .PdfObject ,_aaca _g .Color )(_gd .Image ,error ){_dacc ,_afc :=_fbe .GetStream (_bdg );if !_afc {return nil ,nil ;};_eaag ,_fcg :=_ga .NewXObjectImageFromStream (_dacc );if _fcg !=nil {return nil ,_fcg ;};_ggfc ,_fcg :=_eaag .ToImage ();
if _fcg !=nil {return nil ,_fcg ;};return _ddgf (_ggfc ,_aaca ),nil ;};