//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package render ;import (_ag "errors";_edb "fmt";_gg "github.com/adrg/sysfont";_fea "github.com/unidoc/unipdf/v4/annotator";_ae "github.com/unidoc/unipdf/v4/common";_fe "github.com/unidoc/unipdf/v4/contentstream";_cf "github.com/unidoc/unipdf/v4/contentstream/draw";
_b "github.com/unidoc/unipdf/v4/core";_g "github.com/unidoc/unipdf/v4/internal/license";_fd "github.com/unidoc/unipdf/v4/internal/transform";_ea "github.com/unidoc/unipdf/v4/model";_aa "github.com/unidoc/unipdf/v4/render/internal/context";_cfa "github.com/unidoc/unipdf/v4/render/internal/context/imagerender";
_ga "golang.org/x/image/draw";_fa "image";_f "image/color";_dc "image/draw";_de "image/jpeg";_dd "image/png";_ed "math";_c "os";_d "path/filepath";_e "strings";);func (_efc renderer )processGradient (_fcf _aa .Context ,_ecd *_fe .ContentStreamOperation ,_beeb *_ea .PdfPageResources ,_gae *_b .PdfObjectName )(_aa .Gradient ,error ){if _adf ,_dgbg :=_beeb .GetPatternByName (*_gae );
_dgbg &&_adf .IsShading (){_affa :=_adf .GetAsShadingPattern ().Shading ;_ega ,_ ,_gacf :=_efc .processShading (_fcf ,_affa );if _gacf !=nil {return nil ,_gacf ;};return _ega ,nil ;};return nil ,nil ;};

// RenderWithOpts converts the specified PDF page into an image, optionally flattens annotations and returns the result.
func (_be *ImageDevice )RenderWithOpts (page *_ea .PdfPage ,skipFlattening bool )(_fa .Image ,error ){_gaa ,_ge :=page .GetMediaBox ();if _ge !=nil {return nil ,_ge ;};_gaa .Normalize ();_ffb :=page .CropBox ;var _fdf ,_gd float64 ;if _ffb !=nil {_ffb .Normalize ();
_fdf ,_gd =_ffb .Width (),_ffb .Height ();};_eg :=page .Rotate ;_ffbc ,_feg ,_cg ,_egd :=_gaa .Llx ,_gaa .Lly ,_gaa .Width (),_gaa .Height ();_ggg :=_fd .IdentityMatrix ();if _eg !=nil &&*_eg %360!=0&&*_eg %90==0{_fef :=-float64 (*_eg );_edc :=_aad (_cg ,_egd ,_fef );
_ggg =_ggg .Translate ((_edc .Width -_cg )/2+_cg /2,(_edc .Height -_egd )/2+_egd /2).Rotate (_fef *_ed .Pi /180).Translate (-_cg /2,-_egd /2);_cg ,_egd =_edc .Width ,_edc .Height ;if _ffb !=nil {_fff :=_aad (_fdf ,_gd ,_fef );_fdf ,_gd =_fff .Width ,_fff .Height ;
};};if _ffbc !=0||_feg !=0{_ggg =_ggg .Translate (-_ffbc ,-_feg );};_be ._geg =1.0;if _be .OutputWidth !=0{_ef :=_cg ;if _ffb !=nil {_ef =_fdf ;};_be ._geg =float64 (_be .OutputWidth )/_ef ;_cg ,_egd ,_fdf ,_gd =_cg *_be ._geg ,_egd *_be ._geg ,_fdf *_be ._geg ,_gd *_be ._geg ;
_ggg =_fd .ScaleMatrix (_be ._geg ,_be ._geg ).Mult (_ggg );};_df :=_cfa .NewContext (int (_cg ),int (_egd ));if _aae :=_be .renderPage (_df ,page ,_ggg ,skipFlattening );_aae !=nil {return nil ,_aae ;};_ggf :=_df .Image ();if _ffb !=nil {_beb ,_af :=(_ffb .Llx -_ffbc )*_be ._geg ,(_ffb .Lly -_feg )*_be ._geg ;
_dg :=_fa .Rect (0,0,int (_fdf ),int (_gd ));_cff :=_fa .Pt (int (_beb ),int (_egd -_af -_gd ));_eaf :=_fa .NewRGBA (_dg );_dc .Draw (_eaf ,_dg ,_ggf ,_cff ,_dc .Src );_ggf =_eaf ;};return _ggf ,nil ;};

// Render converts the specified PDF page into an image, flattens annotations by default and returns the result.
func (_ff *ImageDevice )Render (page *_ea .PdfPage )(_fa .Image ,error ){return _ff .RenderWithOpts (page ,false );};func _cad (_adfe _b .PdfObject ,_deggc _f .Color )(_fa .Image ,error ){_efa ,_cgfaa :=_b .GetStream (_adfe );if !_cgfaa {return nil ,nil ;
};_ecfc ,_accb :=_ea .NewXObjectImageFromStream (_efa );if _accb !=nil {return nil ,_accb ;};_afga ,_accb :=_ecfc .ToImage ();if _accb !=nil {return nil ,_accb ;};return _gfe (_afga ,_deggc ),nil ;};func (_bfgd renderer )processRadialShading (_fag _aa .Context ,_gfa *_ea .PdfShading )(_aa .Gradient ,*_b .PdfObjectArray ,error ){_ffdb :=_gfa .GetContext ().(*_ea .PdfShadingType3 );
if len (_ffdb .Function )==0{return nil ,nil ,_ag .New ("\u006e\u006f\u0020\u0067\u0072\u0061\u0064i\u0065\u006e\u0074 \u0066\u0075\u006e\u0063t\u0069\u006f\u006e\u0020\u0066\u006f\u0075\u006e\u0064\u002c\u0020\u0073\u006b\u0069\u0070\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e");
};_afc ,_degg :=_ffdb .Coords .ToFloat64Array ();if _degg !=nil {return nil ,nil ,_ag .New ("\u0066\u0061\u0069l\u0065\u0064\u0020\u0067e\u0074\u0074\u0069\u006e\u0067\u0020\u0073h\u0061\u0064\u0069\u006e\u0067\u0020\u0070\u006f\u0073\u0069\u0074\u0069\u006f\u006e");
};_ggcd :=_gfa .ColorSpace ;_fbcf :=_b .MakeArrayFromFloats ([]float64 {0,0,1,1});var _ebe ,_bge ,_gbd ,_dcba ,_ggb ,_cee float64 ;_ebe ,_bge =_fag .Matrix ().Transform (_afc [0],_afc [1]);_gbd ,_dcba =_fag .Matrix ().Transform (_afc [3],_afc [4]);_ggb ,_ =_fag .Matrix ().Transform (_afc [2],0);
_cee ,_ =_fag .Matrix ().Transform (_afc [5],0);_eaeg ,_ :=_fag .Matrix ().Translation ();_ggb -=_eaeg ;_cee -=_eaeg ;for _daeb ,_fead :=range _afc {if _daeb ==2||_daeb ==5{continue ;};if _fead > 1.0{_bfab :=_ed .Min (_ebe -_ggb ,_gbd -_cee );_gfd :=_ed .Min (_bge -_ggb ,_dcba -_cee );
_cacd :=_ed .Max (_ebe +_ggb ,_gbd +_cee );_dbc :=_ed .Max (_bge +_ggb ,_dcba +_cee );_caee :=_cacd -_bfab ;_dec :=_gfd -_dbc ;_fbcf =_b .MakeArrayFromFloats ([]float64 {_bfab ,_gfd ,_caee ,_dec });break ;};};_fddd :=_cfa .NewRadialGradient (_ebe ,_bge ,_ggb ,_gbd ,_dcba ,_cee );
if _gfag ,_fdb :=_ffdb .Function [0].(*_ea .PdfFunctionType2 );_fdb {_fddd ,_degg =_dgc (_fddd ,_gfag ,_ggcd ,1.0,true );}else if _ecdc ,_eedg :=_ffdb .Function [0].(*_ea .PdfFunctionType3 );_eedg {_adcc :=append ([]float64 {0},_ecdc .Bounds ...);_adcc =append (_adcc ,1.0);
_fddd ,_degg =_agcbb (_fddd ,_ecdc ,_ggcd ,_adcc );};if _degg !=nil {return nil ,nil ,_degg ;};return _fddd ,_fbcf ,nil ;};var (_egb =_ag .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_bf =_ag .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072");
);

// RenderToPath converts the specified PDF page into an image and saves the
// result at the specified location.
func (_gc *ImageDevice )RenderToPath (page *_ea .PdfPage ,outputPath string )error {_cfc ,_cfff :=_gc .Render (page );if _cfff !=nil {return _cfff ;};_ac :=_e .ToLower (_d .Ext (outputPath ));if _ac ==""{return _ag .New ("\u0063\u006ful\u0064\u0020\u006eo\u0074\u0020\u0072\u0065cog\u006eiz\u0065\u0020\u006f\u0075\u0074\u0070\u0075t \u0066\u0069\u006c\u0065\u0020\u0074\u0079p\u0065");
};switch _ac {case "\u002e\u0070\u006e\u0067":return _gade (outputPath ,_cfc );case "\u002e\u006a\u0070\u0067","\u002e\u006a\u0070e\u0067":return _eff (outputPath ,_cfc ,100);};return _edb .Errorf ("\u0075\u006e\u0072\u0065\u0063\u006fg\u006e\u0069\u007a\u0065\u0064\u0020\u006f\u0075\u0074\u0070\u0075\u0074\u0020f\u0069\u006c\u0065\u0020\u0074\u0079\u0070e\u003a\u0020\u0025\u0073",_ac );
};func _agcbb (_bgc _aa .Gradient ,_ggcg *_ea .PdfFunctionType3 ,_ebd _ea .PdfColorspace ,_adge []float64 )(_aa .Gradient ,error ){var _eaeb error ;for _dceb :=0;_dceb < len (_ggcg .Functions );_dceb ++{if _bga ,_gaeb :=_ggcg .Functions [_dceb ].(*_ea .PdfFunctionType2 );
_gaeb {_bgc ,_eaeb =_dgc (_bgc ,_bga ,_ebd ,_adge [_dceb +1],_dceb ==0);if _eaeb !=nil {return nil ,_eaeb ;};};};return _bgc ,nil ;};func (_bc renderer )renderPage (_gb _aa .Context ,_fb *_ea .PdfPage ,_edbb _fd .Matrix ,_gf bool )error {if !_gf {_dea :=_ea .FieldFlattenOpts {AnnotFilterFunc :func (_gde *_ea .PdfAnnotation )bool {switch _gde .GetContext ().(type ){case *_ea .PdfAnnotationLine :return true ;
case *_ea .PdfAnnotationSquare :return true ;case *_ea .PdfAnnotationCircle :return true ;case *_ea .PdfAnnotationPolygon :return true ;case *_ea .PdfAnnotationPolyLine :return true ;};return false ;}};_dfc :=_fea .FieldAppearance {};_dgb :=_fb .FlattenFieldsWithOpts (_dfc ,&_dea );
if _dgb !=nil {_ae .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0064u\u0072\u0069n\u0067\u0020\u0061\u006e\u006e\u006f\u0074\u0061t\u0069\u006f\u006e\u0020\u0066\u006c\u0061\u0074\u0074\u0065\u006e\u0069n\u0067\u0020\u0025\u0076",_dgb );};};_gdf ,_gad :=_fb .GetAllContentStreams ();
if _gad !=nil {return _gad ;};if _gbg :=_edbb ;!_gbg .Identity (){_gdf =_edb .Sprintf ("%\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066 \u0025\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066\u0020\u0063\u006d\u0020%\u0073",_gbg [0],_gbg [1],_gbg [3],_gbg [4],_gbg [6],_gbg [7],_gdf );
};_gb .Translate (0,float64 (_gb .Height ()));_gb .Scale (1,-1);_gb .Push ();_gb .SetRGBA (1,1,1,1);_gb .DrawRectangle (0,0,float64 (_gb .Width ()),float64 (_gb .Height ()));_gb .Fill ();_gb .Pop ();_gb .SetLineWidth (1.0);_gb .SetRGBA (0,0,0,1);return _bc .renderContentStream (_gb ,_gdf ,_fb .Resources );
};const (ShadingTypeFunctionBased PdfShadingType =1;ShadingTypeAxial PdfShadingType =2;ShadingTypeRadial PdfShadingType =3;ShadingTypeFreeForm PdfShadingType =4;ShadingTypeLatticeForm PdfShadingType =5;ShadingTypeCoons PdfShadingType =6;ShadingTypeTensorProduct PdfShadingType =7;
);func _dgc (_affd _aa .Gradient ,_dcac *_ea .PdfFunctionType2 ,_dba _ea .PdfColorspace ,_ffg float64 ,_bfba bool )(_aa .Gradient ,error ){switch _dba .(type ){case *_ea .PdfColorspaceDeviceRGB :if len (_dcac .C0 )!=3||len (_dcac .C1 )!=3{return nil ,_ag .New ("\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u0020\u0052\u0047\u0042\u0020\u0063o\u006co\u0072\u0020\u0061\u0072\u0072\u0061\u0079\u0020\u006c\u0065\u006e\u0067\u0074\u0068");
};_aag :=_dcac .C0 ;_fbaa :=_dcac .C1 ;if _bfba {_affd .AddColorStop (0.0,_f .RGBA {R :uint8 (_aag [0]*255),G :uint8 (_aag [1]*255),B :uint8 (_aag [2]*255),A :255});};_affd .AddColorStop (_ffg ,_f .RGBA {R :uint8 (_fbaa [0]*255),G :uint8 (_fbaa [1]*255),B :uint8 (_fbaa [2]*255),A :255});
case *_ea .PdfColorspaceDeviceCMYK :if len (_dcac .C0 )!=4||len (_dcac .C1 )!=4{return nil ,_ag .New ("\u0069\u006e\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0043\u004d\u0059\u004b\u0020\u0063\u006f\u006c\u006f\u0072 \u0061\u0072\u0072\u0061\u0079\u0020\u006ce\u006e\u0067\u0074\u0068");
};_dce :=_dcac .C0 ;_bgdf :=_dcac .C1 ;if _bfba {_affd .AddColorStop (0.0,_f .CMYK {C :uint8 (_dce [0]*255),M :uint8 (_dce [1]*255),Y :uint8 (_dce [2]*255),K :uint8 (_dce [3]*255)});};_affd .AddColorStop (_ffg ,_f .CMYK {C :uint8 (_bgdf [0]*255),M :uint8 (_bgdf [1]*255),Y :uint8 (_bgdf [2]*255),K :uint8 (_bgdf [3]*255)});
default:return nil ,_edb .Errorf ("u\u006e\u0073\u0075\u0070\u0070\u006fr\u0074\u0065\u0064\u0020\u0063\u006f\u006c\u006f\u0072 \u0073\u0070\u0061c\u0065:\u0020\u0025\u0073",_dba .String ());};return _affd ,nil ;};

// PdfShadingType defines PDF shading types.
// Source: PDF32000_2008.pdf. Chapter 8.7.4.5
type PdfShadingType int64 ;func (_cfd renderer )processShading (_bef _aa .Context ,_dae *_ea .PdfShading )(_aa .Gradient ,*_b .PdfObjectArray ,error ){_faab :=int64 (*_dae .ShadingType );if _faab ==int64 (ShadingTypeAxial ){return _cfd .processLinearShading (_bef ,_dae );
}else if _faab ==int64 (ShadingTypeRadial ){return _cfd .processRadialShading (_bef ,_dae );}else {_ae .Log .Debug (_edb .Sprintf ("\u0050r\u006f\u0063e\u0073\u0073\u0069n\u0067\u0020\u0067\u0072\u0061\u0064\u0069e\u006e\u0074\u0020\u0074\u0079\u0070e\u0020\u0025\u0064\u0020\u006e\u006f\u0074\u0020\u0079\u0065\u0074 \u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064",_faab ));
};return nil ,nil ,nil ;};func _gfe (_edg *_ea .Image ,_gadb _f .Color )_fa .Image {_fce ,_ecfff :=int (_edg .Width ),int (_edg .Height );_ddba :=_fa .NewRGBA (_fa .Rect (0,0,_fce ,_ecfff ));for _egga :=0;_egga < _ecfff ;_egga ++{for _cgdf :=0;_cgdf < _fce ;
_cgdf ++{_fbbf ,_gcgd :=_edg .ColorAt (_cgdf ,_egga );if _gcgd !=nil {_ae .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_cgdf ,_egga );
continue ;};_ebeg ,_bafg ,_gfb ,_ :=_fbbf .RGBA ();var _bcg _f .Color ;if _ebeg +_bafg +_gfb ==0{_bcg =_f .Transparent ;}else {_bcg =_gadb ;};_ddba .Set (_cgdf ,_egga ,_bcg );};};return _ddba ;};func _gade (_efgc string ,_baed _fa .Image )error {_gfc ,_baeb :=_c .Create (_efgc );
if _baeb !=nil {return _baeb ;};defer _gfc .Close ();return _dd .Encode (_gfc ,_baed );};func _eff (_eecd string ,_fcaf _fa .Image ,_fbd int )error {_aeaa ,_cefcg :=_c .Create (_eecd );if _cefcg !=nil {return _cefcg ;};defer _aeaa .Close ();return _de .Encode (_aeaa ,_fcaf ,&_de .Options {Quality :_fbd });
};

// ImageDevice is used to render PDF pages to image targets.
type ImageDevice struct{renderer ;

// OutputWidth represents the width of the rendered images in pixels.
// The heights of the output images are calculated based on the selected
// width and the original height of each rendered page.
OutputWidth int ;};func (_gaae renderer )processLinearShading (_gegc _aa .Context ,_ccbd *_ea .PdfShading )(_aa .Gradient ,*_b .PdfObjectArray ,error ){_bfaf :=_ccbd .GetContext ().(*_ea .PdfShadingType2 );if len (_bfaf .Function )==0{return nil ,nil ,_ag .New ("\u006e\u006f\u0020\u0067\u0072\u0061\u0064i\u0065\u006e\u0074 \u0066\u0075\u006e\u0063t\u0069\u006f\u006e\u0020\u0066\u006f\u0075\u006e\u0064\u002c\u0020\u0073\u006b\u0069\u0070\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e");
};_geaef ,_ccd :=_bfaf .Coords .ToFloat64Array ();if _ccd !=nil {return nil ,nil ,_ag .New ("\u0066\u0061\u0069l\u0065\u0064\u0020\u0067e\u0074\u0074\u0069\u006e\u0067\u0020\u0073h\u0061\u0064\u0069\u006e\u0067\u0020\u0070\u006f\u0073\u0069\u0074\u0069\u006f\u006e");
};_cag :=_ccbd .ColorSpace ;_dbg ,_dcfa :=_gegc .Matrix ().Transform (_geaef [0],_geaef [1]);_degb ,_cefc :=_gegc .Matrix ().Transform (_geaef [2],_geaef [3]);_gcee :=_cfa .NewLinearGradient (_dbg ,_dcfa ,_degb ,_cefc );_adgg :=_b .MakeArrayFromFloats ([]float64 {0,0,1,1});
for _ ,_eegb :=range _geaef {if _eegb > 1{_adgg =_bfaf .Coords ;break ;};};if _gedd ,_dfadd :=_bfaf .Function [0].(*_ea .PdfFunctionType2 );_dfadd {_gcee ,_ccd =_dgc (_gcee ,_gedd ,_cag ,1.0,true );}else if _dcad ,_edd :=_bfaf .Function [0].(*_ea .PdfFunctionType3 );
_edd {_cfdg :=append ([]float64 {0},_dcad .Bounds ...);_cfdg =append (_cfdg ,1.0);_gcee ,_ccd =_agcbb (_gcee ,_dcad ,_cag ,_cfdg );};return _gcee ,_adgg ,_ccd ;};type renderer struct{_geg float64 };func _bdfa (_ced _b .PdfObject ,_eggc _f .Color )(_fa .Image ,error ){_cebb ,_fccb :=_b .GetStream (_ced );
if !_fccb {return nil ,nil ;};_dcec ,_fed :=_ea .NewXObjectImageFromStream (_cebb );if _fed !=nil {return nil ,_fed ;};_aefe ,_fed :=_dcec .ToImage ();if _fed !=nil {return nil ,_fed ;};return _bagf (_aefe ,_eggc ),nil ;};func _egge (_eafb ,_baf _fa .Image )_fa .Image {_ccec ,_bgbd :=_baf .Bounds ().Size (),_eafb .Bounds ().Size ();
_aba ,_afe :=_ccec .X ,_ccec .Y ;if _bgbd .X > _aba {_aba =_bgbd .X ;};if _bgbd .Y > _afe {_afe =_bgbd .Y ;};_dbad :=_fa .Rect (0,0,_aba ,_afe );if _ccec .X !=_aba ||_ccec .Y !=_afe {_ada :=_fa .NewRGBA (_dbad );_ga .BiLinear .Scale (_ada ,_dbad ,_eafb ,_baf .Bounds (),_ga .Over ,nil );
_baf =_ada ;};if _bgbd .X !=_aba ||_bgbd .Y !=_afe {_dfb :=_fa .NewRGBA (_dbad );_ga .BiLinear .Scale (_dfb ,_dbad ,_eafb ,_eafb .Bounds (),_ga .Over ,nil );_eafb =_dfb ;};_fgbe :=_fa .NewRGBA (_dbad );_ga .DrawMask (_fgbe ,_dbad ,_eafb ,_fa .Point {},_baf ,_fa .Point {},_ga .Over );
return _fgbe ;};

// NewImageDevice returns a new image device.
func NewImageDevice ()*ImageDevice {const _fc ="r\u0065\u006e\u0064\u0065r.\u004ee\u0077\u0049\u006d\u0061\u0067e\u0044\u0065\u0076\u0069\u0063\u0065";_g .TrackUse (_fc );return &ImageDevice {};};func _aad (_bba ,_ece ,_bfge float64 )_cf .BoundingBox {return _cf .Path {Points :[]_cf .Point {_cf .NewPoint (0,0).Rotate (_bfge ),_cf .NewPoint (_bba ,0).Rotate (_bfge ),_cf .NewPoint (0,_ece ).Rotate (_bfge ),_cf .NewPoint (_bba ,_ece ).Rotate (_bfge )}}.GetBoundingBox ();
};func _bagf (_aaee *_ea .Image ,_ebb _f .Color )_fa .Image {_gee ,_bbdb :=int (_aaee .Width ),int (_aaee .Height );_dgg :=_fa .NewRGBA (_fa .Rect (0,0,_gee ,_bbdb ));for _fde :=0;_fde < _bbdb ;_fde ++{for _gega :=0;_gega < _gee ;_gega ++{_dde ,_beeg :=_aaee .ColorAt (_gega ,_fde );
if _beeg !=nil {_ae .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_gega ,_fde );
continue ;};_ddd ,_bfea ,_cfe ,_ :=_dde .RGBA ();var _bac _f .Color ;if _ddd +_bfea +_cfe ==0{_bac =_ebb ;}else {_bac =_f .Transparent ;};_dgg .Set (_gega ,_fde ,_bac );};};return _dgg ;};func (_ad renderer )renderContentStream (_bb _aa .Context ,_cd string ,_aea *_ea .PdfPageResources )error {_dca ,_fg :=_fe .NewContentStreamParser (_cd ).Parse ();
if _fg !=nil {return _fg ;};_dfd :=_bb .TextState ();_dfd .GlobalScale =_ad ._geg ;_cfb :=map[string ]*_aa .TextFont {};_ce :=_gg .NewFinder (&_gg .FinderOpts {Extensions :[]string {"\u002e\u0074\u0074\u0066","\u002e\u0074\u0074\u0063"}});var _cga *_fe .ContentStreamOperation ;
_ab :=_fe .NewContentStreamProcessor (*_dca );_ab .AddHandler (_fe .HandlerConditionEnumAllOperands ,"",func (_ec *_fe .ContentStreamOperation ,_ffd _fe .GraphicsState ,_abd *_ea .PdfPageResources )error {_ae .Log .Debug ("\u0050\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0025\u0073",_ec .Operand );
switch _ec .Operand {case "\u0071":_bb .Push ();case "\u0051":_bb .Pop ();_dfd =_bb .TextState ();case "\u0063\u006d":if len (_ec .Params )!=6{return _bf ;};_ca ,_edbd :=_b .GetNumbersAsFloat (_ec .Params );if _edbd !=nil {return _edbd ;};_bfb :=_fd .NewMatrix (_ca [0],_ca [1],_ca [2],_ca [3],_ca [4],_ca [5]);
_ae .Log .Debug ("\u0047\u0072\u0061\u0070\u0068\u0069\u0063\u0073\u0020\u0073\u0074a\u0074\u0065\u0020\u006d\u0061\u0074\u0072\u0069\u0078\u003a \u0025\u002b\u0076",_bfb );_bb .SetMatrix (_bb .Matrix ().Mult (_bfb ));case "\u0077":if len (_ec .Params )!=1{return _bf ;
};_feb ,_ee :=_b .GetNumbersAsFloat (_ec .Params );if _ee !=nil {return _ee ;};_bb .SetLineWidth (_feb [0]);case "\u004a":if len (_ec .Params )!=1{return _bf ;};_bfa ,_bca :=_b .GetIntVal (_ec .Params [0]);if !_bca {return _egb ;};switch _bfa {case 0:_bb .SetLineCap (_aa .LineCapButt );
case 1:_bb .SetLineCap (_aa .LineCapRound );case 2:_bb .SetLineCap (_aa .LineCapSquare );default:_ae .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u006ee\u0020\u0063\u0061\u0070\u0020\u0073\u0074\u0079\u006c\u0065:\u0020\u0025\u0064",_bfa );
return _bf ;};case "\u006a":if len (_ec .Params )!=1{return _bf ;};_efb ,_cdc :=_b .GetIntVal (_ec .Params [0]);if !_cdc {return _egb ;};switch _efb {case 0:_bb .SetLineJoin (_aa .LineJoinBevel );case 1:_bb .SetLineJoin (_aa .LineJoinRound );case 2:_bb .SetLineJoin (_aa .LineJoinBevel );
default:_ae .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006c\u0069\u006e\u0065\u0020\u006a\u006f\u0069\u006e \u0073\u0074\u0079l\u0065:\u0020\u0025\u0064",_efb );return _bf ;};case "\u004d":if len (_ec .Params )!=1{return _bf ;};_ecf ,_edf :=_b .GetNumbersAsFloat (_ec .Params );
if _edf !=nil {return _edf ;};_ =_ecf ;_ae .Log .Debug ("\u004di\u0074\u0065\u0072\u0020l\u0069\u006d\u0069\u0074\u0020n\u006ft\u0020s\u0075\u0070\u0070\u006f\u0072\u0074\u0065d");case "\u0064":if len (_ec .Params )!=2{return _bf ;};_abe ,_fdfc :=_b .GetArray (_ec .Params [0]);
if !_fdfc {return _egb ;};_agd ,_fdfc :=_b .GetIntVal (_ec .Params [1]);if !_fdfc {_ ,_da :=_b .GetFloatVal (_ec .Params [1]);if !_da {return _egb ;};};_cc ,_fbe :=_b .GetNumbersAsFloat (_abe .Elements ());if _fbe !=nil {return _fbe ;};_bb .SetDash (_cc ...);
_ =_agd ;_ae .Log .Debug ("\u004c\u0069n\u0065\u0020\u0064\u0061\u0073\u0068\u0020\u0070\u0068\u0061\u0073\u0065\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006frt\u0065\u0064");case "\u0072\u0069":_ae .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020i\u006e\u0074\u0065\u006e\u0074\u0020\u006eo\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");
case "\u0069":_ae .Log .Debug ("\u0046\u006c\u0061\u0074\u006e\u0065\u0073\u0073\u0020\u0074\u006f\u006c\u0065\u0072\u0061n\u0063e\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0067\u0073":if len (_ec .Params )!=1{return _bf ;
};_cdb ,_fdc :=_b .GetName (_ec .Params [0]);if !_fdc {return _egb ;};if _cdb ==nil {return _bf ;};_bg ,_fdc :=_abd .GetExtGState (*_cdb );if !_fdc {_ae .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006eo\u0074 \u0066i\u006ed\u0020\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u003a\u0020\u0025\u0073",*_cdb );
return _ag .New ("\u0072e\u0073o\u0075\u0072\u0063\u0065\u0020n\u006f\u0074 \u0066\u006f\u0075\u006e\u0064");};_fcc ,_fdc :=_b .GetDict (_bg );if !_fdc {_ae .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020c\u006f\u0075\u006c\u0064 ge\u0074 g\u0072\u0061\u0070\u0068\u0069\u0063\u0073 s\u0074\u0061\u0074\u0065\u0020\u0064\u0069c\u0074");
return _egb ;};_ae .Log .Debug ("G\u0053\u0020\u0064\u0069\u0063\u0074\u003a\u0020\u0025\u0073",_fcc .String ());_bfd :=_fcc .Get ("\u0063\u0061");if _bfd !=nil {_acb ,_fgb :=_b .GetNumberAsFloat (_bfd );if _fgb ==nil {_acbd ,_cec :=_ffd .ColorspaceNonStroking .ColorToRGB (_ffd .ColorNonStroking );
if _cec !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cec );return _cec ;};_cb ,_acf :=_acbd .(*_ea .PdfColorDeviceRGB );if !_acf {_ae .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");
return _cec ;};_bb .SetFillRGBA (_cb .R (),_cb .G (),_cb .B (),_acb );};};case "\u006d":if len (_ec .Params )!=2{_ae .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_bf );
return nil ;};_abdb ,_fdfe :=_b .GetNumbersAsFloat (_ec .Params );if _fdfe !=nil {return _fdfe ;};_ae .Log .Debug ("M\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u0076",_abdb );_bb .NewSubPath ();_bb .MoveTo (_abdb [0],_abdb [1]);case "\u006c":if len (_ec .Params )!=2{_ae .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_bf );
return nil ;};_eae ,_cgc :=_b .GetNumbersAsFloat (_ec .Params );if _cgc !=nil {return _cgc ;};_bb .LineTo (_eae [0],_eae [1]);case "\u0063":if len (_ec .Params )!=6{return _bf ;};_eca ,_abg :=_b .GetNumbersAsFloat (_ec .Params );if _abg !=nil {return _abg ;
};_ae .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_eca );_bb .CubicTo (_eca [0],_eca [1],_eca [2],_eca [3],_eca [4],_eca [5]);case "\u0076","\u0079":if len (_ec .Params )!=4{return _bf ;
};_faa ,_gbgc :=_b .GetNumbersAsFloat (_ec .Params );if _gbgc !=nil {return _gbgc ;};_ae .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_faa );_bb .QuadraticTo (_faa [0],_faa [1],_faa [2],_faa [3]);
case "\u0068":_bb .ClosePath ();_bb .NewSubPath ();case "\u0072\u0065":if len (_ec .Params )!=4{return _bf ;};_fdd ,_ba :=_b .GetNumbersAsFloat (_ec .Params );if _ba !=nil {return _ba ;};_bb .DrawRectangle (_fdd [0],_fdd [1],_fdd [2],_fdd [3]);_bb .NewSubPath ();
case "\u0053":_cgf ,_agc :=_ffd .ColorspaceStroking .ColorToRGB (_ffd .ColorStroking );if _agc !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_agc );
return _agc ;};_bbg ,_fbf :=_cgf .(*_ea .PdfColorDeviceRGB );if !_fbf {_ae .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _agc ;};_bb .SetRGBA (_bbg .R (),_bbg .G (),_bbg .B (),1);
_bb .Stroke ();case "\u0073":_dac ,_bfbe :=_ffd .ColorspaceStroking .ColorToRGB (_ffd .ColorStroking );if _bfbe !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bfbe );
return _bfbe ;};_cfg ,_bag :=_dac .(*_ea .PdfColorDeviceRGB );if !_bag {_ae .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _bfbe ;};_bb .ClosePath ();_bb .NewSubPath ();
_bb .SetRGBA (_cfg .R (),_cfg .G (),_cfg .B (),1);_bb .Stroke ();case "\u0066","\u0046":_fda ,_ede :=_ffd .ColorspaceNonStroking .ColorToRGB (_ffd .ColorNonStroking );if _ede !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ede );
return _ede ;};switch _eda :=_fda .(type ){case *_ea .PdfColorDeviceRGB :_bb .SetRGBA (_eda .R (),_eda .G (),_eda .B (),1);_bb .SetFillRule (_aa .FillRuleWinding );_bb .Fill ();case *_ea .PdfColorPattern :_bb .Fill ();};_ae .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");
case "\u0066\u002a":_cbd ,_edeb :=_ffd .ColorspaceNonStroking .ColorToRGB (_ffd .ColorNonStroking );if _edeb !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_edeb );
return _edeb ;};_eed ,_eb :=_cbd .(*_ea .PdfColorDeviceRGB );if !_eb {_ae .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _edeb ;};_bb .SetRGBA (_eed .R (),_eed .G (),_eed .B (),1);
_bb .SetFillRule (_aa .FillRuleEvenOdd );_bb .Fill ();case "\u0042":_cac ,_eba :=_ffd .ColorspaceNonStroking .ColorToRGB (_ffd .ColorNonStroking );if _eba !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eba );
return _eba ;};switch _efbd :=_cac .(type ){case *_ea .PdfColorDeviceRGB :_bb .SetRGBA (_efbd .R (),_efbd .G (),_efbd .B (),1);_bb .SetFillRule (_aa .FillRuleWinding );_bb .FillPreserve ();_cac ,_eba =_ffd .ColorspaceStroking .ColorToRGB (_ffd .ColorStroking );
if _eba !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_eba );return _eba ;};if _fba ,_bgb :=_cac .(*_ea .PdfColorDeviceRGB );
_bgb {_bb .SetRGBA (_fba .R (),_fba .G (),_fba .B (),1);_bb .Stroke ();};case *_ea .PdfColorPattern :_bb .SetFillRule (_aa .FillRuleWinding );_bb .Fill ();_bb .StrokePattern ();};case "\u0042\u002a":_aef ,_cdba :=_ffd .ColorspaceNonStroking .ColorToRGB (_ffd .ColorNonStroking );
if _cdba !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cdba );return _cdba ;};switch _bed :=_aef .(type ){case *_ea .PdfColorDeviceRGB :_bb .SetRGBA (_bed .R (),_bed .G (),_bed .B (),1);
_bb .SetFillRule (_aa .FillRuleEvenOdd );_bb .FillPreserve ();_aef ,_cdba =_ffd .ColorspaceStroking .ColorToRGB (_ffd .ColorStroking );if _cdba !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cdba );
return _cdba ;};if _bae ,_fdcd :=_aef .(*_ea .PdfColorDeviceRGB );_fdcd {_bb .SetRGBA (_bae .R (),_bae .G (),_bae .B (),1);_bb .Stroke ();};case *_ea .PdfColorPattern :_bb .SetFillRule (_aa .FillRuleEvenOdd );_bb .Fill ();_bb .StrokePattern ();};case "\u0062":_bb .ClosePath ();
_fbc ,_afa :=_ffd .ColorspaceNonStroking .ColorToRGB (_ffd .ColorNonStroking );if _afa !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_afa );
return _afa ;};switch _agb :=_fbc .(type ){case *_ea .PdfColorDeviceRGB :_bb .SetRGBA (_agb .R (),_agb .G (),_agb .B (),1);_bb .NewSubPath ();_bb .SetFillRule (_aa .FillRuleWinding );_bb .FillPreserve ();_fbc ,_afa =_ffd .ColorspaceStroking .ColorToRGB (_ffd .ColorStroking );
if _afa !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_afa );return _afa ;};if _dfa ,_fdfcf :=_fbc .(*_ea .PdfColorDeviceRGB );
_fdfcf {_bb .SetRGBA (_dfa .R (),_dfa .G (),_dfa .B (),1);_bb .Stroke ();};case *_ea .PdfColorPattern :_bb .NewSubPath ();_bb .SetFillRule (_aa .FillRuleWinding );_bb .Fill ();_bb .StrokePattern ();};case "\u0062\u002a":_bb .ClosePath ();_cce ,_efba :=_ffd .ColorspaceNonStroking .ColorToRGB (_ffd .ColorNonStroking );
if _efba !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_efba );return _efba ;};switch _gcg :=_cce .(type ){case *_ea .PdfColorDeviceRGB :_bb .SetRGBA (_gcg .R (),_gcg .G (),_gcg .B (),1);
_bb .NewSubPath ();_bb .SetFillRule (_aa .FillRuleEvenOdd );_bb .FillPreserve ();_cce ,_efba =_ffd .ColorspaceStroking .ColorToRGB (_ffd .ColorStroking );if _efba !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_efba );
return _efba ;};if _fca ,_ecff :=_cce .(*_ea .PdfColorDeviceRGB );_ecff {_bb .SetRGBA (_fca .R (),_fca .G (),_fca .B (),1);_bb .Stroke ();};case *_ea .PdfColorPattern :_bb .NewSubPath ();_bb .SetFillRule (_aa .FillRuleEvenOdd );_bb .Fill ();_bb .StrokePattern ();
};case "\u006e":_bb .ClearPath ();case "\u0057":_bb .SetFillRule (_aa .FillRuleWinding );_bb .ClipPreserve ();case "\u0057\u002a":_bb .SetFillRule (_aa .FillRuleEvenOdd );_bb .ClipPreserve ();case "\u0072\u0067":_bd ,_faad :=_ffd .ColorNonStroking .(*_ea .PdfColorDeviceRGB );
if !_faad {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorNonStroking );return nil ;};_bb .SetFillRGBA (_bd .R (),_bd .G (),_bd .B (),1);
case "\u0052\u0047":_cbg ,_fbfb :=_ffd .ColorStroking .(*_ea .PdfColorDeviceRGB );if !_fbfb {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorStroking );
return nil ;};_bb .SetStrokeRGBA (_cbg .R (),_cbg .G (),_cbg .B (),1);case "\u006b":_dgd ,_eafa :=_ffd .ColorNonStroking .(*_ea .PdfColorDeviceCMYK );if !_eafa {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorNonStroking );
return nil ;};_bebb ,_age :=_ffd .ColorspaceNonStroking .ColorToRGB (_dgd );if _age !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorNonStroking );
return nil ;};_ceb ,_eafa :=_bebb .(*_ea .PdfColorDeviceRGB );if !_eafa {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bebb );return nil ;
};_bb .SetFillRGBA (_ceb .R (),_ceb .G (),_ceb .B (),1);case "\u004b":_dacb ,_fdcc :=_ffd .ColorStroking .(*_ea .PdfColorDeviceCMYK );if !_fdcc {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorStroking );
return nil ;};_cbde ,_gcb :=_ffd .ColorspaceStroking .ColorToRGB (_dacb );if _gcb !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorStroking );
return nil ;};_gea ,_fdcc :=_cbde .(*_ea .PdfColorDeviceRGB );if !_fdcc {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cbde );return nil ;
};_bb .SetStrokeRGBA (_gea .R (),_gea .G (),_gea .B (),1);case "\u0067":_fcd ,_eeg :=_ffd .ColorNonStroking .(*_ea .PdfColorDeviceGray );if !_eeg {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorNonStroking );
return nil ;};_bbf ,_gac :=_ffd .ColorspaceNonStroking .ColorToRGB (_fcd );if _gac !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorNonStroking );
return nil ;};_efg ,_eeg :=_bbf .(*_ea .PdfColorDeviceRGB );if !_eeg {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bbf );return nil ;
};_bb .SetFillRGBA (_efg .R (),_efg .G (),_efg .B (),1);case "\u0047":_eec ,_gce :=_ffd .ColorStroking .(*_ea .PdfColorDeviceGray );if !_gce {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorStroking );
return nil ;};_adg ,_acc :=_ffd .ColorspaceStroking .ColorToRGB (_eec );if _acc !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorStroking );
return nil ;};_bdf ,_gce :=_adg .(*_ea .PdfColorDeviceRGB );if !_gce {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_adg );return nil ;
};_bb .SetStrokeRGBA (_bdf .R (),_bdf .G (),_bdf .B (),1);case "\u0063\u0073":if len (_ec .Params )> 0{if _gdfc ,_fdcf :=_b .GetName (_ec .Params [0]);_fdcf &&_gdfc .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{break ;};};_egba ,_cdd :=_ffd .ColorspaceNonStroking .ColorToRGB (_ffd .ColorNonStroking );
if _cdd !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorNonStroking );return nil ;};_fae ,_bdg :=_egba .(*_ea .PdfColorDeviceRGB );
if !_bdg {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_egba );return nil ;};_bb .SetFillRGBA (_fae .R (),_fae .G (),_fae .B (),1);
case "\u0073\u0063":_cge ,_feba :=_ffd .ColorspaceNonStroking .ColorToRGB (_ffd .ColorNonStroking );if _feba !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorNonStroking );
return nil ;};_ddg ,_afaf :=_cge .(*_ea .PdfColorDeviceRGB );if !_afaf {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cge );return nil ;
};_bb .SetFillRGBA (_ddg .R (),_ddg .G (),_ddg .B (),1);case "\u0073\u0063\u006e":if len (_ec .Params )> 0&&len (_cga .Params )> 0{if _ege ,_bbc :=_b .GetName (_cga .Params [0]);_bbc &&_ege .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{if _adc ,_fdfd :=_b .GetName (_ec .Params [0]);
_fdfd {_bdfb ,_dgf :=_ad .processGradient (_bb ,_ec ,_abd ,_adc );if _dgf !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077\u0068\u0065\u006e\u0020\u0070\u0072o\u0063\u0065\u0073\u0073\u0069\u006eg\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074\u0020\u0064\u0061\u0074a\u003a\u0020\u0025\u0076",_dgf );
break ;};if _bdfb ==nil {_ae .Log .Debug ("\u0055\u006ek\u006e\u006f\u0077n\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074");break ;};_bb .SetFillStyle (_bdfb );_bb .SetStrokeStyle (_bdfb );break ;};};};_bfe ,_dab :=_ffd .ColorspaceNonStroking .ColorToRGB (_ffd .ColorNonStroking );
if _dab !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorNonStroking );return nil ;};_cbdg ,_gacc :=_bfe .(*_ea .PdfColorDeviceRGB );
if !_gacc {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bfe );return nil ;};_bb .SetFillRGBA (_cbdg .R (),_cbdg .G (),_cbdg .B (),1);
case "\u0043\u0053":if len (_ec .Params )> 0{if _acbc ,_ead :=_b .GetName (_ec .Params [0]);_ead &&_acbc .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{break ;};};_fbab ,_gag :=_ffd .ColorspaceStroking .ColorToRGB (_ffd .ColorStroking );if _gag !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorStroking );
return nil ;};_cdf ,_aaf :=_fbab .(*_ea .PdfColorDeviceRGB );if !_aaf {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbab );return nil ;
};_bb .SetStrokeRGBA (_cdf .R (),_cdf .G (),_cdf .B (),1);case "\u0053\u0043":_adca ,_fefb :=_ffd .ColorspaceStroking .ColorToRGB (_ffd .ColorStroking );if _fefb !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorStroking );
return nil ;};_edcc ,_dcc :=_adca .(*_ea .PdfColorDeviceRGB );if !_dcc {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_adca );return nil ;
};_bb .SetStrokeRGBA (_edcc .R (),_edcc .G (),_edcc .B (),1);case "\u0053\u0043\u004e":if len (_ec .Params )> 0&&len (_cga .Params )> 0{if _dcb ,_cgd :=_b .GetName (_cga .Params [0]);_cgd &&_dcb .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{if _dfad ,_db :=_b .GetName (_ec .Params [0]);
_db {_agee ,_ccb :=_ad .processGradient (_bb ,_ec ,_abd ,_dfad );if _ccb !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077\u0068\u0065\u006e\u0020\u0070\u0072o\u0063\u0065\u0073\u0073\u0069\u006eg\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074\u0020\u0064\u0061\u0074a\u003a\u0020\u0025\u0076",_ccb );
break ;};if _agee ==nil {_ae .Log .Debug ("\u0055\u006ek\u006e\u006f\u0077n\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074");break ;};_bb .SetFillStyle (_agee );_bb .SetStrokeStyle (_agee );break ;};};};_aca ,_ffc :=_ffd .ColorspaceStroking .ColorToRGB (_ffd .ColorStroking );
if _ffc !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ffd .ColorStroking );return nil ;};_daf ,_abb :=_aca .(*_ea .PdfColorDeviceRGB );
if !_abb {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aca );return nil ;};_bb .SetStrokeRGBA (_daf .R (),_daf .G (),_daf .B (),1);
case "\u0073\u0068":if len (_ec .Params )!=1{_ae .Log .Debug ("\u0049n\u0076\u0061\u006c\u0069\u0064\u0020\u0073\u0068\u0020\u0070\u0061r\u0061\u006d\u0073\u0020\u0066\u006f\u0072\u006d\u0061\u0074");break ;};_eaa ,_eega :=_b .GetName (_ec .Params [0]);
if !_eega {_ae .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020g\u0065\u0074\u0074\u0069\u006e\u0067\u0020\u0073\u0068a\u0064\u0069\u006eg\u0020n\u0061\u006d\u0065");break ;};_fegc ,_eega :=_abd .GetShadingByName (*_eaa );if !_eega {_ae .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020g\u0065\u0074\u0074\u0069\u006e\u0067\u0020\u0073\u0068a\u0064\u0069\u006eg\u0020d\u0061\u0074\u0061");
break ;};_gcgf ,_ddb ,_afg :=_ad .processShading (_bb ,_fegc );if _afg !=nil {_ae .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077\u0068\u0065\u006e\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0073\u0068a\u0064\u0069\u006e\u0067\u0020d\u0061\u0074a\u003a\u0020\u0025\u0076",_afg );
break ;};if _gcgf ==nil {_ae .Log .Debug ("\u0055\u006ek\u006e\u006f\u0077n\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074");break ;};_bdd ,_afg :=_ddb .ToFloat64Array ();if _afg !=nil {_ae .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073: \u0025\u0076",_afg );
break ;};_bb .DrawRectangle (_bdd [0],_bdd [1],_bdd [2],_bdd [3]);_bb .NewSubPath ();_bb .SetFillStyle (_gcgf );_bb .SetStrokeStyle (_gcgf );_bb .Fill ();case "\u0044\u006f":if len (_ec .Params )!=1{return _bf ;};_bgg ,_dafd :=_b .GetName (_ec .Params [0]);
if !_dafd {return _egb ;};_ ,_gcgc :=_abd .GetXObjectByName (*_bgg );switch _gcgc {case _ea .XObjectTypeImage :_ae .Log .Debug ("\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u0069\u006d\u0061\u0067e\u003a\u0020\u0025\u0073",_bgg .String ());_bcb ,_cef :=_abd .GetXObjectImageByName (*_bgg );
if _cef !=nil {return _cef ;};_cbe ,_cef :=_bcb .ToImage ();if _cef !=nil {_ae .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_cef );
return nil ;};if _egbb :=_bcb .ColorSpace ;_egbb !=nil {var _geae bool ;switch _egbb .(type ){case *_ea .PdfColorspaceSpecialIndexed :_geae =true ;};if _geae {if _bfg ,_cae :=_egbb .ImageToRGB (*_cbe );_cae !=nil {_ae .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0063\u006fnv\u0065r\u0074\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u0074\u006f\u0020\u0052G\u0042\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020i\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
}else {_cbe =&_bfg ;};};};_bcf :=_bb .FillPattern ().ColorAt (0,0);var _gaf _fa .Image ;if _bcb .Mask !=nil {if _gaf ,_cef =_bdfa (_bcb .Mask ,_bcf );_cef !=nil {_ae .Log .Debug ("\u0057\u0041\u0052\u004e\u003a \u0063\u006f\u0075\u006c\u0064 \u006eo\u0074\u0020\u0067\u0065\u0074\u0020\u0065\u0078\u0070\u006c\u0069\u0063\u0069\u0074\u0020\u0069\u006d\u0061\u0067e\u0020\u006d\u0061\u0073\u006b\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e");
};}else if _bcb .SMask !=nil {if _gaf ,_cef =_cad (_bcb .SMask ,_bcf );_cef !=nil {_ae .Log .Debug ("W\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0067\u0065\u0074\u0020\u0073\u006f\u0066\u0074\u0020\u0069\u006da\u0067e\u0020\u006d\u0061\u0073k\u002e\u0020O\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
};};var _ddgf _fa .Image ;if _bgd ,_ :=_b .GetBoolVal (_bcb .ImageMask );_bgd {_ddgf =_bagf (_cbe ,_bcf );}else {_ddgf ,_cef =_cbe .ToGoImage ();if _cef !=nil {_ae .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_cef );
return nil ;};};if _gaf !=nil {_ddgf =_egge (_ddgf ,_gaf );};_dcf :=_ddgf .Bounds ();_bb .Push ();_bb .Scale (1.0/float64 (_dcf .Dx ()),-1.0/float64 (_dcf .Dy ()));_bb .DrawImageAnchored (_ddgf ,0,0,0,1);_bb .Pop ();case _ea .XObjectTypeForm :_ae .Log .Debug ("\u0058\u004fb\u006a\u0065\u0063t\u0020\u0066\u006f\u0072\u006d\u003a\u0020\u0025\u0073",_bgg .String ());
_egc ,_gcc :=_abd .GetXObjectFormByName (*_bgg );if _gcc !=nil {return _gcc ;};_caf ,_gcc :=_egc .GetContentStream ();if _gcc !=nil {return _gcc ;};_bbb :=_egc .Resources ;if _bbb ==nil {_bbb =_abd ;};_bb .Push ();if _egc .Matrix !=nil {_deg ,_ddbb :=_b .GetArray (_egc .Matrix );
if !_ddbb {return _egb ;};_ace ,_bggf :=_b .GetNumbersAsFloat (_deg .Elements ());if _bggf !=nil {return _bggf ;};if len (_ace )!=6{return _bf ;};_bbe :=_fd .NewMatrix (_ace [0],_ace [1],_ace [2],_ace [3],_ace [4],_ace [5]);_bb .SetMatrix (_bb .Matrix ().Mult (_bbe ));
};if _egc .BBox !=nil {_beba ,_eef :=_b .GetArray (_egc .BBox );if !_eef {return _egb ;};_bde ,_fgf :=_b .GetNumbersAsFloat (_beba .Elements ());if _fgf !=nil {return _fgf ;};if len (_bde )!=4{_ae .Log .Debug ("\u004c\u0065\u006e\u0020\u003d\u0020\u0025\u0064",len (_bde ));
return _bf ;};_bb .DrawRectangle (_bde [0],_bde [1],_bde [2]-_bde [0],_bde [3]-_bde [1]);_bb .SetRGBA (1,0,0,1);_bb .Clip ();}else {_ae .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0052\u0065q\u0075\u0069\u0072e\u0064\u0020\u0042\u0042\u006f\u0078\u0020\u006d\u0069ss\u0069\u006e\u0067 \u006f\u006e \u0058\u004f\u0062\u006a\u0065\u0063t\u0020\u0046o\u0072\u006d");
};_gcc =_ad .renderContentStream (_bb ,string (_caf ),_bbb );if _gcc !=nil {return _gcc ;};_bb .Pop ();};case "\u0042\u0049":if len (_ec .Params )!=1{return _bf ;};_acfe ,_aff :=_ec .Params [0].(*_fe .ContentStreamInlineImage );if !_aff {return nil ;};
_eedc ,_aac :=_acfe .ToImage (_abd );if _aac !=nil {_ae .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_aac );
return nil ;};_cffg ,_aac :=_eedc .ToGoImage ();if _aac !=nil {_ae .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_aac );
return nil ;};_agf :=_cffg .Bounds ();_bb .Push ();_bb .Scale (1.0/float64 (_agf .Dx ()),-1.0/float64 (_agf .Dy ()));_bb .DrawImageAnchored (_cffg ,0,0,0,1);_bb .Pop ();case "\u0042\u0054":_dfd .Reset ();case "\u0045\u0054":_dfd .Reset ();case "\u0054\u0072":if len (_ec .Params )!=1{return _bf ;
};_gca ,_bce :=_b .GetNumberAsFloat (_ec .Params [0]);if _bce !=nil {return _bce ;};_dfd .Tr =_aa .TextRenderingMode (_gca );case "\u0054\u004c":if len (_ec .Params )!=1{return _bf ;};_eac ,_dfae :=_b .GetNumberAsFloat (_ec .Params [0]);if _dfae !=nil {return _dfae ;
};_dfd .Tl =_eac ;case "\u0054\u0063":if len (_ec .Params )!=1{return _bf ;};_gdeg ,_fbb :=_b .GetNumberAsFloat (_ec .Params [0]);if _fbb !=nil {return _fbb ;};_ae .Log .Debug ("\u0054\u0063\u003a\u0020\u0025\u0076",_gdeg );_dfd .Tc =_gdeg ;case "\u0054\u0077":if len (_ec .Params )!=1{return _bf ;
};_ffa ,_bab :=_b .GetNumberAsFloat (_ec .Params [0]);if _bab !=nil {return _bab ;};_ae .Log .Debug ("\u0054\u0077\u003a\u0020\u0025\u0076",_ffa );_dfd .Tw =_ffa ;case "\u0054\u007a":if len (_ec .Params )!=1{return _bf ;};_ffdg ,_eeb :=_b .GetNumberAsFloat (_ec .Params [0]);
if _eeb !=nil {return _eeb ;};_dfd .Th =_ffdg ;case "\u0054\u0073":if len (_ec .Params )!=1{return _bf ;};_agfe ,_bfbg :=_b .GetNumberAsFloat (_ec .Params [0]);if _bfbg !=nil {return _bfbg ;};_dfd .Ts =_agfe ;case "\u0054\u0064":if len (_ec .Params )!=2{return _bf ;
};_gfg ,_fgfa :=_b .GetNumbersAsFloat (_ec .Params );if _fgfa !=nil {return _fgfa ;};_ae .Log .Debug ("\u0054\u0064\u003a\u0020\u0025\u0076",_gfg );_dfd .ProcTd (_gfg [0],_gfg [1]);case "\u0054\u0044":if len (_ec .Params )!=2{return _bf ;};_aeab ,_dfdc :=_b .GetNumbersAsFloat (_ec .Params );
if _dfdc !=nil {return _dfdc ;};_ae .Log .Debug ("\u0054\u0044\u003a\u0020\u0025\u0076",_aeab );_dfd .ProcTD (_aeab [0],_aeab [1]);case "\u0054\u002a":_dfd .ProcTStar ();case "\u0054\u006d":if len (_ec .Params )!=6{return _bf ;};_aaa ,_efbb :=_b .GetNumbersAsFloat (_ec .Params );
if _efbb !=nil {return _efbb ;};_ae .Log .Debug ("\u0054\u0065x\u0074\u0020\u006da\u0074\u0072\u0069\u0078\u003a\u0020\u0025\u002b\u0076",_aaa );_dfd .ProcTm (_aaa [0],_aaa [1],_aaa [2],_aaa [3],_aaa [4],_aaa [5]);case "\u0027":if len (_ec .Params )!=1{return _bf ;
};_bbd ,_cgfa :=_b .GetStringBytes (_ec .Params [0]);if !_cgfa {return _egb ;};_ae .Log .Debug ("\u0027\u0020\u0073t\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_bbd ));_dfd .ProcQ (_bbd ,_bb );case "\u0022":if len (_ec .Params )!=3{return _bf ;
};_ged ,_cgff :=_b .GetNumberAsFloat (_ec .Params [0]);if _cgff !=nil {return _cgff ;};_dge ,_cgff :=_b .GetNumberAsFloat (_ec .Params [1]);if _cgff !=nil {return _cgff ;};_gadf ,_gbgf :=_b .GetStringBytes (_ec .Params [2]);if !_gbgf {return _egb ;};_dfd .ProcDQ (_gadf ,_ged ,_dge ,_bb );
case "\u0054\u006a":if len (_ec .Params )!=1{return _bf ;};_fgd ,_cdcc :=_b .GetStringBytes (_ec .Params [0]);if !_cdcc {return _egb ;};_ae .Log .Debug ("\u0054j\u0020s\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0060\u0025\u0073\u0060",string (_fgd ));
_dfd .ProcTj (_fgd ,_bb );case "\u0054\u004a":if len (_ec .Params )!=1{return _bf ;};_deae ,_dbe :=_b .GetArray (_ec .Params [0]);if !_dbe {_ae .Log .Debug ("\u0054\u0079\u0070\u0065\u003a\u0020\u0025\u0054",_deae );return _egb ;};_ae .Log .Debug ("\u0054\u004a\u0020\u0061\u0072\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_deae );
for _ ,_cfce :=range _deae .Elements (){switch _dfg :=_cfce .(type ){case *_b .PdfObjectString :if _dfg !=nil {_dfd .ProcTj (_dfg .Bytes (),_bb );};case *_b .PdfObjectFloat ,*_b .PdfObjectInteger :_gbe ,_bede :=_b .GetNumberAsFloat (_dfg );if _bede ==nil {_dfd .Translate (-_gbe *0.001*_dfd .Tf .Size *_dfd .Th /100.0,0);
};};};case "\u0054\u0066":if len (_ec .Params )!=2{return _bf ;};_ae .Log .Debug ("\u0025\u0023\u0076",_ec .Params );_afb ,_dfca :=_b .GetName (_ec .Params [0]);if !_dfca ||_afb ==nil {_ae .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u006e\u0061m\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_ec .Params [0]);
return _egb ;};_ae .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u006e\u0061\u006d\u0065\u003a\u0020\u0025\u0073",_afb .String ());_gbf ,_abc :=_b .GetNumberAsFloat (_ec .Params [1]);if _abc !=nil {_ae .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u0073\u0069z\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_ec .Params [1]);
return _egb ;};_ae .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u0073\u0069\u007a\u0065\u003a\u0020\u0025\u0076",_gbf );_fdg ,_egg :=_abd .GetFontByName (*_afb );if !_egg {_ae .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0046\u006f\u006e\u0074\u0020\u0025s\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064",_afb .String ());
return _ag .New ("\u0066\u006f\u006e\u0074\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};_ae .Log .Debug ("\u0046\u006f\u006e\u0074\u003a\u0020\u0025\u0054",_fdg );_gec ,_dfca :=_b .GetDict (_fdg );if !_dfca {_ae .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075l\u0064\u0020\u006e\u006f\u0074\u0020\u0067e\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0069\u0063\u0074");
return _egb ;};_bgf ,_abc :=_ea .NewPdfFontFromPdfObject (_gec );if _abc !=nil {_ae .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066\u0072\u006fm\u0020\u006fb\u006a\u0065\u0063\u0074");
return _abc ;};_aga :=_bgf .BaseFont ();if _aga ==""{_aga =_afb .String ();};_bbgd ,_dfca :=_cfb [_aga ];if !_dfca {_bbgd ,_abc =_aa .NewTextFont (_bgf ,_gbf );if _abc !=nil {_ae .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_abc );};};if _bbgd ==nil {if len (_aga )> 7&&_aga [6]=='+'{_aga =_aga [7:];
};_fga :=[]string {_aga ,"\u0054i\u006de\u0073\u0020\u004e\u0065\u0077\u0020\u0052\u006f\u006d\u0061\u006e","\u0041\u0072\u0069a\u006c","D\u0065\u006a\u0061\u0056\u0075\u0020\u0053\u0061\u006e\u0073"};for _ ,_fdge :=range _fga {_ae .Log .Debug ("\u0044\u0045\u0042\u0055\u0047\u003a \u0073\u0065\u0061\u0072\u0063\u0068\u0069\u006e\u0067\u0020\u0073\u0079\u0073t\u0065\u006d\u0020\u0066\u006f\u006e\u0074 \u0060\u0025\u0073\u0060",_fdge );
if _bbgd ,_dfca =_cfb [_fdge ];_dfca {break ;};_acee :=_ce .Match (_fdge );if _acee ==nil {_ae .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u0066\u0069\u006e\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_fdge );
continue ;};_bbgd ,_abc =_aa .NewTextFontFromPath (_acee .Filename ,_gbf );if _abc !=nil {_ae .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_acee .Filename );
continue ;};_ae .Log .Debug ("\u0053\u0075\u0062\u0073\u0074\u0069t\u0075\u0074\u0069\u006e\u0067\u0020\u0066\u006f\u006e\u0074\u0020\u0025\u0073 \u0077\u0069\u0074\u0068\u0020\u0025\u0073 \u0028\u0025\u0073\u0029",_aga ,_acee .Name ,_acee .Filename );
_cfb [_fdge ]=_bbgd ;break ;};};if _bbgd ==nil {_ae .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020n\u006f\u0074\u0020\u0066\u0069\u006ed\u0020\u0061\u006e\u0079\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065 \u0066\u006f\u006e\u0074");
return _ag .New ("\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0066\u0069\u006e\u0064\u0020a\u006ey\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065\u0020\u0066\u006f\u006e\u0074");};_dfd .ProcTf (_bbgd .WithSize (_gbf ,_bgf ));case "\u0042\u004d\u0043","\u0042\u0044\u0043":if len (_ec .Params )==2&&_ec .Params [0].String ()=="\u0041\u0072\u0074\u0069\u0066\u0061\u0063\u0074"{_baee ,_gdec :=_b .GetDict (_ec .Params [1]);
if _gdec {if _baee .Get ("\u0053u\u0062\u0074\u0079\u0070\u0065")!=nil &&_baee .Get ("\u0053u\u0062\u0074\u0079\u0070\u0065").String ()=="\u0057a\u0074\u0065\u0072\u006d\u0061\u0072k"{_dfd .Tr =_aa .TextRenderingModeInvisible ;};};};case "\u0045\u004d\u0043":default:_ae .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0073u\u0070\u0070\u006f\u0072\u0074\u0065\u0064 \u006f\u0070\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u0073",_ec .Operand );
};_cga =_ec ;return nil ;});_fg =_ab .Process (_aea );if _fg !=nil {return _fg ;};return nil ;};