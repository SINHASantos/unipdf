//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package render ;import (_d "errors";_b "fmt";_ad "github.com/adrg/sysfont";_db "github.com/unidoc/unipdf/v4/annotator";_cd "github.com/unidoc/unipdf/v4/common";_fg "github.com/unidoc/unipdf/v4/contentstream";_ce "github.com/unidoc/unipdf/v4/contentstream/draw";
_ab "github.com/unidoc/unipdf/v4/core";_dc "github.com/unidoc/unipdf/v4/internal/license";_adb "github.com/unidoc/unipdf/v4/internal/transform";_fb "github.com/unidoc/unipdf/v4/model";_ae "github.com/unidoc/unipdf/v4/render/internal/context";_eb "github.com/unidoc/unipdf/v4/render/internal/context/imagerender";
_aa "golang.org/x/image/draw";_gf "image";_cf "image/color";_c "image/draw";_ee "image/jpeg";_a "image/png";_f "math";_dg "os";_de "path/filepath";_g "strings";);type renderer struct{_fde float64 };func (_gcg renderer )processGradient (_aaba _ae .Context ,_bag *_fg .ContentStreamOperation ,_fed *_fb .PdfPageResources ,_acbf *_ab .PdfObjectName )(_ae .Gradient ,error ){if _gbfb ,_cdd :=_fed .GetPatternByName (*_acbf );
_cdd &&_gbfb .IsShading (){_abbee :=_gbfb .GetAsShadingPattern ().Shading ;_fddc ,_ ,_eddb :=_gcg .processShading (_aaba ,_abbee );if _eddb !=nil {return nil ,_eddb ;};return _fddc ,nil ;};return nil ,nil ;};func (_cdf renderer )renderPage (_ff _ae .Context ,_gad *_fb .PdfPage ,_abg _adb .Matrix ,_eee bool )error {if !_eee {_ccd :=_fb .FieldFlattenOpts {AnnotFilterFunc :func (_caa *_fb .PdfAnnotation )bool {switch _caa .GetContext ().(type ){case *_fb .PdfAnnotationLine :return true ;
case *_fb .PdfAnnotationSquare :return true ;case *_fb .PdfAnnotationCircle :return true ;case *_fb .PdfAnnotationPolygon :return true ;case *_fb .PdfAnnotationPolyLine :return true ;};return false ;}};_egg :=_db .FieldAppearance {};_fgg :=_gad .FlattenFieldsWithOpts (_egg ,&_ccd );
if _fgg !=nil {_cd .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0064u\u0072\u0069n\u0067\u0020\u0061\u006e\u006e\u006f\u0074\u0061t\u0069\u006f\u006e\u0020\u0066\u006c\u0061\u0074\u0074\u0065\u006e\u0069n\u0067\u0020\u0025\u0076",_fgg );};};_cea ,_cab :=_gad .GetAllContentStreams ();
if _cab !=nil {return _cab ;};if _aad :=_abg ;!_aad .Identity (){_cea =_b .Sprintf ("%\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066 \u0025\u002e\u0032\u0066\u0020\u0025\u002e2\u0066\u0020\u0025\u002e\u0032\u0066\u0020\u0063\u006d\u0020%\u0073",_aad [0],_aad [1],_aad [3],_aad [4],_aad [6],_aad [7],_cea );
};_ff .Translate (0,float64 (_ff .Height ()));_ff .Scale (1,-1);_ff .Push ();_ff .SetRGBA (1,1,1,1);_ff .DrawRectangle (0,0,float64 (_ff .Width ()),float64 (_ff .Height ()));_ff .Fill ();_ff .Pop ();_ff .SetLineWidth (1.0);_ff .SetRGBA (0,0,0,1);return _cdf .renderContentStream (_ff ,_cea ,_gad .Resources );
};func _cfg (_fcg string ,_gag _gf .Image )error {_ecae ,_beee :=_dg .Create (_fcg );if _beee !=nil {return _beee ;};defer _ecae .Close ();return _a .Encode (_ecae ,_gag );};

// RenderToPath converts the specified PDF page into an image and saves the
// result at the specified location.
func (_adf *ImageDevice )RenderToPath (page *_fb .PdfPage ,outputPath string )error {_fgb ,_dd :=_adf .Render (page );if _dd !=nil {return _dd ;};_bgg :=_g .ToLower (_de .Ext (outputPath ));if _bgg ==""{return _d .New ("\u0063\u006ful\u0064\u0020\u006eo\u0074\u0020\u0072\u0065cog\u006eiz\u0065\u0020\u006f\u0075\u0074\u0070\u0075t \u0066\u0069\u006c\u0065\u0020\u0074\u0079p\u0065");
};switch _bgg {case "\u002e\u0070\u006e\u0067":return _cfg (outputPath ,_fgb );case "\u002e\u006a\u0070\u0067","\u002e\u006a\u0070e\u0067":return _cbc (outputPath ,_fgb ,100);};return _b .Errorf ("\u0075\u006e\u0072\u0065\u0063\u006fg\u006e\u0069\u007a\u0065\u0064\u0020\u006f\u0075\u0074\u0070\u0075\u0074\u0020f\u0069\u006c\u0065\u0020\u0074\u0079\u0070e\u003a\u0020\u0025\u0073",_bgg );
};func _adfc (_eeaa _ae .Gradient ,_aec *_fb .PdfFunctionType3 ,_adcf _fb .PdfColorspace ,_fce []float64 )(_ae .Gradient ,error ){var _dgf error ;for _baa :=0;_baa < len (_aec .Functions );_baa ++{if _bffe ,_gdba :=_aec .Functions [_baa ].(*_fb .PdfFunctionType2 );
_gdba {_eeaa ,_dgf =_eecc (_eeaa ,_bffe ,_adcf ,_fce [_baa +1],_baa ==0);if _dgf !=nil {return nil ,_dgf ;};};};return _eeaa ,nil ;};

// PdfShadingType defines PDF shading types.
// Source: PDF32000_2008.pdf. Chapter 8.7.4.5
type PdfShadingType int64 ;

// ImageDevice is used to render PDF pages to image targets.
type ImageDevice struct{renderer ;

// OutputWidth represents the width of the rendered images in pixels.
// The heights of the output images are calculated based on the selected
// width and the original height of each rendered page.
OutputWidth int ;};func _fgc (_eega _ab .PdfObject ,_bdda _cf .Color )(_gf .Image ,error ){_ffd ,_gaad :=_ab .GetStream (_eega );if !_gaad {return nil ,nil ;};_bgfc ,_ddg :=_fb .NewXObjectImageFromStream (_ffd );if _ddg !=nil {return nil ,_ddg ;};_ggdf ,_ddg :=_bgfc .ToImage ();
if _ddg !=nil {return nil ,_ddg ;};return _bcf (_ggdf ,_bdda ),nil ;};func (_ded renderer )renderContentStream (_cage _ae .Context ,_dac string ,_ecf *_fb .PdfPageResources )error {_fc ,_bgb :=_fg .NewContentStreamParser (_dac ).Parse ();if _bgb !=nil {return _bgb ;
};_gbg :=_cage .TextState ();_gbg .GlobalScale =_ded ._fde ;_aea :=map[string ]*_ae .TextFont {};_gbb :=_ad .NewFinder (&_ad .FinderOpts {Extensions :[]string {"\u002e\u0074\u0074\u0066","\u002e\u0074\u0074\u0063"}});var _be *_fg .ContentStreamOperation ;
_bbd :=_fg .NewContentStreamProcessor (*_fc );_bbd .AddHandler (_fg .HandlerConditionEnumAllOperands ,"",func (_gfee *_fg .ContentStreamOperation ,_ge _fg .GraphicsState ,_fgge *_fb .PdfPageResources )error {_cd .Log .Debug ("\u0050\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0025\u0073",_gfee .Operand );
switch _gfee .Operand {case "\u0071":_cage .Push ();case "\u0051":_cage .Pop ();_gbg =_cage .TextState ();case "\u0063\u006d":if len (_gfee .Params )!=6{return _cag ;};_ced ,_eda :=_ab .GetNumbersAsFloat (_gfee .Params );if _eda !=nil {return _eda ;};_bbb :=_adb .NewMatrix (_ced [0],_ced [1],_ced [2],_ced [3],_ced [4],_ced [5]);
_cd .Log .Debug ("\u0047\u0072\u0061\u0070\u0068\u0069\u0063\u0073\u0020\u0073\u0074a\u0074\u0065\u0020\u006d\u0061\u0074\u0072\u0069\u0078\u003a \u0025\u002b\u0076",_bbb );_cage .SetMatrix (_cage .Matrix ().Mult (_bbb ));case "\u0077":if len (_gfee .Params )!=1{return _cag ;
};_dgb ,_gef :=_ab .GetNumbersAsFloat (_gfee .Params );if _gef !=nil {return _gef ;};_cage .SetLineWidth (_dgb [0]);case "\u004a":if len (_gfee .Params )!=1{return _cag ;};_age ,_aadd :=_ab .GetIntVal (_gfee .Params [0]);if !_aadd {return _afd ;};switch _age {case 0:_cage .SetLineCap (_ae .LineCapButt );
case 1:_cage .SetLineCap (_ae .LineCapRound );case 2:_cage .SetLineCap (_ae .LineCapSquare );default:_cd .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u006ee\u0020\u0063\u0061\u0070\u0020\u0073\u0074\u0079\u006c\u0065:\u0020\u0025\u0064",_age );
return _cag ;};case "\u006a":if len (_gfee .Params )!=1{return _cag ;};_gbga ,_fcd :=_ab .GetIntVal (_gfee .Params [0]);if !_fcd {return _afd ;};switch _gbga {case 0:_cage .SetLineJoin (_ae .LineJoinBevel );case 1:_cage .SetLineJoin (_ae .LineJoinRound );
case 2:_cage .SetLineJoin (_ae .LineJoinBevel );default:_cd .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006c\u0069\u006e\u0065\u0020\u006a\u006f\u0069\u006e \u0073\u0074\u0079l\u0065:\u0020\u0025\u0064",_gbga );return _cag ;};case "\u004d":if len (_gfee .Params )!=1{return _cag ;
};_def ,_aeb :=_ab .GetNumbersAsFloat (_gfee .Params );if _aeb !=nil {return _aeb ;};_ =_def ;_cd .Log .Debug ("\u004di\u0074\u0065\u0072\u0020l\u0069\u006d\u0069\u0074\u0020n\u006ft\u0020s\u0075\u0070\u0070\u006f\u0072\u0074\u0065d");case "\u0064":if len (_gfee .Params )!=2{return _cag ;
};_eaf ,_gea :=_ab .GetArray (_gfee .Params [0]);if !_gea {return _afd ;};_ccc ,_gea :=_ab .GetIntVal (_gfee .Params [1]);if !_gea {_ ,_gc :=_ab .GetFloatVal (_gfee .Params [1]);if !_gc {return _afd ;};};_dde ,_fca :=_ab .GetNumbersAsFloat (_eaf .Elements ());
if _fca !=nil {return _fca ;};_cage .SetDash (_dde ...);_ =_ccc ;_cd .Log .Debug ("\u004c\u0069n\u0065\u0020\u0064\u0061\u0073\u0068\u0020\u0070\u0068\u0061\u0073\u0065\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006frt\u0065\u0064");case "\u0072\u0069":_cd .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020i\u006e\u0074\u0065\u006e\u0074\u0020\u006eo\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");
case "\u0069":_cd .Log .Debug ("\u0046\u006c\u0061\u0074\u006e\u0065\u0073\u0073\u0020\u0074\u006f\u006c\u0065\u0072\u0061n\u0063e\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0067\u0073":if len (_gfee .Params )!=1{return _cag ;
};_ac ,_bfe :=_ab .GetName (_gfee .Params [0]);if !_bfe {return _afd ;};if _ac ==nil {return _cag ;};_abd ,_bfe :=_fgge .GetExtGState (*_ac );if !_bfe {_cd .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006eo\u0074 \u0066i\u006ed\u0020\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u003a\u0020\u0025\u0073",*_ac );
return _d .New ("\u0072e\u0073o\u0075\u0072\u0063\u0065\u0020n\u006f\u0074 \u0066\u006f\u0075\u006e\u0064");};_fdg ,_bfe :=_ab .GetDict (_abd );if !_bfe {_cd .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020c\u006f\u0075\u006c\u0064 ge\u0074 g\u0072\u0061\u0070\u0068\u0069\u0063\u0073 s\u0074\u0061\u0074\u0065\u0020\u0064\u0069c\u0074");
return _afd ;};_cd .Log .Debug ("G\u0053\u0020\u0064\u0069\u0063\u0074\u003a\u0020\u0025\u0073",_fdg .String ());_bgbg :=_fdg .Get ("\u0063\u0061");if _bgbg !=nil {_ffa ,_gec :=_ab .GetNumberAsFloat (_bgbg );if _gec ==nil {_bgge ,_bef :=_ge .ColorspaceNonStroking .ColorToRGB (_ge .ColorNonStroking );
if _bef !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bef );return _bef ;};_gcd ,_cb :=_bgge .(*_fb .PdfColorDeviceRGB );if !_cb {_cd .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");
return _bef ;};_cage .SetFillRGBA (_gcd .R (),_gcd .G (),_gcd .B (),_ffa );};};case "\u006d":if len (_gfee .Params )!=2{_cd .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_cag );
return nil ;};_ffac ,_fa :=_ab .GetNumbersAsFloat (_gfee .Params );if _fa !=nil {return _fa ;};_cd .Log .Debug ("M\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u0076",_ffac );_cage .NewSubPath ();_cage .MoveTo (_ffac [0],_ffac [1]);case "\u006c":if len (_gfee .Params )!=2{_cd .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_cag );
return nil ;};_dgbd ,_edd :=_ab .GetNumbersAsFloat (_gfee .Params );if _edd !=nil {return _edd ;};_cage .LineTo (_dgbd [0],_dgbd [1]);case "\u0063":if len (_gfee .Params )!=6{return _cag ;};_acd ,_ffc :=_ab .GetNumbersAsFloat (_gfee .Params );if _ffc !=nil {return _ffc ;
};_cd .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_acd );_cage .CubicTo (_acd [0],_acd [1],_acd [2],_acd [3],_acd [4],_acd [5]);case "\u0076","\u0079":if len (_gfee .Params )!=4{return _cag ;
};_dba ,_dag :=_ab .GetNumbersAsFloat (_gfee .Params );if _dag !=nil {return _dag ;};_cd .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_dba );_cage .QuadraticTo (_dba [0],_dba [1],_dba [2],_dba [3]);
case "\u0068":_cage .ClosePath ();_cage .NewSubPath ();case "\u0072\u0065":if len (_gfee .Params )!=4{return _cag ;};_eca ,_acdf :=_ab .GetNumbersAsFloat (_gfee .Params );if _acdf !=nil {return _acdf ;};_cage .DrawRectangle (_eca [0],_eca [1],_eca [2],_eca [3]);
_cage .NewSubPath ();case "\u0053":_abf ,_bfd :=_ge .ColorspaceStroking .ColorToRGB (_ge .ColorStroking );if _bfd !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bfd );
return _bfd ;};_ffaf ,_fe :=_abf .(*_fb .PdfColorDeviceRGB );if !_fe {_cd .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _bfd ;};_cage .SetRGBA (_ffaf .R (),_ffaf .G (),_ffaf .B (),1);
_cage .Stroke ();case "\u0073":_dbf ,_ega :=_ge .ColorspaceStroking .ColorToRGB (_ge .ColorStroking );if _ega !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ega );
return _ega ;};_bbbc ,_cae :=_dbf .(*_fb .PdfColorDeviceRGB );if !_cae {_cd .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _ega ;};_cage .ClosePath ();_cage .NewSubPath ();
_cage .SetRGBA (_bbbc .R (),_bbbc .G (),_bbbc .B (),1);_cage .Stroke ();case "\u0066","\u0046":_aef ,_aeg :=_ge .ColorspaceNonStroking .ColorToRGB (_ge .ColorNonStroking );if _aeg !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_aeg );
return _aeg ;};switch _ba :=_aef .(type ){case *_fb .PdfColorDeviceRGB :_cage .SetRGBA (_ba .R (),_ba .G (),_ba .B (),1);_cage .SetFillRule (_ae .FillRuleWinding );_cage .Fill ();case *_fb .PdfColorPattern :_cage .Fill ();};_cd .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");
case "\u0066\u002a":_fae ,_dbb :=_ge .ColorspaceNonStroking .ColorToRGB (_ge .ColorNonStroking );if _dbb !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dbb );
return _dbb ;};_dgg ,_ebe :=_fae .(*_fb .PdfColorDeviceRGB );if !_ebe {_cd .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _dbb ;};_cage .SetRGBA (_dgg .R (),_dgg .G (),_dgg .B (),1);
_cage .SetFillRule (_ae .FillRuleEvenOdd );_cage .Fill ();case "\u0042":_cee ,_ageb :=_ge .ColorspaceNonStroking .ColorToRGB (_ge .ColorNonStroking );if _ageb !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ageb );
return _ageb ;};switch _cdc :=_cee .(type ){case *_fb .PdfColorDeviceRGB :_cage .SetRGBA (_cdc .R (),_cdc .G (),_cdc .B (),1);_cage .SetFillRule (_ae .FillRuleWinding );_cage .FillPreserve ();_cee ,_ageb =_ge .ColorspaceStroking .ColorToRGB (_ge .ColorStroking );
if _ageb !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ageb );return _ageb ;};if _ggd ,_gbe :=_cee .(*_fb .PdfColorDeviceRGB );
_gbe {_cage .SetRGBA (_ggd .R (),_ggd .G (),_ggd .B (),1);_cage .Stroke ();};case *_fb .PdfColorPattern :_cage .SetFillRule (_ae .FillRuleWinding );_cage .Fill ();_cage .StrokePattern ();};case "\u0042\u002a":_ef ,_ggc :=_ge .ColorspaceNonStroking .ColorToRGB (_ge .ColorNonStroking );
if _ggc !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ggc );return _ggc ;};switch _aga :=_ef .(type ){case *_fb .PdfColorDeviceRGB :_cage .SetRGBA (_aga .R (),_aga .G (),_aga .B (),1);
_cage .SetFillRule (_ae .FillRuleEvenOdd );_cage .FillPreserve ();_ef ,_ggc =_ge .ColorspaceStroking .ColorToRGB (_ge .ColorStroking );if _ggc !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ggc );
return _ggc ;};if _fbb ,_gbef :=_ef .(*_fb .PdfColorDeviceRGB );_gbef {_cage .SetRGBA (_fbb .R (),_fbb .G (),_fbb .B (),1);_cage .Stroke ();};case *_fb .PdfColorPattern :_cage .SetFillRule (_ae .FillRuleEvenOdd );_cage .Fill ();_cage .StrokePattern ();
};case "\u0062":_cage .ClosePath ();_efc ,_ggcg :=_ge .ColorspaceNonStroking .ColorToRGB (_ge .ColorNonStroking );if _ggcg !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ggcg );
return _ggcg ;};switch _dcg :=_efc .(type ){case *_fb .PdfColorDeviceRGB :_cage .SetRGBA (_dcg .R (),_dcg .G (),_dcg .B (),1);_cage .NewSubPath ();_cage .SetFillRule (_ae .FillRuleWinding );_cage .FillPreserve ();_efc ,_ggcg =_ge .ColorspaceStroking .ColorToRGB (_ge .ColorStroking );
if _ggcg !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ggcg );return _ggcg ;};if _fcaa ,_dca :=_efc .(*_fb .PdfColorDeviceRGB );
_dca {_cage .SetRGBA (_fcaa .R (),_fcaa .G (),_fcaa .B (),1);_cage .Stroke ();};case *_fb .PdfColorPattern :_cage .NewSubPath ();_cage .SetFillRule (_ae .FillRuleWinding );_cage .Fill ();_cage .StrokePattern ();};case "\u0062\u002a":_cage .ClosePath ();
_edf ,_fbg :=_ge .ColorspaceNonStroking .ColorToRGB (_ge .ColorNonStroking );if _fbg !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbg );
return _fbg ;};switch _bab :=_edf .(type ){case *_fb .PdfColorDeviceRGB :_cage .SetRGBA (_bab .R (),_bab .G (),_bab .B (),1);_cage .NewSubPath ();_cage .SetFillRule (_ae .FillRuleEvenOdd );_cage .FillPreserve ();_edf ,_fbg =_ge .ColorspaceStroking .ColorToRGB (_ge .ColorStroking );
if _fbg !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fbg );return _fbg ;};if _geae ,_egd :=_edf .(*_fb .PdfColorDeviceRGB );
_egd {_cage .SetRGBA (_geae .R (),_geae .G (),_geae .B (),1);_cage .Stroke ();};case *_fb .PdfColorPattern :_cage .NewSubPath ();_cage .SetFillRule (_ae .FillRuleEvenOdd );_cage .Fill ();_cage .StrokePattern ();};case "\u006e":_cage .ClearPath ();case "\u0057":_cage .SetFillRule (_ae .FillRuleWinding );
_cage .ClipPreserve ();case "\u0057\u002a":_cage .SetFillRule (_ae .FillRuleEvenOdd );_cage .ClipPreserve ();case "\u0072\u0067":_bae ,_fcfe :=_ge .ColorNonStroking .(*_fb .PdfColorDeviceRGB );if !_fcfe {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorNonStroking );
return nil ;};_cage .SetFillRGBA (_bae .R (),_bae .G (),_bae .B (),1);case "\u0052\u0047":_gbgd ,_efb :=_ge .ColorStroking .(*_fb .PdfColorDeviceRGB );if !_efb {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorStroking );
return nil ;};_cage .SetStrokeRGBA (_gbgd .R (),_gbgd .G (),_gbgd .B (),1);case "\u006b":_dcd ,_bd :=_ge .ColorNonStroking .(*_fb .PdfColorDeviceCMYK );if !_bd {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorNonStroking );
return nil ;};_gdf ,_dda :=_ge .ColorspaceNonStroking .ColorToRGB (_dcd );if _dda !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorNonStroking );
return nil ;};_fbe ,_bd :=_gdf .(*_fb .PdfColorDeviceRGB );if !_bd {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gdf );return nil ;
};_cage .SetFillRGBA (_fbe .R (),_fbe .G (),_fbe .B (),1);case "\u004b":_efba ,_dee :=_ge .ColorStroking .(*_fb .PdfColorDeviceCMYK );if !_dee {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorStroking );
return nil ;};_gfd ,_deb :=_ge .ColorspaceStroking .ColorToRGB (_efba );if _deb !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorStroking );
return nil ;};_df ,_dee :=_gfd .(*_fb .PdfColorDeviceRGB );if !_dee {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gfd );return nil ;
};_cage .SetStrokeRGBA (_df .R (),_df .G (),_df .B (),1);case "\u0067":_dab ,_edae :=_ge .ColorNonStroking .(*_fb .PdfColorDeviceGray );if !_edae {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorNonStroking );
return nil ;};_cbf ,_bga :=_ge .ColorspaceNonStroking .ColorToRGB (_dab );if _bga !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorNonStroking );
return nil ;};_bdb ,_edae :=_cbf .(*_fb .PdfColorDeviceRGB );if !_edae {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cbf );return nil ;
};_cage .SetFillRGBA (_bdb .R (),_bdb .G (),_bdb .B (),1);case "\u0047":_ffe ,_gbf :=_ge .ColorStroking .(*_fb .PdfColorDeviceGray );if !_gbf {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorStroking );
return nil ;};_bdc ,_bcb :=_ge .ColorspaceStroking .ColorToRGB (_ffe );if _bcb !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorStroking );
return nil ;};_gdb ,_gbf :=_bdc .(*_fb .PdfColorDeviceRGB );if !_gbf {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bdc );return nil ;
};_cage .SetStrokeRGBA (_gdb .R (),_gdb .G (),_gdb .B (),1);case "\u0063\u0073":if len (_gfee .Params )> 0{if _fef ,_agdc :=_ab .GetName (_gfee .Params [0]);_agdc &&_fef .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{break ;};};_cge ,_ffg :=_ge .ColorspaceNonStroking .ColorToRGB (_ge .ColorNonStroking );
if _ffg !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorNonStroking );return nil ;};_dgba ,_geg :=_cge .(*_fb .PdfColorDeviceRGB );
if !_geg {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_cge );return nil ;};_cage .SetFillRGBA (_dgba .R (),_dgba .G (),_dgba .B (),1);
case "\u0073\u0063":_bad ,_egff :=_ge .ColorspaceNonStroking .ColorToRGB (_ge .ColorNonStroking );if _egff !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorNonStroking );
return nil ;};_faf ,_ece :=_bad .(*_fb .PdfColorDeviceRGB );if !_ece {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bad );return nil ;
};_cage .SetFillRGBA (_faf .R (),_faf .G (),_faf .B (),1);case "\u0073\u0063\u006e":if len (_gfee .Params )> 0&&len (_be .Params )> 0{if _efd ,_eddg :=_ab .GetName (_be .Params [0]);_eddg &&_efd .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{if _aed ,_bea :=_ab .GetName (_gfee .Params [0]);
_bea {_bed ,_cgb :=_ded .processGradient (_cage ,_gfee ,_fgge ,_aed );if _cgb !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077\u0068\u0065\u006e\u0020\u0070\u0072o\u0063\u0065\u0073\u0073\u0069\u006eg\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074\u0020\u0064\u0061\u0074a\u003a\u0020\u0025\u0076",_cgb );
break ;};if _bed ==nil {_cd .Log .Debug ("\u0055\u006ek\u006e\u006f\u0077n\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074");break ;};_cage .SetFillStyle (_bed );_cage .SetStrokeStyle (_bed );break ;};};};_afc ,_cff :=_ge .ColorspaceNonStroking .ColorToRGB (_ge .ColorNonStroking );
if _cff !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorNonStroking );return nil ;};_caed ,_ade :=_afc .(*_fb .PdfColorDeviceRGB );
if !_ade {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_afc );return nil ;};_cage .SetFillRGBA (_caed .R (),_caed .G (),_caed .B (),1);
case "\u0043\u0053":if len (_gfee .Params )> 0{if _caae ,_bff :=_ab .GetName (_gfee .Params [0]);_bff &&_caae .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{break ;};};_fdef ,_bce :=_ge .ColorspaceStroking .ColorToRGB (_ge .ColorStroking );if _bce !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorStroking );
return nil ;};_cda ,_aedg :=_fdef .(*_fb .PdfColorDeviceRGB );if !_aedg {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fdef );return nil ;
};_cage .SetStrokeRGBA (_cda .R (),_cda .G (),_cda .B (),1);case "\u0053\u0043":_egffe ,_bba :=_ge .ColorspaceStroking .ColorToRGB (_ge .ColorStroking );if _bba !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorStroking );
return nil ;};_adc ,_acb :=_egffe .(*_fb .PdfColorDeviceRGB );if !_acb {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_egffe );return nil ;
};_cage .SetStrokeRGBA (_adc .R (),_adc .G (),_adc .B (),1);case "\u0053\u0043\u004e":if len (_gfee .Params )> 0&&len (_be .Params )> 0{if _afa ,_fab :=_ab .GetName (_be .Params [0]);_fab &&_afa .String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e"{if _fabe ,_fdb :=_ab .GetName (_gfee .Params [0]);
_fdb {_fag ,_afag :=_ded .processGradient (_cage ,_gfee ,_fgge ,_fabe );if _afag !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077\u0068\u0065\u006e\u0020\u0070\u0072o\u0063\u0065\u0073\u0073\u0069\u006eg\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074\u0020\u0064\u0061\u0074a\u003a\u0020\u0025\u0076",_afag );
break ;};if _fag ==nil {_cd .Log .Debug ("\u0055\u006ek\u006e\u006f\u0077n\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074");break ;};_cage .SetFillStyle (_fag );_cage .SetStrokeStyle (_fag );break ;};};};_gbbf ,_fbed :=_ge .ColorspaceStroking .ColorToRGB (_ge .ColorStroking );
if _fbed !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ge .ColorStroking );return nil ;};_cfe ,_dcc :=_gbbf .(*_fb .PdfColorDeviceRGB );
if !_dcc {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gbbf );return nil ;};_cage .SetStrokeRGBA (_cfe .R (),_cfe .G (),_cfe .B (),1);
case "\u0073\u0068":if len (_gfee .Params )!=1{_cd .Log .Debug ("\u0049n\u0076\u0061\u006c\u0069\u0064\u0020\u0073\u0068\u0020\u0070\u0061r\u0061\u006d\u0073\u0020\u0066\u006f\u0072\u006d\u0061\u0074");break ;};_fga ,_ffb :=_ab .GetName (_gfee .Params [0]);
if !_ffb {_cd .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020g\u0065\u0074\u0074\u0069\u006e\u0067\u0020\u0073\u0068a\u0064\u0069\u006eg\u0020n\u0061\u006d\u0065");break ;};_eac ,_ffb :=_fgge .GetShadingByName (*_fga );if !_ffb {_cd .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020g\u0065\u0074\u0074\u0069\u006e\u0067\u0020\u0073\u0068a\u0064\u0069\u006eg\u0020d\u0061\u0074\u0061");
break ;};_adcg ,_bdcg ,_fff :=_ded .processShading (_cage ,_eac );if _fff !=nil {_cd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077\u0068\u0065\u006e\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0073\u0068a\u0064\u0069\u006e\u0067\u0020d\u0061\u0074a\u003a\u0020\u0025\u0076",_fff );
break ;};if _adcg ==nil {_cd .Log .Debug ("\u0055\u006ek\u006e\u006f\u0077n\u0020\u0067\u0072\u0061\u0064\u0069\u0065\u006e\u0074");break ;};_ede ,_fff :=_bdcg .ToFloat64Array ();if _fff !=nil {_cd .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073: \u0025\u0076",_fff );
break ;};_cage .DrawRectangle (_ede [0],_ede [1],_ede [2],_ede [3]);_cage .NewSubPath ();_cage .SetFillStyle (_adcg );_cage .SetStrokeStyle (_adcg );_cage .Fill ();case "\u0044\u006f":if len (_gfee .Params )!=1{return _cag ;};_eae ,_aag :=_ab .GetName (_gfee .Params [0]);
if !_aag {return _afd ;};_ ,_baf :=_fgge .GetXObjectByName (*_eae );switch _baf {case _fb .XObjectTypeImage :_cd .Log .Debug ("\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u0069\u006d\u0061\u0067e\u003a\u0020\u0025\u0073",_eae .String ());_acc ,_gce :=_fgge .GetXObjectImageByName (*_eae );
if _gce !=nil {return _gce ;};_dcee ,_gce :=_acc .ToImage ();if _gce !=nil {_cd .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_gce );
return nil ;};if _bca :=_acc .ColorSpace ;_bca !=nil {var _bge bool ;switch _bca .(type ){case *_fb .PdfColorspaceSpecialIndexed :_bge =true ;};if _bge {if _aebc ,_eef :=_bca .ImageToRGB (*_dcee );_eef !=nil {_cd .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0063\u006fnv\u0065r\u0074\u0020\u0069\u006d\u0061\u0067\u0065\u0020\u0074\u006f\u0020\u0052G\u0042\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020i\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
}else {_dcee =&_aebc ;};};};_caaef :=_cage .FillPattern ().ColorAt (0,0);var _ged _gf .Image ;if _acc .Mask !=nil {if _ged ,_gce =_fgc (_acc .Mask ,_caaef );_gce !=nil {_cd .Log .Debug ("\u0057\u0041\u0052\u004e\u003a \u0063\u006f\u0075\u006c\u0064 \u006eo\u0074\u0020\u0067\u0065\u0074\u0020\u0065\u0078\u0070\u006c\u0069\u0063\u0069\u0074\u0020\u0069\u006d\u0061\u0067e\u0020\u006d\u0061\u0073\u006b\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e");
};}else if _acc .SMask !=nil {if _ged ,_gce =_deeg (_acc .SMask ,_caaef );_gce !=nil {_cd .Log .Debug ("W\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0067\u0065\u0074\u0020\u0073\u006f\u0066\u0074\u0020\u0069\u006da\u0067e\u0020\u006d\u0061\u0073k\u002e\u0020O\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
};};var _gdc _gf .Image ;if _bcc ,_ :=_ab .GetBoolVal (_acc .ImageMask );_bcc {_gdc =_bcf (_dcee ,_caaef );}else {_gdc ,_gce =_dcee .ToGoImage ();if _gce !=nil {_cd .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_gce );
return nil ;};};if _ged !=nil {_gdc =_cdb (_gdc ,_ged );};_dcf :=_gdc .Bounds ();_cage .Push ();_cage .Scale (1.0/float64 (_dcf .Dx ()),-1.0/float64 (_dcf .Dy ()));_cage .DrawImageAnchored (_gdc ,0,0,0,1);_cage .Pop ();case _fb .XObjectTypeForm :_cd .Log .Debug ("\u0058\u004fb\u006a\u0065\u0063t\u0020\u0066\u006f\u0072\u006d\u003a\u0020\u0025\u0073",_eae .String ());
_aae ,_gbd :=_fgge .GetXObjectFormByName (*_eae );if _gbd !=nil {return _gbd ;};_dfc ,_gbd :=_aae .GetContentStream ();if _gbd !=nil {return _gbd ;};_daf :=_aae .Resources ;if _daf ==nil {_daf =_fgge ;};_cage .Push ();if _aae .Matrix !=nil {_eab ,_dcac :=_ab .GetArray (_aae .Matrix );
if !_dcac {return _afd ;};_cgbd ,_gff :=_ab .GetNumbersAsFloat (_eab .Elements ());if _gff !=nil {return _gff ;};if len (_cgbd )!=6{return _cag ;};_abb :=_adb .NewMatrix (_cgbd [0],_cgbd [1],_cgbd [2],_cgbd [3],_cgbd [4],_cgbd [5]);_cage .SetMatrix (_cage .Matrix ().Mult (_abb ));
};if _aae .BBox !=nil {_bbaf ,_bac :=_ab .GetArray (_aae .BBox );if !_bac {return _afd ;};_caeg ,_befc :=_ab .GetNumbersAsFloat (_bbaf .Elements ());if _befc !=nil {return _befc ;};if len (_caeg )!=4{_cd .Log .Debug ("\u004c\u0065\u006e\u0020\u003d\u0020\u0025\u0064",len (_caeg ));
return _cag ;};_cage .DrawRectangle (_caeg [0],_caeg [1],_caeg [2]-_caeg [0],_caeg [3]-_caeg [1]);_cage .SetRGBA (1,0,0,1);_cage .Clip ();}else {_cd .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0052\u0065q\u0075\u0069\u0072e\u0064\u0020\u0042\u0042\u006f\u0078\u0020\u006d\u0069ss\u0069\u006e\u0067 \u006f\u006e \u0058\u004f\u0062\u006a\u0065\u0063t\u0020\u0046o\u0072\u006d");
};_gbd =_ded .renderContentStream (_cage ,string (_dfc ),_daf );if _gbd !=nil {return _gbd ;};_cage .Pop ();};case "\u0042\u0049":if len (_gfee .Params )!=1{return _cag ;};_edc ,_acdg :=_gfee .Params [0].(*_fg .ContentStreamInlineImage );if !_acdg {return nil ;
};_bgf ,_adbe :=_edc .ToImage (_fgge );if _adbe !=nil {_cd .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_adbe );
return nil ;};_bcaf ,_adbe :=_bgf .ToGoImage ();if _adbe !=nil {_cd .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020\u0072\u0065\u0073\u0075\u006c\u0074\u0020\u006day\u0020b\u0065\u0020\u0069\u006e\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065.\u0020\u0049\u006d\u0061\u0067\u0065\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e \u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_adbe );
return nil ;};_efg :=_bcaf .Bounds ();_cage .Push ();_cage .Scale (1.0/float64 (_efg .Dx ()),-1.0/float64 (_efg .Dy ()));_cage .DrawImageAnchored (_bcaf ,0,0,0,1);_cage .Pop ();case "\u0042\u0054":_gbg .Reset ();case "\u0045\u0054":_gbg .Reset ();case "\u0054\u0072":if len (_gfee .Params )!=1{return _cag ;
};_fac ,_bgd :=_ab .GetNumberAsFloat (_gfee .Params [0]);if _bgd !=nil {return _bgd ;};_gbg .Tr =_ae .TextRenderingMode (_fac );case "\u0054\u004c":if len (_gfee .Params )!=1{return _cag ;};_fdgc ,_bbe :=_ab .GetNumberAsFloat (_gfee .Params [0]);if _bbe !=nil {return _bbe ;
};_gbg .Tl =_fdgc ;case "\u0054\u0063":if len (_gfee .Params )!=1{return _cag ;};_caf ,_dgc :=_ab .GetNumberAsFloat (_gfee .Params [0]);if _dgc !=nil {return _dgc ;};_cd .Log .Debug ("\u0054\u0063\u003a\u0020\u0025\u0076",_caf );_gbg .Tc =_caf ;case "\u0054\u0077":if len (_gfee .Params )!=1{return _cag ;
};_ecb ,_bccb :=_ab .GetNumberAsFloat (_gfee .Params [0]);if _bccb !=nil {return _bccb ;};_cd .Log .Debug ("\u0054\u0077\u003a\u0020\u0025\u0076",_ecb );_gbg .Tw =_ecb ;case "\u0054\u007a":if len (_gfee .Params )!=1{return _cag ;};_ecff ,_cde :=_ab .GetNumberAsFloat (_gfee .Params [0]);
if _cde !=nil {return _cde ;};_gbg .Th =_ecff ;case "\u0054\u0073":if len (_gfee .Params )!=1{return _cag ;};_bbdb ,_bbg :=_ab .GetNumberAsFloat (_gfee .Params [0]);if _bbg !=nil {return _bbg ;};_gbg .Ts =_bbdb ;case "\u0054\u0064":if len (_gfee .Params )!=2{return _cag ;
};_dbe ,_cca :=_ab .GetNumbersAsFloat (_gfee .Params );if _cca !=nil {return _cca ;};_cd .Log .Debug ("\u0054\u0064\u003a\u0020\u0025\u0076",_dbe );_gbg .ProcTd (_dbe [0],_dbe [1]);case "\u0054\u0044":if len (_gfee .Params )!=2{return _cag ;};_feb ,_ggf :=_ab .GetNumbersAsFloat (_gfee .Params );
if _ggf !=nil {return _ggf ;};_cd .Log .Debug ("\u0054\u0044\u003a\u0020\u0025\u0076",_feb );_gbg .ProcTD (_feb [0],_feb [1]);case "\u0054\u002a":_gbg .ProcTStar ();case "\u0054\u006d":if len (_gfee .Params )!=6{return _cag ;};_efga ,_beg :=_ab .GetNumbersAsFloat (_gfee .Params );
if _beg !=nil {return _beg ;};_cd .Log .Debug ("\u0054\u0065x\u0074\u0020\u006da\u0074\u0072\u0069\u0078\u003a\u0020\u0025\u002b\u0076",_efga );_gbg .ProcTm (_efga [0],_efga [1],_efga [2],_efga [3],_efga [4],_efga [5]);case "\u0027":if len (_gfee .Params )!=1{return _cag ;
};_bfg ,_gfcb :=_ab .GetStringBytes (_gfee .Params [0]);if !_gfcb {return _afd ;};_cd .Log .Debug ("\u0027\u0020\u0073t\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_bfg ));_gbg .ProcQ (_bfg ,_cage );case "\u0022":if len (_gfee .Params )!=3{return _cag ;
};_gbdd ,_bcbd :=_ab .GetNumberAsFloat (_gfee .Params [0]);if _bcbd !=nil {return _bcbd ;};_fgab ,_bcbd :=_ab .GetNumberAsFloat (_gfee .Params [1]);if _bcbd !=nil {return _bcbd ;};_aagf ,_fbeb :=_ab .GetStringBytes (_gfee .Params [2]);if !_fbeb {return _afd ;
};_gbg .ProcDQ (_aagf ,_gbdd ,_fgab ,_cage );case "\u0054\u006a":if len (_gfee .Params )!=1{return _cag ;};_bbdd ,_gfa :=_ab .GetStringBytes (_gfee .Params [0]);if !_gfa {return _afd ;};_cd .Log .Debug ("\u0054j\u0020s\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0060\u0025\u0073\u0060",string (_bbdd ));
_gbg .ProcTj (_bbdd ,_cage );case "\u0054\u004a":if len (_gfee .Params )!=1{return _cag ;};_gaa ,_ebf :=_ab .GetArray (_gfee .Params [0]);if !_ebf {_cd .Log .Debug ("\u0054\u0079\u0070\u0065\u003a\u0020\u0025\u0054",_gaa );return _afd ;};_cd .Log .Debug ("\u0054\u004a\u0020\u0061\u0072\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_gaa );
for _ ,_bfdd :=range _gaa .Elements (){switch _edeg :=_bfdd .(type ){case *_ab .PdfObjectString :if _edeg !=nil {_gbg .ProcTj (_edeg .Bytes (),_cage );};case *_ab .PdfObjectFloat ,*_ab .PdfObjectInteger :_ccb ,_bee :=_ab .GetNumberAsFloat (_edeg );if _bee ==nil {_gbg .Translate (-_ccb *0.001*_gbg .Tf .Size *_gbg .Th /100.0,0);
};};};case "\u0054\u0066":if len (_gfee .Params )!=2{return _cag ;};_cd .Log .Debug ("\u0025\u0023\u0076",_gfee .Params );_abbe ,_ddef :=_ab .GetName (_gfee .Params [0]);if !_ddef ||_abbe ==nil {_cd .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u006e\u0061m\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_gfee .Params [0]);
return _afd ;};_cd .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u006e\u0061\u006d\u0065\u003a\u0020\u0025\u0073",_abbe .String ());_cbe ,_adbc :=_ab .GetNumberAsFloat (_gfee .Params [1]);if _adbc !=nil {_cd .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u0073\u0069z\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_gfee .Params [1]);
return _afd ;};_cd .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u0073\u0069\u007a\u0065\u003a\u0020\u0025\u0076",_cbe );_dbc ,_cec :=_fgge .GetFontByName (*_abbe );if !_cec {_cd .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0046\u006f\u006e\u0074\u0020\u0025s\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064",_abbe .String ());
return _d .New ("\u0066\u006f\u006e\u0074\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};_cd .Log .Debug ("\u0046\u006f\u006e\u0074\u003a\u0020\u0025\u0054",_dbc );_cgg ,_ddef :=_ab .GetDict (_dbc );if !_ddef {_cd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075l\u0064\u0020\u006e\u006f\u0074\u0020\u0067e\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0069\u0063\u0074");
return _afd ;};_cfb ,_adbc :=_fb .NewPdfFontFromPdfObject (_cgg );if _adbc !=nil {_cd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066\u0072\u006fm\u0020\u006fb\u006a\u0065\u0063\u0074");
return _adbc ;};_ddc :=_cfb .BaseFont ();if _ddc ==""{_ddc =_abbe .String ();};_gecd ,_ddef :=_aea [_ddc ];if !_ddef {_gecd ,_adbc =_ae .NewTextFont (_cfb ,_cbe );if _adbc !=nil {_cd .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_adbc );};
};if _gecd ==nil {if len (_ddc )> 7&&_ddc [6]=='+'{_ddc =_ddc [7:];};_bacd :=[]string {_ddc ,"\u0054i\u006de\u0073\u0020\u004e\u0065\u0077\u0020\u0052\u006f\u006d\u0061\u006e","\u0041\u0072\u0069a\u006c","D\u0065\u006a\u0061\u0056\u0075\u0020\u0053\u0061\u006e\u0073"};
for _ ,_dceeg :=range _bacd {_cd .Log .Debug ("\u0044\u0045\u0042\u0055\u0047\u003a \u0073\u0065\u0061\u0072\u0063\u0068\u0069\u006e\u0067\u0020\u0073\u0079\u0073t\u0065\u006d\u0020\u0066\u006f\u006e\u0074 \u0060\u0025\u0073\u0060",_dceeg );if _gecd ,_ddef =_aea [_dceeg ];
_ddef {break ;};_geb :=_gbb .Match (_dceeg );if _geb ==nil {_cd .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u0066\u0069\u006e\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_dceeg );continue ;};_gecd ,_adbc =_ae .NewTextFontFromPath (_geb .Filename ,_cbe );
if _adbc !=nil {_cd .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_geb .Filename );continue ;};_cd .Log .Debug ("\u0053\u0075\u0062\u0073\u0074\u0069t\u0075\u0074\u0069\u006e\u0067\u0020\u0066\u006f\u006e\u0074\u0020\u0025\u0073 \u0077\u0069\u0074\u0068\u0020\u0025\u0073 \u0028\u0025\u0073\u0029",_ddc ,_geb .Name ,_geb .Filename );
_aea [_dceeg ]=_gecd ;break ;};};if _gecd ==nil {_cd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020n\u006f\u0074\u0020\u0066\u0069\u006ed\u0020\u0061\u006e\u0079\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065 \u0066\u006f\u006e\u0074");
return _d .New ("\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0066\u0069\u006e\u0064\u0020a\u006ey\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065\u0020\u0066\u006f\u006e\u0074");};_gbg .ProcTf (_gecd .WithSize (_cbe ,_cfb ));case "\u0042\u004d\u0043","\u0042\u0044\u0043":if len (_gfee .Params )==2&&_gfee .Params [0].String ()=="\u0041\u0072\u0074\u0069\u0066\u0061\u0063\u0074"{_begd ,_dad :=_ab .GetDict (_gfee .Params [1]);
if _dad {if _begd .Get ("\u0053u\u0062\u0074\u0079\u0070\u0065")!=nil &&_begd .Get ("\u0053u\u0062\u0074\u0079\u0070\u0065").String ()=="\u0057a\u0074\u0065\u0072\u006d\u0061\u0072k"{_gbg .Tr =_ae .TextRenderingModeInvisible ;};};};case "\u0045\u004d\u0043":default:_cd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0073u\u0070\u0070\u006f\u0072\u0074\u0065\u0064 \u006f\u0070\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u0073",_gfee .Operand );
};_be =_gfee ;return nil ;});_bgb =_bbd .Process (_ecf );if _bgb !=nil {return _bgb ;};return nil ;};func _cbc (_fabec string ,_daa _gf .Image ,_dgfc int )error {_gecda ,_faef :=_dg .Create (_fabec );if _faef !=nil {return _faef ;};defer _gecda .Close ();
return _ee .Encode (_gecda ,_daa ,&_ee .Options {Quality :_dgfc });};func (_dbdb renderer )processRadialShading (_ccf _ae .Context ,_bfga *_fb .PdfShading )(_ae .Gradient ,*_ab .PdfObjectArray ,error ){_dae :=_bfga .GetContext ().(*_fb .PdfShadingType3 );
if len (_dae .Function )==0{return nil ,nil ,_d .New ("\u006e\u006f\u0020\u0067\u0072\u0061\u0064i\u0065\u006e\u0074 \u0066\u0075\u006e\u0063t\u0069\u006f\u006e\u0020\u0066\u006f\u0075\u006e\u0064\u002c\u0020\u0073\u006b\u0069\u0070\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e");
};_egda ,_cggf :=_dae .Coords .ToFloat64Array ();if _cggf !=nil {return nil ,nil ,_d .New ("\u0066\u0061\u0069l\u0065\u0064\u0020\u0067e\u0074\u0074\u0069\u006e\u0067\u0020\u0073h\u0061\u0064\u0069\u006e\u0067\u0020\u0070\u006f\u0073\u0069\u0074\u0069\u006f\u006e");
};_fgbc :=_bfga .ColorSpace ;_bced :=_ab .MakeArrayFromFloats ([]float64 {0,0,1,1});var _eag ,_egb ,_ecbc ,_cdef ,_cgc ,_bdd float64 ;_eag ,_egb =_ccf .Matrix ().Transform (_egda [0],_egda [1]);_ecbc ,_cdef =_ccf .Matrix ().Transform (_egda [3],_egda [4]);
_cgc ,_ =_ccf .Matrix ().Transform (_egda [2],0);_bdd ,_ =_ccf .Matrix ().Transform (_egda [5],0);_aded ,_ :=_ccf .Matrix ().Translation ();_cgc -=_aded ;_bdd -=_aded ;for _babf ,_afb :=range _egda {if _babf ==2||_babf ==5{continue ;};if _afb > 1.0{_dedc :=_f .Min (_eag -_cgc ,_ecbc -_bdd );
_edcf :=_f .Min (_egb -_cgc ,_cdef -_bdd );_ffea :=_f .Max (_eag +_cgc ,_ecbc +_bdd );_ddf :=_f .Max (_egb +_cgc ,_cdef +_bdd );_gaae :=_ffea -_dedc ;_eefb :=_edcf -_ddf ;_bced =_ab .MakeArrayFromFloats ([]float64 {_dedc ,_edcf ,_gaae ,_eefb });break ;
};};_bfb :=_eb .NewRadialGradient (_eag ,_egb ,_cgc ,_ecbc ,_cdef ,_bdd );if _faca ,_efgd :=_dae .Function [0].(*_fb .PdfFunctionType2 );_efgd {_bfb ,_cggf =_eecc (_bfb ,_faca ,_fgbc ,1.0,true );}else if _dgdg ,_egc :=_dae .Function [0].(*_fb .PdfFunctionType3 );
_egc {_bfeg :=append ([]float64 {0},_dgdg .Bounds ...);_bfeg =append (_bfeg ,1.0);_bfb ,_cggf =_adfc (_bfb ,_dgdg ,_fgbc ,_bfeg );};if _cggf !=nil {return nil ,nil ,_cggf ;};return _bfb ,_bced ,nil ;};const (ShadingTypeFunctionBased PdfShadingType =1;ShadingTypeAxial PdfShadingType =2;
ShadingTypeRadial PdfShadingType =3;ShadingTypeFreeForm PdfShadingType =4;ShadingTypeLatticeForm PdfShadingType =5;ShadingTypeCoons PdfShadingType =6;ShadingTypeTensorProduct PdfShadingType =7;);var (_afd =_d .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");
_cag =_d .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););func _eecc (_feg _ae .Gradient ,_fbbc *_fb .PdfFunctionType2 ,_befe _fb .PdfColorspace ,_eafd float64 ,_dccg bool )(_ae .Gradient ,error ){switch _befe .(type ){case *_fb .PdfColorspaceDeviceRGB :if len (_fbbc .C0 )!=3||len (_fbbc .C1 )!=3{return nil ,_d .New ("\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u0020\u0052\u0047\u0042\u0020\u0063o\u006co\u0072\u0020\u0061\u0072\u0072\u0061\u0079\u0020\u006c\u0065\u006e\u0067\u0074\u0068");
};_aegg :=_fbbc .C0 ;_fedg :=_fbbc .C1 ;if _dccg {_feg .AddColorStop (0.0,_cf .RGBA {R :uint8 (_aegg [0]*255),G :uint8 (_aegg [1]*255),B :uint8 (_aegg [2]*255),A :255});};_feg .AddColorStop (_eafd ,_cf .RGBA {R :uint8 (_fedg [0]*255),G :uint8 (_fedg [1]*255),B :uint8 (_fedg [2]*255),A :255});
case *_fb .PdfColorspaceDeviceCMYK :if len (_fbbc .C0 )!=4||len (_fbbc .C1 )!=4{return nil ,_d .New ("\u0069\u006e\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0043\u004d\u0059\u004b\u0020\u0063\u006f\u006c\u006f\u0072 \u0061\u0072\u0072\u0061\u0079\u0020\u006ce\u006e\u0067\u0074\u0068");
};_eeg :=_fbbc .C0 ;_abgg :=_fbbc .C1 ;if _dccg {_feg .AddColorStop (0.0,_cf .CMYK {C :uint8 (_eeg [0]*255),M :uint8 (_eeg [1]*255),Y :uint8 (_eeg [2]*255),K :uint8 (_eeg [3]*255)});};_feg .AddColorStop (_eafd ,_cf .CMYK {C :uint8 (_abgg [0]*255),M :uint8 (_abgg [1]*255),Y :uint8 (_abgg [2]*255),K :uint8 (_abgg [3]*255)});
default:return nil ,_b .Errorf ("u\u006e\u0073\u0075\u0070\u0070\u006fr\u0074\u0065\u0064\u0020\u0063\u006f\u006c\u006f\u0072 \u0073\u0070\u0061c\u0065:\u0020\u0025\u0073",_befe .String ());};return _feg ,nil ;};func _deeg (_gbge _ab .PdfObject ,_ddaa _cf .Color )(_gf .Image ,error ){_gdcc ,_bdg :=_ab .GetStream (_gbge );
if !_bdg {return nil ,nil ;};_cedd ,_acf :=_fb .NewXObjectImageFromStream (_gdcc );if _acf !=nil {return nil ,_acf ;};_gdgf ,_acf :=_cedd .ToImage ();if _acf !=nil {return nil ,_acf ;};return _fdfc (_gdgf ,_ddaa ),nil ;};

// RenderWithOpts converts the specified PDF page into an image, optionally flattens annotations and returns the result.
func (_ga *ImageDevice )RenderWithOpts (page *_fb .PdfPage ,skipFlattening bool )(_gf .Image ,error ){_ea ,_ed :=page .GetMediaBox ();if _ed !=nil {return nil ,_ed ;};_ea .Normalize ();_bb :=page .CropBox ;var _fd ,_eg float64 ;if _bb !=nil {_bb .Normalize ();
_fd ,_eg =_bb .Width (),_bb .Height ();};_ag :=page .Rotate ;_aab ,_gfe ,_gd ,_da :=_ea .Llx ,_ea .Lly ,_ea .Width (),_ea .Height ();_cc :=_adb .IdentityMatrix ();if _ag !=nil &&*_ag %360!=0&&*_ag %90==0{_af :=-float64 (*_ag );_egf :=_dada (_gd ,_da ,_af );
_cc =_cc .Translate ((_egf .Width -_gd )/2+_gd /2,(_egf .Height -_da )/2+_da /2).Rotate (_af *_f .Pi /180).Translate (-_gd /2,-_da /2);_gd ,_da =_egf .Width ,_egf .Height ;if _bb !=nil {_bf :=_dada (_fd ,_eg ,_af );_fd ,_eg =_bf .Width ,_bf .Height ;};
};if _aab !=0||_gfe !=0{_cc =_cc .Translate (-_aab ,-_gfe );};_ga ._fde =1.0;if _ga .OutputWidth !=0{_cg :=_gd ;if _bb !=nil {_cg =_fd ;};_ga ._fde =float64 (_ga .OutputWidth )/_cg ;_gd ,_da ,_fd ,_eg =_gd *_ga ._fde ,_da *_ga ._fde ,_fd *_ga ._fde ,_eg *_ga ._fde ;
_cc =_adb .ScaleMatrix (_ga ._fde ,_ga ._fde ).Mult (_cc );};_gb :=_eb .NewContext (int (_gd ),int (_da ));if _ec :=_ga .renderPage (_gb ,page ,_cc ,skipFlattening );_ec !=nil {return nil ,_ec ;};_bg :=_gb .Image ();if _bb !=nil {_gfef ,_dce :=(_bb .Llx -_aab )*_ga ._fde ,(_bb .Lly -_gfe )*_ga ._fde ;
_gg :=_gf .Rect (0,0,int (_fd ),int (_eg ));_ca :=_gf .Pt (int (_gfef ),int (_da -_dce -_eg ));_cef :=_gf .NewRGBA (_gg );_c .Draw (_cef ,_gg ,_bg ,_ca ,_c .Src );_bg =_cef ;};return _bg ,nil ;};

// NewImageDevice returns a new image device.
func NewImageDevice ()*ImageDevice {const _fbd ="r\u0065\u006e\u0064\u0065r.\u004ee\u0077\u0049\u006d\u0061\u0067e\u0044\u0065\u0076\u0069\u0063\u0065";_dc .TrackUse (_fbd );return &ImageDevice {};};func _fdfc (_ecc *_fb .Image ,_bada _cf .Color )_gf .Image {_beae ,_gedc :=int (_ecc .Width ),int (_ecc .Height );
_bacf :=_gf .NewRGBA (_gf .Rect (0,0,_beae ,_gedc ));for _gdbgc :=0;_gdbgc < _gedc ;_gdbgc ++{for _gadd :=0;_gadd < _beae ;_gadd ++{_dcfd ,_eaee :=_ecc .ColorAt (_gadd ,_gdbgc );if _eaee !=nil {_cd .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_gadd ,_gdbgc );
continue ;};_gaf ,_faga ,_bfcg ,_ :=_dcfd .RGBA ();var _gdg _cf .Color ;if _gaf +_faga +_bfcg ==0{_gdg =_cf .Transparent ;}else {_gdg =_bada ;};_bacf .Set (_gadd ,_gdbgc ,_gdg );};};return _bacf ;};func _cdb (_fec ,_bbad _gf .Image )_gf .Image {_gfg ,_gecg :=_bbad .Bounds ().Size (),_fec .Bounds ().Size ();
_dea ,_cgea :=_gfg .X ,_gfg .Y ;if _gecg .X > _dea {_dea =_gecg .X ;};if _gecg .Y > _cgea {_cgea =_gecg .Y ;};_ggg :=_gf .Rect (0,0,_dea ,_cgea );if _gfg .X !=_dea ||_gfg .Y !=_cgea {_edg :=_gf .NewRGBA (_ggg );_aa .BiLinear .Scale (_edg ,_ggg ,_fec ,_bbad .Bounds (),_aa .Over ,nil );
_bbad =_edg ;};if _gecg .X !=_dea ||_gecg .Y !=_cgea {_dccf :=_gf .NewRGBA (_ggg );_aa .BiLinear .Scale (_dccf ,_ggg ,_fec ,_fec .Bounds (),_aa .Over ,nil );_fec =_dccf ;};_efgf :=_gf .NewRGBA (_ggg );_aa .DrawMask (_efgf ,_ggg ,_fec ,_gf .Point {},_bbad ,_gf .Point {},_aa .Over );
return _efgf ;};func _dada (_gcgc ,_fba ,_gadg float64 )_ce .BoundingBox {return _ce .Path {Points :[]_ce .Point {_ce .NewPoint (0,0).Rotate (_gadg ),_ce .NewPoint (_gcgc ,0).Rotate (_gadg ),_ce .NewPoint (0,_fba ).Rotate (_gadg ),_ce .NewPoint (_gcgc ,_fba ).Rotate (_gadg )}}.GetBoundingBox ();
};func (_dafa renderer )processShading (_dgd _ae .Context ,_eea *_fb .PdfShading )(_ae .Gradient ,*_ab .PdfObjectArray ,error ){_afca :=int64 (*_eea .ShadingType );if _afca ==int64 (ShadingTypeAxial ){return _dafa .processLinearShading (_dgd ,_eea );}else if _afca ==int64 (ShadingTypeRadial ){return _dafa .processRadialShading (_dgd ,_eea );
}else {_cd .Log .Debug (_b .Sprintf ("\u0050r\u006f\u0063e\u0073\u0073\u0069n\u0067\u0020\u0067\u0072\u0061\u0064\u0069e\u006e\u0074\u0020\u0074\u0079\u0070e\u0020\u0025\u0064\u0020\u006e\u006f\u0074\u0020\u0079\u0065\u0074 \u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064",_afca ));
};return nil ,nil ,nil ;};func _bcf (_adeg *_fb .Image ,_ccg _cf .Color )_gf .Image {_edb ,_gdbg :=int (_adeg .Width ),int (_adeg .Height );_eba :=_gf .NewRGBA (_gf .Rect (0,0,_edb ,_gdbg ));for _aac :=0;_aac < _gdbg ;_aac ++{for _gae :=0;_gae < _edb ;
_gae ++{_daca ,_ddee :=_adeg .ColorAt (_gae ,_aac );if _ddee !=nil {_cd .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_gae ,_aac );
continue ;};_ggb ,_baad ,_bde ,_ :=_daca .RGBA ();var _bcd _cf .Color ;if _ggb +_baad +_bde ==0{_bcd =_ccg ;}else {_bcd =_cf .Transparent ;};_eba .Set (_gae ,_aac ,_bcd );};};return _eba ;};

// Render converts the specified PDF page into an image, flattens annotations by default and returns the result.
func (_bc *ImageDevice )Render (page *_fb .PdfPage )(_gf .Image ,error ){return _bc .RenderWithOpts (page ,false );};func (_gbfe renderer )processLinearShading (_bfc _ae .Context ,_caaf *_fb .PdfShading )(_ae .Gradient ,*_ab .PdfObjectArray ,error ){_cfa :=_caaf .GetContext ().(*_fb .PdfShadingType2 );
if len (_cfa .Function )==0{return nil ,nil ,_d .New ("\u006e\u006f\u0020\u0067\u0072\u0061\u0064i\u0065\u006e\u0074 \u0066\u0075\u006e\u0063t\u0069\u006f\u006e\u0020\u0066\u006f\u0075\u006e\u0064\u002c\u0020\u0073\u006b\u0069\u0070\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0073\u0069\u006f\u006e");
};_fgabe ,_dgbe :=_cfa .Coords .ToFloat64Array ();if _dgbe !=nil {return nil ,nil ,_d .New ("\u0066\u0061\u0069l\u0065\u0064\u0020\u0067e\u0074\u0074\u0069\u006e\u0067\u0020\u0073h\u0061\u0064\u0069\u006e\u0067\u0020\u0070\u006f\u0073\u0069\u0074\u0069\u006f\u006e");
};_bbag :=_caaf .ColorSpace ;_gcb ,_cbfc :=_bfc .Matrix ().Transform (_fgabe [0],_fgabe [1]);_cdda ,_bdag :=_bfc .Matrix ().Transform (_fgabe [2],_fgabe [3]);_fggd :=_eb .NewLinearGradient (_gcb ,_cbfc ,_cdda ,_bdag );_ecad :=_ab .MakeArrayFromFloats ([]float64 {0,0,1,1});
for _ ,_bfee :=range _fgabe {if _bfee > 1{_ecad =_cfa .Coords ;break ;};};if _ecea ,_bbdba :=_cfa .Function [0].(*_fb .PdfFunctionType2 );_bbdba {_fggd ,_dgbe =_eecc (_fggd ,_ecea ,_bbag ,1.0,true );}else if _fdf ,_bgfg :=_cfa .Function [0].(*_fb .PdfFunctionType3 );
_bgfg {_debd :=append ([]float64 {0},_fdf .Bounds ...);_debd =append (_debd ,1.0);_fggd ,_dgbe =_adfc (_fggd ,_fdf ,_bbag ,_debd );};return _fggd ,_ecad ,_dgbe ;};