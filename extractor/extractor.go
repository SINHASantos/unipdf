//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package extractor is used for quickly extracting PDF content through a simple interface.
// Currently offers functionality for extracting textual content.
package extractor ;import (_bd "bytes";_eg "errors";_ge "fmt";_f "github.com/unidoc/unipdf/v3/common";_af "github.com/unidoc/unipdf/v3/contentstream";_gb "github.com/unidoc/unipdf/v3/core";_ba "github.com/unidoc/unipdf/v3/internal/license";_fa "github.com/unidoc/unipdf/v3/internal/textencoding";
_db "github.com/unidoc/unipdf/v3/internal/transform";_d "github.com/unidoc/unipdf/v3/model";_fe "golang.org/x/image/draw";_g "golang.org/x/text/unicode/norm";_aaf "image";_ce "image/color";_fb "io";_e "math";_aa "reflect";_bg "regexp";_b "sort";_df "strings";
_a "unicode";_fba "unicode/utf8";);type textState struct{_bcf float64 ;_dgdd float64 ;_bgfa float64 ;_feee float64 ;_geed float64 ;_gdfc RenderMode ;_decb float64 ;_cbc *_d .PdfFont ;_cgace _d .PdfRectangle ;_eaeg int ;_dgda int ;};func _eagf (_dafbb ,_dged ,_defa ,_abbgg *textPara )*textTable {_faecfc :=&textTable {_dafge :2,_ecdae :2,_ddagg :make (map[uint64 ]*textPara ,4)};
_faecfc .put (0,0,_dafbb );_faecfc .put (1,0,_dged );_faecfc .put (0,1,_defa );_faecfc .put (1,1,_abbgg );return _faecfc ;};var _afaf =map[markKind ]string {_dgafa :"\u0073\u0074\u0072\u006f\u006b\u0065",_afea :"\u0066\u0069\u006c\u006c",_adcfe :"\u0061u\u0067\u006d\u0065\u006e\u0074"};
func (_dfgb *shapesState )moveTo (_gbd ,_efga float64 ){_dfgb ._cffg =true ;_dfgb ._bdbgg =_dfgb .devicePoint (_gbd ,_efga );if _cbge {_f .Log .Info ("\u006d\u006fv\u0065\u0054\u006f\u003a\u0020\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0064\u0065\u0076\u0069\u0063\u0065\u003d%.\u0032\u0066",_gbd ,_efga ,_dfgb ._bdbgg );
};};

// ApplyArea processes the page text only within the specified area `bbox`.
// Each time ApplyArea is called, it updates the result set in `pt`.
// Can be called multiple times in a row with different bounding boxes.
func (_feac *PageText )ApplyArea (bbox _d .PdfRectangle ){_bggc :=make ([]*textMark ,0,len (_feac ._ccbg ));for _ ,_cgeag :=range _feac ._ccbg {if _gddd (_cgeag .bbox (),bbox ){_bggc =append (_bggc ,_cgeag );};};var _fgaga paraList ;_cafe :="";_cbfg :=len (_bggc );
for _fafg :=0;_fafg < 360&&_cbfg > 0;_fafg +=90{_bbca :=make ([]*textMark ,0,len (_bggc )-_cbfg );for _ ,_dggdb :=range _bggc {if _dggdb ._cgaeg ==_fafg {_bbca =append (_bbca ,_dggdb );};};if len (_bbca )> 0{if _feac ._ceaa ._cfae {_cafe +=_dacd (_bbca ,_feac ._dfeg );
}else {_afdg :=_gede (_bbca ,_feac ._dfeg ,nil ,nil ,_feac ._ceaa ._fgd );_fgaga =append (_fgaga ,_afdg ...);};_cbfg -=len (_bbca );};};if _feac ._ceaa ._cfae {_feac ._begf =_cafe ;}else {_cbcf :=new (_bd .Buffer );_fgaga .writeText (_cbcf );_feac ._begf =_cbcf .String ();
_feac ._ccdac =_fgaga .toTextMarks ();_feac ._dbcf =_fgaga .tables ();};};func (_cfbd *wordBag )empty (_dagb int )bool {_ ,_fdbdc :=_cfbd ._gfda [_dagb ];return !_fdbdc };func _agded (_bdecg []*textLine ,_cbcg string ,_ffgfe []*list )*list {return &list {_aefg :_bdecg ,_aefc :_cbcg ,_babgb :_ffgfe };
};type rulingList []*ruling ;func (_bcfcd paraList )extractTables (_gcfec []gridTiling )paraList {if _eceb {_f .Log .Debug ("\u0065\u0078\u0074r\u0061\u0063\u0074\u0054\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_bcfcd ));
};if len (_bcfcd )< _adea {return _bcfcd ;};_cebaa :=_bcfcd .findTables (_gcfec );if _eceb {_f .Log .Info ("c\u006f\u006d\u0062\u0069\u006e\u0065d\u0020\u0074\u0061\u0062\u006c\u0065s\u0020\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_cebaa ));
for _bdefa ,_cfab :=range _cebaa {_cfab .log (_ge .Sprintf ("c\u006f\u006d\u0062\u0069\u006e\u0065\u0064\u0020\u0025\u0064",_bdefa ));};};return _bcfcd .applyTables (_cebaa );};func (_cebc paraList )reorder (_dbbd []int ){_eedf :=make (paraList ,len (_cebc ));
for _fcce ,_ccfe :=range _dbbd {_eedf [_fcce ]=_cebc [_ccfe ];};copy (_cebc ,_eedf );};func _gccdg (_dcffc _d .PdfRectangle ,_dcbf ,_dbbcg ,_ceage ,_efcf *ruling )gridTile {_fagd :=_dcffc .Llx ;_daffc :=_dcffc .Urx ;_fgfcd :=_dcffc .Lly ;_ggedg :=_dcffc .Ury ;
return gridTile {PdfRectangle :_dcffc ,_bccf :_dcbf !=nil &&_dcbf .encloses (_fgfcd ,_ggedg ),_eecf :_dbbcg !=nil &&_dbbcg .encloses (_fgfcd ,_ggedg ),_efbdg :_ceage !=nil &&_ceage .encloses (_fagd ,_daffc ),_acbg :_efcf !=nil &&_efcf .encloses (_fagd ,_daffc )};
};func (_adeg *textPara )writeCellText (_cbaa _fb .Writer ){for _abbe ,_cfba :=range _adeg ._cbdb {_bgce :=_cfba .text ();_dcea :=_cgbb &&_cfba .endsInHyphen ()&&_abbe !=len (_adeg ._cbdb )-1;if _dcea {_bgce =_bfbc (_bgce );};_cbaa .Write ([]byte (_bgce ));
if !(_dcea ||_abbe ==len (_adeg ._cbdb )-1){_cbaa .Write ([]byte (_dfba (_cfba ._bdef ,_adeg ._cbdb [_abbe +1]._bdef )));};};};func _dabd (_afee []*textMark ,_fbeb _d .PdfRectangle ,_afcgfe bool )[]*textWord {var _adae []*textWord ;var _ddbbd *textWord ;
if _ccef {_f .Log .Info ("\u006d\u0061\u006beT\u0065\u0078\u0074\u0057\u006f\u0072\u0064\u0073\u003a\u0020\u0025\u0064\u0020\u006d\u0061\u0072\u006b\u0073",len (_afee ));};_ccdbf :=func (){if _ddbbd !=nil {_gccag :=_ddbbd .computeText ();if !_cfde (_gccag ){_ddbbd ._bdea =_gccag ;
_adae =append (_adae ,_ddbbd );if _ccef {_f .Log .Info ("\u0061\u0064\u0064Ne\u0077\u0057\u006f\u0072\u0064\u003a\u0020\u0025\u0064\u003a\u0020\u0077\u006f\u0072\u0064\u003d\u0025\u0073",len (_adae )-1,_ddbbd .String ());for _ceced ,_dcccc :=range _ddbbd ._bcaca {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ceced ,_dcccc .String ());
};};};_ddbbd =nil ;};};for _ ,_cecea :=range _afee {if _ggfa &&_ddbbd !=nil &&len (_ddbbd ._bcaca )> 0{_dade :=_ddbbd ._bcaca [len (_ddbbd ._bcaca )-1];_ecga ,_eabae :=_bgcdf (_cecea ._dfge );_efab ,_dbbeb :=_bgcdf (_dade ._dfge );if _eabae &&!_dbbeb &&_dade .inDiacriticArea (_cecea ){_ddbbd .addDiacritic (_ecga );
continue ;};if _dbbeb &&!_eabae &&_cecea .inDiacriticArea (_dade ){_ddbbd ._bcaca =_ddbbd ._bcaca [:len (_ddbbd ._bcaca )-1];_ddbbd .appendMark (_cecea ,_fbeb );_ddbbd .addDiacritic (_efab );continue ;};};_fddade :=_cfde (_cecea ._dfge );if _fddade {_ccdbf ();
continue ;};if _ddbbd ==nil &&!_fddade {_ddbbd =_cfbbc ([]*textMark {_cecea },_fbeb );continue ;};_gdbadg :=_ddbbd ._aecae ;_fbbc :=_e .Abs (_cebdc (_fbeb ,_cecea )-_ddbbd ._cgbe )/_gdbadg ;_ecaffb :=_gbcg (_cecea ,_ddbbd )/_gdbadg ;_agab :=_ddbbd .Width ()+_cecea .Width ();
if _afcgfe &&_cecea ._fcdg .Angle ()!=0.0{_daag :=_e .Abs (_agab *_e .Tan (_cecea ._fcdg .Angle ())/_gdbadg );if _fbbc > _daag {_fbbc -=_daag ;}else {_fbbc =0.0;};};if _ecaffb >=_aabb ||!(-_gfbd <=_ecaffb &&_fbbc <=_bgcfec ){_ccdbf ();_ddbbd =_cfbbc ([]*textMark {_cecea },_fbeb );
continue ;};_ddbbd .appendMark (_cecea ,_fbeb );};_ccdbf ();return _adae ;};

// TableInfo gets table information of the textmark `tm`.
func (_ageb *TextMark )TableInfo ()(*TextTable ,[][]int ){if !_ageb ._gcbba {return nil ,nil ;};_cfcb :=_ageb ._gcfe ;_bcde :=_cfcb .getCellInfo (*_ageb );return _cfcb ,_bcde ;};

// WriteToFile writes the edited content to `outputPath`.
func (_gcbf *Editor )WriteToFile (outputPath string )error {_gea ,_dac :=_gcbf ._bdf .ToWriter (nil );if _dac !=nil {return _ge .Errorf ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0074\u006f\u0020c\u006f\u006e\u0076\u0065\u0072\u0074\u0020t\u006f\u0020\u0077\u0072\u0069\u0074\u0065\u0072\u0020\u0025\u0076",_dac );
};_gea .WriteToFile (outputPath );return nil ;};func (_edgb *textObject )getStrokeColor ()_ce .Color {return _bgff (_edgb ._bgaa .ColorspaceStroking ,_edgb ._bgaa .ColorStroking );};var _afe =[]string {"\u0041\u004e","\u0041\u004e","\u0041\u004e","\u0041\u004e","\u0041\u004e","\u0041\u004e","\u004f\u004e","\u004f\u004e","\u0041\u004c","\u0045\u0054","\u0045\u0054","\u0041\u004c","\u0043\u0053","\u0041\u004c","\u004f\u004e","\u004f\u004e","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u0041\u004c","\u0041\u004c","","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u0041\u004e","\u0041\u004e","\u0041\u004e","\u0041\u004e","\u0041\u004e","\u0041\u004e","\u0041\u004e","\u0041\u004e","\u0041\u004e","\u0041\u004e","\u0045\u0054","\u0041\u004e","\u0041\u004e","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u004e\u0053\u004d","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u0041\u004e","\u004f\u004e","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u0041\u004c","\u0041\u004c","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004f\u004e","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u004e\u0053\u004d","\u0041\u004c","\u0041\u004c","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c","\u0041\u004c"};
func (_gecga compositeCell )split (_cbffd ,_aegeb []float64 )*textTable {_baagc :=len (_cbffd )+1;_dfcbc :=len (_aegeb )+1;if _eceb {_f .Log .Info ("\u0063\u006f\u006d\u0070\u006f\u0073\u0069t\u0065\u0043\u0065l\u006c\u002e\u0073\u0070l\u0069\u0074\u003a\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u000a\u0009\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u003d\u0025\u0073\u000a"+"\u0009\u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073=\u0025\u0036\u002e\u0032\u0066\u000a\t\u0063\u006f\u006c\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u003d%\u0036\u002e\u0032\u0066",_dfcbc ,_baagc ,_gecga ,_cbffd ,_aegeb );
_ge .Printf ("\u0020\u0020\u0020\u0020\u0025\u0064\u0020\u0070\u0061\u0072\u0061\u0073\u000a",len (_gecga .paraList ));for _ececf ,_edbf :=range _gecga .paraList {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ececf ,_edbf .String ());
};_ge .Printf ("\u0020\u0020\u0020\u0020\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u000a",len (_gecga .lines ()));for _fabf ,_bbae :=range _gecga .lines (){_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_fabf ,_bbae );};};_cbffd =_fgac (_cbffd ,_gecga .Ury ,_gecga .Lly );
_aegeb =_fgac (_aegeb ,_gecga .Llx ,_gecga .Urx );_egbecg :=make (map[uint64 ]*textPara ,_dfcbc *_baagc );_eaaa :=textTable {_dafge :_dfcbc ,_ecdae :_baagc ,_ddagg :_egbecg };_gadfe :=_gecga .paraList ;_b .Slice (_gadfe ,func (_bbadg ,_babf int )bool {_bccg ,_adaf :=_gadfe [_bbadg ],_gadfe [_babf ];
_fecc ,_eccfe :=_bccg .Lly ,_adaf .Lly ;if _fecc !=_eccfe {return _fecc < _eccfe ;};return _bccg .Llx < _adaf .Llx ;});_baedg :=make (map[uint64 ]_d .PdfRectangle ,_dfcbc *_baagc );for _bceb ,_dafe :=range _cbffd [1:]{_agfc :=_cbffd [_bceb ];for _gddff ,_cgeg :=range _aegeb [1:]{_feed :=_aegeb [_gddff ];
_baedg [_aaaeca (_gddff ,_bceb )]=_d .PdfRectangle {Llx :_feed ,Urx :_cgeg ,Lly :_dafe ,Ury :_agfc };};};if _eceb {_f .Log .Info ("\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u0043\u0065l\u006c\u002e\u0073\u0070\u006c\u0069\u0074\u003a\u0020\u0072e\u0063\u0074\u0073");
_ge .Printf ("\u0020\u0020\u0020\u0020");for _bgdfb :=0;_bgdfb < _dfcbc ;_bgdfb ++{_ge .Printf ("\u0025\u0033\u0030\u0064\u002c\u0020",_bgdfb );};_ge .Println ();for _fecdf :=0;_fecdf < _baagc ;_fecdf ++{_ge .Printf ("\u0020\u0020\u0025\u0032\u0064\u003a",_fecdf );
for _efbdc :=0;_efbdc < _dfcbc ;_efbdc ++{_ge .Printf ("\u00256\u002e\u0032\u0066\u002c\u0020",_baedg [_aaaeca (_efbdc ,_fecdf )]);};_ge .Println ();};};_fdcc :=func (_bcdf *textLine )(int ,int ){for _cfdaa :=0;_cfdaa < _baagc ;_cfdaa ++{for _acaf :=0;
_acaf < _dfcbc ;_acaf ++{if _dgfe (_baedg [_aaaeca (_acaf ,_cfdaa )],_bcdf .PdfRectangle ){return _acaf ,_cfdaa ;};};};return -1,-1;};_acafe :=make (map[uint64 ][]*textLine ,_dfcbc *_baagc );for _ ,_gafac :=range _gadfe .lines (){_fcgcd ,_febad :=_fdcc (_gafac );
if _fcgcd < 0{continue ;};_acafe [_aaaeca (_fcgcd ,_febad )]=append (_acafe [_aaaeca (_fcgcd ,_febad )],_gafac );};for _beafb :=0;_beafb < len (_cbffd )-1;_beafb ++{_faabf :=_cbffd [_beafb ];_dbcbe :=_cbffd [_beafb +1];for _deebc :=0;_deebc < len (_aegeb )-1;
_deebc ++{_gaeeg :=_aegeb [_deebc ];_ccae :=_aegeb [_deebc +1];_ggdf :=_d .PdfRectangle {Llx :_gaeeg ,Urx :_ccae ,Lly :_dbcbe ,Ury :_faabf };_abffgb :=_acafe [_aaaeca (_deebc ,_beafb )];if len (_abffgb )==0{continue ;};_fcgb :=_aefa (_ggdf ,_abffgb );_eaaa .put (_deebc ,_beafb ,_fcgb );
};};return &_eaaa ;};func (_cfgfb *textPara )getListLines ()[]*textLine {var _fafgc []*textLine ;_gegc :=_afdb (_cfgfb ._cbdb );for _ ,_debe :=range _cfgfb ._cbdb {_ecdf :=_debe ._bcfga [0]._bdea [0];if _gccd (_ecdf ){_fafgc =append (_fafgc ,_debe );};
};_fafgc =append (_fafgc ,_gegc ...);return _fafgc ;};func (_fcf *imageExtractContext )processOperand (_bae *_af .ContentStreamOperation ,_ea _af .GraphicsState ,_cgba *_d .PdfPageResources )error {if _bae .Operand =="\u0042\u0049"&&len (_bae .Params )==1{_fdd ,_ecef :=_bae .Params [0].(*_af .ContentStreamInlineImage );
if !_ecef {return nil ;};if _ecfd ,_gba :=_gb .GetBoolVal (_fdd .ImageMask );_gba {if _ecfd &&!_fcf ._edc .IncludeInlineStencilMasks {return nil ;};};return _fcf .extractInlineImage (_fdd ,_ea ,_cgba );}else if _bae .Operand =="\u0044\u006f"&&len (_bae .Params )==1{_cbf ,_aga :=_gb .GetName (_bae .Params [0]);
if !_aga {_f .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0079\u0070\u0065");return _bcc ;};_ ,_bbeg :=_cgba .GetXObjectByName (*_cbf );switch _bbeg {case _d .XObjectTypeImage :return _fcf .extractXObjectImage (_cbf ,_ea ,_cgba );case _d .XObjectTypeForm :return _fcf .extractFormImages (_cbf ,_ea ,_cgba );
};}else if _fcf ._bbef &&(_bae .Operand =="\u0073\u0063\u006e"||_bae .Operand =="\u0053\u0043\u004e")&&len (_bae .Params )==1{_cde ,_aed :=_gb .GetName (_bae .Params [0]);if !_aed {_f .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0079\u0070\u0065");
return _bcc ;};_ade ,_aed :=_cgba .GetPatternByName (*_cde );if !_aed {_f .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0050\u0061\u0074\u0074\u0065\u0072n\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");return nil ;};if _ade .IsTiling (){_cdd :=_ade .GetAsTilingPattern ();
_adc ,_fec :=_cdd .GetContentStream ();if _fec !=nil {return _fec ;};_fec =_fcf .extractContentStreamImages (string (_adc ),_cdd .Resources );if _fec !=nil {return _fec ;};};}else if (_bae .Operand =="\u0063\u0073"||_bae .Operand =="\u0043\u0053")&&len (_bae .Params )>=1{_fcf ._bbef =_bae .Params [0].String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e";
};return nil ;};func (_ggge paraList )readBefore (_dfgaf []int ,_bfca ,_eaab int )bool {_geef ,_cefe :=_ggge [_bfca ],_ggge [_eaab ];if _fagb (_geef ,_cefe )&&_geef .Lly > _cefe .Lly {return true ;};if !(_geef ._gdeb .Urx < _cefe ._gdeb .Llx ){return false ;
};_fdfgf ,_cada :=_geef .Lly ,_cefe .Lly ;if _fdfgf > _cada {_cada ,_fdfgf =_fdfgf ,_cada ;};_cfbcb :=_e .Max (_geef ._gdeb .Llx ,_cefe ._gdeb .Llx );_fgdf :=_e .Min (_geef ._gdeb .Urx ,_cefe ._gdeb .Urx );_bddbg :=_ggge .llyRange (_dfgaf ,_fdfgf ,_cada );
for _ ,_cafeb :=range _bddbg {if _cafeb ==_bfca ||_cafeb ==_eaab {continue ;};_baaa :=_ggge [_cafeb ];if _baaa ._gdeb .Llx <=_fgdf &&_cfbcb <=_baaa ._gdeb .Urx {return false ;};};return true ;};func (_afcb *textPara )toCellTextMarks (_edfc *int )[]TextMark {var _fddaa []TextMark ;
for _bbbac ,_aecga :=range _afcb ._cbdb {_bbcfd :=_aecga .toTextMarks (_edfc );_eedbb :=_cgbb &&_aecga .endsInHyphen ()&&_bbbac !=len (_afcb ._cbdb )-1;if _eedbb {_bbcfd =_gbee (_bbcfd ,_edfc );};_fddaa =append (_fddaa ,_bbcfd ...);if !(_eedbb ||_bbbac ==len (_afcb ._cbdb )-1){_fddaa =_cdeff (_fddaa ,_edfc ,_dfba (_aecga ._bdef ,_afcb ._cbdb [_bbbac +1]._bdef ));
};};return _fddaa ;};func _ababg (_adccg map[int ][]float64 ){if len (_adccg )<=1{return ;};_bfad :=_bfeba (_adccg );if _eceb {_f .Log .Info ("\u0066i\u0078C\u0065\u006c\u006c\u0073\u003a \u006b\u0065y\u0073\u003d\u0025\u002b\u0076",_bfad );};var _bdfe ,_fdgf int ;
for _bdfe ,_fdgf =range _bfad {if _adccg [_fdgf ]!=nil {break ;};};for _dbcbb ,_fbae :=range _bfad [_bdfe :]{_adeab :=_adccg [_fbae ];if _adeab ==nil {continue ;};if _eceb {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u006b\u0030\u003d\u0025\u0064\u0020\u006b1\u003d\u0025\u0064\u000a",_bdfe +_dbcbb ,_fdgf ,_fbae );
};_aeab :=_adccg [_fbae ];if _aeab [len (_aeab )-1]> _adeab [0]{_aeab [len (_aeab )-1]=_adeab [0];_adccg [_fdgf ]=_aeab ;};_fdgf =_fbae ;};};func (_debb *textLine )pullWord (_acg *wordBag ,_eccc *textWord ,_agbee int ){_debb .appendWord (_eccc );_acg .removeWord (_eccc ,_agbee );
};func _cgeeg (_dacbf map[int ][]float64 )string {_fabfe :=_bfeba (_dacbf );_gcca :=make ([]string ,len (_dacbf ));for _geegb ,_cbaab :=range _fabfe {_gcca [_geegb ]=_ge .Sprintf ("\u0025\u0064\u003a\u0020\u0025\u002e\u0032\u0066",_cbaab ,_dacbf [_cbaab ]);
};return _ge .Sprintf ("\u007b\u0025\u0073\u007d",_df .Join (_gcca ,"\u002c\u0020"));};type textMark struct{_d .PdfRectangle ;_cgaeg int ;_dfge string ;_gdcba string ;_aeed *_d .PdfFont ;_ffeg float64 ;_cbad float64 ;_fcdg _db .Matrix ;_dgagf _db .Point ;
_gfeg _d .PdfRectangle ;_aeac _ce .Color ;_dabf _ce .Color ;_gdbad _gb .PdfObject ;_bdecf []string ;Tw float64 ;Th float64 ;_gbgd int ;_cdagd int ;};

// ExtractTextWithStats works like ExtractText but returns the number of characters in the output
// (`numChars`) and the number of characters that were not decoded (`numMisses`).
func (_efd *Extractor )ExtractTextWithStats ()(_ggdc string ,_fdda int ,_fgc int ,_bcbg error ){_age ,_fdda ,_fgc ,_bcbg :=_efd .ExtractPageText ();if _bcbg !=nil {return "",_fdda ,_fgc ,_bcbg ;};return _age .Text (),_fdda ,_fgc ,nil ;};func (_afgg rulingList )tidied (_badde string )rulingList {_acbd :=_afgg .removeDuplicates ();
_acbd .log ("\u0075n\u0069\u0071\u0075\u0065\u0073");_aeefg :=_acbd .snapToGroups ();if _aeefg ==nil {return nil ;};_aeefg .sort ();if _acf {_f .Log .Info ("\u0074\u0069\u0064i\u0065\u0064\u003a\u0020\u0025\u0071\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u0075\u006e\u0069\u0071\u0075\u0065\u0073\u003d\u0025\u0064\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0064\u003d\u0025\u0064",_badde ,len (_afgg ),len (_acbd ),len (_aeefg ));
};_aeefg .log ("\u0063o\u0061\u006c\u0065\u0073\u0063\u0065d");return _aeefg ;};func (_edca *textObject )getFontDirect (_ecb string )(*_d .PdfFont ,error ){_eede ,_ccg :=_edca .getFontDict (_ecb );if _ccg !=nil {return nil ,_ccg ;};_gagb ,_ccg :=_d .NewPdfFontFromPdfObject (_eede );
if _ccg !=nil {_f .Log .Debug ("\u0067\u0065\u0074\u0046\u006f\u006e\u0074\u0044\u0069\u0072\u0065\u0063\u0074\u003a\u0020\u004e\u0065\u0077Pd\u0066F\u006f\u006e\u0074\u0046\u0072\u006f\u006d\u0050\u0064\u0066\u004f\u0062j\u0065\u0063\u0074\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u006e\u0061\u006d\u0065\u003d%\u0023\u0071\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ecb ,_ccg );
};return _gagb ,_ccg ;};func _gbcb (_fcca []*textLine ,_ccdad ,_cdfbe float64 )[]*textLine {var _gdaff []*textLine ;for _ ,_abgbf :=range _fcca {if _ccdad ==-1{if _abgbf ._bdef > _cdfbe {_gdaff =append (_gdaff ,_abgbf );};}else {if _abgbf ._bdef > _cdfbe &&_abgbf ._bdef < _ccdad {_gdaff =append (_gdaff ,_abgbf );
};};};return _gdaff ;};func _dbef (_ccfc *wordBag ,_abffb *textWord ,_cbceb float64 )bool {return _abffb .Llx < _ccfc .Urx +_cbceb &&_ccfc .Llx -_cbceb < _abffb .Urx ;};func _dfba (_agga ,_agbg float64 )string {_bcbeb :=!_eedbf (_agga -_agbg );if _bcbeb {return "\u000a";
};return "\u0020";};func (_bbga paraList )llyRange (_bfcd []int ,_gbcf ,_gfcg float64 )[]int {_badg :=len (_bbga );if _gfcg < _bbga [_bfcd [0]].Lly ||_gbcf > _bbga [_bfcd [_badg -1]].Lly {return nil ;};_cgeea :=_b .Search (_badg ,func (_bgfgg int )bool {return _bbga [_bfcd [_bgfgg ]].Lly >=_gbcf });
_fdgd :=_b .Search (_badg ,func (_deac int )bool {return _bbga [_bfcd [_deac ]].Lly > _gfcg });return _bfcd [_cgeea :_fdgd ];};func (_fbfa paraList )lines ()[]*textLine {var _caafef []*textLine ;for _ ,_cgefb :=range _fbfa {_caafef =append (_caafef ,_cgefb ._cbdb ...);
};return _caafef ;};

// BidiText represents a bidi text organized in its visual order
// with base direction of the text.
type BidiText struct{_gf string ;_da string ;};

// Len returns the number of TextMarks in `ma`.
func (_bcfc *TextMarkArray )Len ()int {if _bcfc ==nil {return 0;};return len (_bcfc ._ecdd );};func _gccc (_badf func (*wordBag ,*textWord ,float64 )bool ,_cbff float64 )func (*wordBag ,*textWord )bool {return func (_babbb *wordBag ,_fbcb *textWord )bool {return _badf (_babbb ,_fbcb ,_cbff )};
};func _ccfg (_cbga *Extractor ,_aadc *_d .PdfPageResources ,_bfdf _af .GraphicsState ,_cddb *textState ,_dcdg *stateStack )*textObject {return &textObject {_eccd :_cbga ,_fcg :_aadc ,_bgaa :_bfdf ,_aebc :_dcdg ,_fceba :_cddb ,_edgg :_db .IdentityMatrix (),_fdaa :_db .IdentityMatrix ()};
};func _dddg (_fgaag _d .PdfRectangle )rulingKind {_bgbg :=_fgaag .Width ();_gacb :=_fgaag .Height ();if _bgbg > _gacb {if _bgbg >=_gaee {return _ddeae ;};}else {if _gacb >=_gaee {return _bbffc ;};};return _ggbbc ;};

// NewFromContents creates a new extractor from contents and page resources.
func NewFromContents (contents string ,resources *_d .PdfPageResources )(*Extractor ,error ){const _aaec ="\u0065x\u0074\u0072\u0061\u0063t\u006f\u0072\u002e\u004e\u0065w\u0046r\u006fm\u0043\u006f\u006e\u0074\u0065\u006e\u0074s";_ced :=&Extractor {_ccd :contents ,_gfgb :resources ,_caaf :map[string ]fontEntry {},_ege :map[string ]textResult {}};
_ba .TrackUse (_aaec );return _ced ,nil ;};type textObject struct{_eccd *Extractor ;_fcg *_d .PdfPageResources ;_bgaa _af .GraphicsState ;_fceba *textState ;_aebc *stateStack ;_edgg _db .Matrix ;_fdaa _db .Matrix ;_faed []*textMark ;_caaa bool ;};

// Tables returns the tables extracted from the page.
func (_eeeb PageText )Tables ()[]TextTable {if _eceb {_f .Log .Info ("\u0054\u0061\u0062\u006c\u0065\u0073\u003a\u0020\u0025\u0064",len (_eeeb ._dbcf ));};return _eeeb ._dbcf ;};func (_cfef *subpath )last ()_db .Point {return _cfef ._cdde [len (_cfef ._cdde )-1]};
func (_egad *wordBag )minDepth ()float64 {return _egad ._dfaa -(_egad .Ury -_egad ._gdba )};func (_baed *textObject )renderText (_abgd _gb .PdfObject ,_dfa []byte ,_faa int ,_abe string )error {if _baed ._caaa {_f .Log .Debug ("\u0072\u0065\u006e\u0064\u0065r\u0054\u0065\u0078\u0074\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064 \u0066\u006f\u006e\u0074\u002e\u0020\u004e\u006f\u0074\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u002e");
return nil ;};_edaf :=_baed .getCurrentFont ();_fddb :=_edaf .BytesToCharcodes (_dfa );var (_gegbf []string ;_fad int ;_cbgd int ;);if _abe !=""{_gegbf =[]string {_gb .MakeString (_abe ).Decoded ()};_fad =1;}else {_gegbf ,_fad ,_cbgd =_edaf .CharcodesToStrings (_fddb ,"");
if _cbgd > 0{_f .Log .Debug ("\u0072\u0065nd\u0065\u0072\u0054e\u0078\u0074\u003a\u0020num\u0043ha\u0072\u0073\u003d\u0025\u0064\u0020\u006eum\u004d\u0069\u0073\u0073\u0065\u0073\u003d%\u0064",_fad ,_cbgd );};};_baed ._fceba ._eaeg +=_fad ;_baed ._fceba ._dgda +=_cbgd ;
_dfee :=_baed ._fceba ;_bbd :=_dfee ._geed ;_dada :=_dfee ._bgfa /100.0;_gcdg :=_feaa ;if _edaf .Subtype ()=="\u0054\u0079\u0070e\u0033"{_gcdg =1;};_dggbe ,_dga :=_edaf .GetRuneMetrics (' ');if !_dga {_dggbe ,_dga =_edaf .GetCharMetrics (32);};if !_dga {_dggbe ,_ =_d .DefaultFont ().GetRuneMetrics (' ');
};_ede :=_dggbe .Wx *_gcdg ;_f .Log .Trace ("\u0073p\u0061\u0063e\u0057\u0069\u0064t\u0068\u003d\u0025\u002e\u0032\u0066\u0020t\u0065\u0078\u0074\u003d\u0025\u0071 \u0066\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0066\u006f\u006et\u0053\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066",_ede ,_gegbf ,_edaf ,_bbd );
_eega :=_db .NewMatrix (_bbd *_dada ,0,0,_bbd ,0,_dfee ._decb );if _gbbb {_f .Log .Info ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0074\u0065\u0078t\u0073\u003d\u0025\u0071",len (_fddb ),_fddb ,_gegbf );
};_f .Log .Trace ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0072\u0075\u006ee\u0073\u003d\u0025\u0071",len (_fddb ),_fddb ,len (_gegbf ));_egc :=_baed .getFillColor ();
_ddd :=_baed .getStrokeColor ();for _gdfb ,_abea :=range _gegbf {_eebb :=[]rune (_abea );if len (_eebb )==1&&_eebb [0]=='\x00'{continue ;};_bbec :=_fddb [_gdfb ];_bcbf :=_baed ._bgaa .CTM .Mult (_baed ._edgg ).Mult (_eega );_eeec :=0.0;if len (_eebb )==1&&_eebb [0]==32{_eeec =_dfee ._dgdd ;
};_afbd ,_cagf :=_edaf .GetCharMetrics (_bbec );if !_cagf {_f .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u004e\u006f \u006d\u0065\u0074r\u0069\u0063\u0020\u0066\u006f\u0072\u0020\u0063\u006fde\u003d\u0025\u0064 \u0072\u003d0\u0078\u0025\u0030\u0034\u0078\u003d%\u002b\u0071 \u0025\u0073",_bbec ,_eebb ,_eebb ,_edaf );
return _ge .Errorf ("\u006e\u006f\u0020\u0063\u0068\u0061\u0072\u0020\u006d\u0065\u0074\u0072\u0069\u0063\u0073:\u0020f\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0063\u006f\u0064\u0065\u003d\u0025\u0064",_edaf .String (),_bbec );};_bfdb :=_db .Point {X :_afbd .Wx *_gcdg ,Y :_afbd .Wy *_gcdg };
_gde :=_db .Point {X :(_bfdb .X *_bbd +_eeec )*_dada };_gddg :=_db .Point {X :(_bfdb .X *_bbd +_dfee ._bcf +_eeec )*_dada };if _gbbb {_f .Log .Info ("\u0074\u0066\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0063\u003d\u0025\u002e\u0032f\u0020t\u0077\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_bbd ,_dfee ._bcf ,_dfee ._dgdd ,_dada );
_f .Log .Info ("\u0064x\u002c\u0064\u0079\u003d%\u002e\u0033\u0066\u0020\u00740\u003d%\u002e3\u0066\u0020\u0074\u003d\u0025\u002e\u0033f",_bfdb ,_gde ,_gddg );};_aebe :=_fgaab (_gde );_gbca :=_fgaab (_gddg );_gafe :=_baed ._bgaa .CTM .Mult (_baed ._edgg ).Mult (_aebe );
if _cgae {_f .Log .Info ("e\u006e\u0064\u003a\u000a\tC\u0054M\u003d\u0025\u0073\u000a\u0009 \u0074\u006d\u003d\u0025\u0073\u000a"+"\u0009\u0020t\u0064\u003d\u0025s\u0020\u0078\u006c\u0061\u0074\u003d\u0025\u0073\u000a"+"\u0009t\u0064\u0030\u003d\u0025s\u000a\u0009\u0020\u0020\u2192 \u0025s\u0020x\u006c\u0061\u0074\u003d\u0025\u0073",_baed ._bgaa .CTM ,_baed ._edgg ,_gbca ,_aebce (_baed ._bgaa .CTM .Mult (_baed ._edgg ).Mult (_gbca )),_aebe ,_gafe ,_aebce (_gafe ));
};_aeaf ,_ddbea :=_baed .newTextMark (_fa .ExpandLigatures (_eebb ),_bcbf ,_aebce (_gafe ),_e .Abs (_ede *_bcbf .ScalingFactorX ()),_edaf ,_baed ._fceba ._bcf ,_egc ,_ddd ,_abgd ,_gegbf ,_gdfb ,_faa );if !_ddbea {_f .Log .Debug ("\u0054\u0065\u0078\u0074\u0020\u006d\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069d\u0065 \u0070\u0061\u0067\u0065\u002e\u0020\u0053\u006b\u0069\u0070\u0070\u0069\u006e\u0067");
continue ;};if _edaf ==nil {_f .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u002e");}else if _edaf .Encoder ()==nil {_f .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020N\u006f\u0020\u0065\u006e\u0063\u006f\u0064\u0069\u006eg\u002e\u0020\u0066o\u006et\u003d\u0025\u0073",_edaf );
}else {if _dcg ,_cgead :=_edaf .Encoder ().CharcodeToRune (_bbec );_cgead {_aeaf ._gdcba =string (_dcg );};};_f .Log .Trace ("i\u003d\u0025\u0064\u0020\u0063\u006fd\u0065\u003d\u0025\u0064\u0020\u006d\u0061\u0072\u006b=\u0025\u0073\u0020t\u0072m\u003d\u0025\u0073",_gdfb ,_bbec ,_aeaf ,_bcbf );
_baed ._faed =append (_baed ._faed ,&_aeaf );_baed ._edgg .Concat (_gbca );};return nil ;};func (_gafad *subpath )isQuadrilateral ()bool {if len (_gafad ._cdde )< 4||len (_gafad ._cdde )> 5{return false ;};if len (_gafad ._cdde )==5{_fcdc :=_gafad ._cdde [0];
_dbce :=_gafad ._cdde [4];if _fcdc .X !=_dbce .X ||_fcdc .Y !=_dbce .Y {return false ;};};return true ;};func (_baag *textPara )fontsize ()float64 {return _baag ._cbdb [0]._caad };

// GetContentStreamOps returns the contentStreamOps field of `pt`.
func (_ecefe *PageText )GetContentStreamOps ()*_af .ContentStreamOperations {return _ecefe ._ggbb };func (_ffgag *wordBag )firstReadingIndex (_gdad int )int {_fdbdf :=_ffgag .firstWord (_gdad )._aecae ;_gfgf :=float64 (_gdad +1)*_bgca ;_aeec :=_gfgf +_ebfd *_fdbdf ;
_agbe :=_gdad ;for _ ,_adge :=range _ffgag .depthBand (_gfgf ,_aeec ){if _cccc (_ffgag .firstWord (_adge ),_ffgag .firstWord (_agbe ))< 0{_agbe =_adge ;};};return _agbe ;};func _fgfdfc (_bfaa ,_eded _d .PdfRectangle )_d .PdfRectangle {return _d .PdfRectangle {Llx :_e .Min (_bfaa .Llx ,_eded .Llx ),Lly :_e .Min (_bfaa .Lly ,_eded .Lly ),Urx :_e .Max (_bfaa .Urx ,_eded .Urx ),Ury :_e .Max (_bfaa .Ury ,_eded .Ury )};
};func _ccbcd (_gbgae []*textLine ,_eafc string )string {var _acabb _df .Builder ;_fgcb :=0.0;for _bafa ,_fgdd :=range _gbgae {_ageg :=_fgdd .text ();_fdbb :=_fgdd ._bdef ;if _bafa < len (_gbgae )-1{_fgcb =_gbgae [_bafa +1]._bdef ;}else {_fgcb =0.0;};_acabb .WriteString (_eafc );
_acabb .WriteString (_ageg );if _fgcb !=_fdbb {_acabb .WriteString ("\u000a");}else {_acabb .WriteString ("\u0020");};};return _acabb .String ();};func _abfe (_dcbbda int ,_fdff map[int ][]float64 )([]int ,int ){_aagdb :=make ([]int ,_dcbbda );_ccffa :=0;
for _dfda :=0;_dfda < _dcbbda ;_dfda ++{_aagdb [_dfda ]=_ccffa ;_ccffa +=len (_fdff [_dfda ])+1;};return _aagdb ,_ccffa ;};

// ImageMark represents an image drawn on a page and its position in device coordinates.
// All coordinates are in device coordinates.
type ImageMark struct{Image *_d .Image ;

// Dimensions of the image as displayed in the PDF.
Width float64 ;Height float64 ;

// Position of the image in PDF coordinates (lower left corner).
X float64 ;Y float64 ;

// Angle in degrees, if rotated.
Angle float64 ;};func _aace (_fgbg []*textWord ,_ceeeb float64 ,_gbce ,_accg rulingList )*wordBag {_cbaf :=_bbdb (_fgbg [0],_ceeeb ,_gbce ,_accg );for _ ,_cbddf :=range _fgbg [1:]{_aeefc :=_fagef (_cbddf ._cgbe );_cbaf ._gfda [_aeefc ]=append (_cbaf ._gfda [_aeefc ],_cbddf );
_cbaf .PdfRectangle =_fgfdfc (_cbaf .PdfRectangle ,_cbddf .PdfRectangle );};_cbaf .sort ();return _cbaf ;};func (_aaed *textObject )nextLine (){_aaed .moveLP (0,-_aaed ._fceba ._feee )};

// TextMark represents extracted text on a page with information regarding both textual content,
// formatting (font and size) and positioning.
// It is the smallest unit of text on a PDF page, typically a single character.
//
// getBBox() in test_text.go shows how to compute bounding boxes of substrings of extracted text.
// The following code extracts the text on PDF page `page` into `text` then finds the bounding box
// `bbox` of substring `term` in `text`.
//
//	ex, _ := New(page)
//	// handle errors
//	pageText, _, _, err := ex.ExtractPageText()
//	// handle errors
//	text := pageText.Text()
//	textMarks := pageText.Marks()
//
//		start := strings.Index(text, term)
//	 end := start + len(term)
//	 spanMarks, err := textMarks.RangeOffset(start, end)
//	 // handle errors
//	 bbox, ok := spanMarks.BBox()
//	 // handle errors
type TextMark struct{

// Text is the extracted text.
Text string ;

// Original is the text in the PDF. It has not been decoded like `Text`.
Original string ;

// BBox is the bounding box of the text.
BBox _d .PdfRectangle ;

// Font is the font the text was drawn with.
Font *_d .PdfFont ;

// FontSize is the font size the text was drawn with.
FontSize float64 ;

// Offset is the offset of the start of TextMark.Text in the extracted text. If you do this
//   text, textMarks := pageText.Text(), pageText.Marks()
//   marks := textMarks.Elements()
// then marks[i].Offset is the offset of marks[i].Text in text.
Offset int ;

// Meta is set true for spaces and line breaks that we insert in the extracted text. We insert
// spaces (line breaks) when we see characters that are over a threshold horizontal (vertical)
//  distance  apart. See wordJoiner (lineJoiner) in PageText.computeViews().
Meta bool ;

// FillColor is the fill color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
FillColor _ce .Color ;

// StrokeColor is the stroke color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
StrokeColor _ce .Color ;

// Orientation is the text orientation
Orientation int ;

// DirectObject is the underlying PdfObject (Text Object) that represents the visible texts. This is introduced to get
// a simple access to the TextObject in case editing or replacment of some text is needed. E.g during redaction.
DirectObject _gb .PdfObject ;

// ObjString is a decoded string operand of a text-showing operator. It has the same value as `Text` attribute except
// when many glyphs are represented with the same Text Object that contains multiple length string operand in which case
// ObjString spans more than one character string that falls in different TextMark objects.
ObjString []string ;Tw float64 ;Th float64 ;Tc float64 ;Index int ;_gcbba bool ;_gcfe *TextTable ;};const (_cgbb =true ;_bgaf =true ;_ggfa =true ;_abc =false ;_gegf =false ;_ffe =true ;_gdff =true ;_fgca =true ;_addda =true ;_ddfe =false ;);func (_gefaa *textObject )getCurrentFont ()*_d .PdfFont {_ebff :=_gefaa ._fceba ._cbc ;
if _ebff ==nil {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020U\u0073\u0069\u006e\u0067\u0020d\u0065\u0066a\u0075\u006c\u0074\u002e");return _d .DefaultFont ();
};return _ebff ;};func _bcdad (_cffgb ,_fbdga _d .PdfRectangle )(_d .PdfRectangle ,bool ){if !_gddd (_cffgb ,_fbdga ){return _d .PdfRectangle {},false ;};return _d .PdfRectangle {Llx :_e .Max (_cffgb .Llx ,_fbdga .Llx ),Urx :_e .Min (_cffgb .Urx ,_fbdga .Urx ),Lly :_e .Max (_cffgb .Lly ,_fbdga .Lly ),Ury :_e .Min (_cffgb .Ury ,_fbdga .Ury )},true ;
};func (_abd *textObject )getFont (_caccg string )(*_d .PdfFont ,error ){if _abd ._eccd ._caaf !=nil {_dbde ,_aaff :=_abd .getFontDict (_caccg );if _aaff !=nil {_f .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0067\u0065\u0074\u0046\u006f\u006e\u0074:\u0020n\u0061m\u0065=\u0025\u0073\u002c\u0020\u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0073",_caccg ,_aaff .Error ());
return nil ,_aaff ;};_abd ._eccd ._eb ++;_adgbb ,_gggab :=_abd ._eccd ._caaf [_dbde .String ()];if _gggab {_adgbb ._gaec =_abd ._eccd ._eb ;return _adgbb ._cbcc ,nil ;};};_bdfc ,_geegc :=_abd .getFontDict (_caccg );if _geegc !=nil {return nil ,_geegc ;
};_edgc ,_geegc :=_abd .getFontDirect (_caccg );if _geegc !=nil {return nil ,_geegc ;};if _abd ._eccd ._caaf !=nil {_baeg :=fontEntry {_edgc ,_abd ._eccd ._eb };if len (_abd ._eccd ._caaf )>=_dbdg {var _bcaf []string ;for _dea :=range _abd ._eccd ._caaf {_bcaf =append (_bcaf ,_dea );
};_b .Slice (_bcaf ,func (_fdbde ,_cdce int )bool {return _abd ._eccd ._caaf [_bcaf [_fdbde ]]._gaec < _abd ._eccd ._caaf [_bcaf [_cdce ]]._gaec ;});delete (_abd ._eccd ._caaf ,_bcaf [0]);};_abd ._eccd ._caaf [_bdfc .String ()]=_baeg ;};return _edgc ,nil ;
};type lists []*list ;func _ca (_ag []string ,_ac int ,_fd string )int {_ab :=_ac ;for ;_ab < len (_ag );_ab ++{if _ag [_ab ]!=_fd {return _ab ;};};return _ab ;};func (_fefe *wordBag )absorb (_adcd *wordBag ){_ebgc :=_adcd .makeRemovals ();for _agcc ,_aade :=range _adcd ._gfda {for _ ,_accd :=range _aade {_fefe .pullWord (_accd ,_agcc ,_ebgc );
};};_adcd .applyRemovals (_ebgc );};func (_cacc *stateStack )pop ()*textState {if _cacc .empty (){return nil ;};_bbefd :=*(*_cacc )[len (*_cacc )-1];*_cacc =(*_cacc )[:len (*_cacc )-1];return &_bbefd ;};func (_aefde rulingList )primaries ()[]float64 {_ffbb :=make (map[float64 ]struct{},len (_aefde ));
for _ ,_feccf :=range _aefde {_ffbb [_feccf ._aead ]=struct{}{};};_bbcd :=make ([]float64 ,len (_ffbb ));_gfaa :=0;for _aecb :=range _ffbb {_bbcd [_gfaa ]=_aecb ;_gfaa ++;};_b .Float64s (_bbcd );return _bbcd ;};func _ffgg (_cccf map[float64 ]map[float64 ]gridTile )[]float64 {_aebfa :=make ([]float64 ,0,len (_cccf ));
_cdaf :=make (map[float64 ]struct{},len (_cccf ));for _ ,_fcea :=range _cccf {for _bccd :=range _fcea {if _ ,_cgacba :=_cdaf [_bccd ];_cgacba {continue ;};_aebfa =append (_aebfa ,_bccd );_cdaf [_bccd ]=struct{}{};};};_b .Float64s (_aebfa );return _aebfa ;
};func (_fbfg paraList )findTableGrid (_afdba gridTiling )(*textTable ,map[*textPara ]struct{}){_fcabd :=len (_afdba ._aefag );_daeb :=len (_afdba ._badcc );_eafg :=textTable {_beced :true ,_dafge :_fcabd ,_ecdae :_daeb ,_ddagg :make (map[uint64 ]*textPara ,_fcabd *_daeb ),_agdcc :make (map[uint64 ]compositeCell ,_fcabd *_daeb )};
_eafg .PdfRectangle =_afdba .PdfRectangle ;_ddda :=make (map[*textPara ]struct{});_fdaf :=int ((1.0-_gada )*float64 (_fcabd *_daeb ));_cbegb :=0;if _fdef {_f .Log .Info ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0064\u0020\u0078\u0020%\u0064",_fcabd ,_daeb );
};for _aefga ,_agdce :=range _afdba ._badcc {_fegee ,_bfcdf :=_afdba ._begfe [_agdce ];if !_bfcdf {continue ;};for _bcagd ,_daega :=range _afdba ._aefag {_bfeea ,_bffc :=_fegee [_daega ];if !_bffc {continue ;};_ceecf :=_fbfg .inTile (_bfeea );if len (_ceecf )==0{_cbegb ++;
if _cbegb > _fdaf {if _fdef {_f .Log .Info ("\u0021\u006e\u0075m\u0045\u006d\u0070\u0074\u0079\u003d\u0025\u0064",_cbegb );};return nil ,nil ;};}else {_eafg .putComposite (_bcagd ,_aefga ,_ceecf ,_bfeea .PdfRectangle );for _ ,_eaabd :=range _ceecf {_ddda [_eaabd ]=struct{}{};
};};};};_eeada :=0;for _gbcd :=0;_gbcd < _fcabd ;_gbcd ++{_addb :=_eafg .get (_gbcd ,0);if _addb ==nil ||!_addb ._dgba {_eeada ++;};};if _eeada ==0{if _fdef {_f .Log .Info ("\u0021\u006e\u0075m\u0048\u0065\u0061\u0064\u0065\u0072\u003d\u0030");};return nil ,nil ;
};_dfdaf :=_eafg .reduceTiling (_afdba ,_aecea );_dfdaf =_dfdaf .subdivide ();return _dfdaf ,_ddda ;};

// String returns a description of `state`.
func (_cgcfa *textState )String ()string {_fdfe :="\u005bN\u004f\u0054\u0020\u0053\u0045\u0054]";if _cgcfa ._cbc !=nil {_fdfe =_cgcfa ._cbc .BaseFont ();};return _ge .Sprintf ("\u0074\u0063\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0077\u003d\u0025\u002e\u0032\u0066 \u0074f\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u003d\u0025\u0071",_cgcfa ._bcf ,_cgcfa ._dgdd ,_cgcfa ._geed ,_fdfe );
};

// Options extractor options.
type Options struct{

// DisableDocumentTags specifies whether to use the document tags during list extraction.
DisableDocumentTags bool ;

// ApplyCropBox will extract page text based on page cropbox if set to `true`.
ApplyCropBox bool ;

// UseSimplerExtractionProcess will skip topological text ordering and table processing.
//
// NOTE: While normally the extra processing is beneficial, it can also lead to problems when it does not work.
// Thus it is a flag to allow the user to control this process.
//
// Skipping some extraction processes would also lead to the reduced processing time.
UseSimplerExtractionProcess bool ;

// IncludeAnnotations specifies whether to include annotations in the extraction process, default value is `false`.
IncludeAnnotations bool ;

// If enabled, this option prevents splitting of one line into several lines.
DisableMultiColumns bool ;

// RelaxedMode specifies whether to use relaxed mode for processing the objects,
// If enabled UniPDF will automatically try to fix invalid parameters length and value.
// Default is `false`.
RelaxedMode bool ;};func _dgfe (_bgfaa ,_cedf _d .PdfRectangle )bool {return _bgfaa .Llx <=_cedf .Llx &&_cedf .Urx <=_bgfaa .Urx &&_bgfaa .Lly <=_cedf .Lly &&_cedf .Ury <=_bgfaa .Ury ;};func _ccea (_abdd map[float64 ][]*textLine )[]float64 {_bdecb :=[]float64 {};
for _fadbd :=range _abdd {_bdecb =append (_bdecb ,_fadbd );};_b .Float64s (_bdecb );return _bdecb ;};func _gffb (_dgbeg *list )[]*list {var _adeac []*list ;for _ ,_ecdfd :=range _dgbeg ._babgb {switch _ecdfd ._aefc {case "\u004c\u0049":_fbg :=_feab (_ecdfd );
_cbda :=_gffb (_ecdfd );_eggb :=_agded (_fbg ,"\u0062\u0075\u006c\u006c\u0065\u0074",_cbda );_gacc :=_ccbcd (_fbg ,"");_eggb ._ddgc =_gacc ;_adeac =append (_adeac ,_eggb );case "\u004c\u0042\u006fd\u0079":return _gffb (_ecdfd );case "\u004c":_gggg :=_gffb (_ecdfd );
_adeac =append (_adeac ,_gggg ...);return _adeac ;};};return _adeac ;};func (_eacgd *ruling )equals (_efdge *ruling )bool {return _eacgd ._dcga ==_efdge ._dcga &&_fbac (_eacgd ._aead ,_efdge ._aead )&&_fbac (_eacgd ._ccag ,_efdge ._ccag )&&_fbac (_eacgd ._dbgda ,_efdge ._dbgda );
};func (_ffgba *textWord )toTextMarks (_gbffc *int )[]TextMark {var _aegce []TextMark ;for _ ,_bafcd :=range _ffgba ._bcaca {_aegce =_adcf (_aegce ,_gbffc ,_bafcd .ToTextMark ());};return _aegce ;};func (_aebf *textObject )getFontDict (_ggcg string )(_eag _gb .PdfObject ,_dacg error ){_ffac :=_aebf ._fcg ;
if _ffac ==nil {_f .Log .Debug ("g\u0065\u0074\u0046\u006f\u006e\u0074D\u0069\u0063\u0074\u002e\u0020\u004eo\u0020\u0072\u0065\u0073\u006f\u0075\u0072c\u0065\u0073\u002e\u0020\u006e\u0061\u006d\u0065\u003d\u0025#\u0071",_ggcg );return nil ,nil ;};_eag ,_gfgbf :=_ffac .GetFontByName (_gb .PdfObjectName (_ggcg ));
if !_gfgbf {_f .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0067\u0065t\u0046\u006f\u006et\u0044\u0069\u0063\u0074\u003a\u0020\u0046\u006f\u006et \u006e\u006f\u0074 \u0066\u006fu\u006e\u0064\u003a\u0020\u006e\u0061m\u0065\u003d%\u0023\u0071",_ggcg );
return nil ,_eg .New ("f\u006f\u006e\u0074\u0020no\u0074 \u0069\u006e\u0020\u0072\u0065s\u006f\u0075\u0072\u0063\u0065\u0073");};return _eag ,nil ;};func _dfbge (_aefea ,_abfd _db .Point ,_cddbfe _ce .Color )(*ruling ,bool ){_eacb :=lineRuling {_bfaad :_aefea ,_gbgg :_abfd ,_fabfb :_cbdcd (_aefea ,_abfd ),Color :_cddbfe };
if _eacb ._fabfb ==_ggbbc {return nil ,false ;};return _eacb .asRuling ();};func (_fdee *textTable )emptyCompositeColumn (_fccdd int )bool {for _bdbc :=0;_bdbc < _fdee ._ecdae ;_bdbc ++{if _cedfb ,_dffe :=_fdee ._agdcc [_aaaeca (_fccdd ,_bdbc )];_dffe {if len (_cedfb .paraList )> 0{return false ;
};};};return true ;};func (_cbef paraList )computeEBBoxes (){if _ggea {_f .Log .Info ("\u0063o\u006dp\u0075\u0074\u0065\u0045\u0042\u0042\u006f\u0078\u0065\u0073\u003a");};for _ ,_egaaa :=range _cbef {_egaaa ._gdeb =_egaaa .PdfRectangle ;};_bggfg :=_cbef .yNeighbours (0);
for _eaac ,_agffc :=range _cbef {_ddcg :=_agffc ._gdeb ;_bgfag ,_edff :=-1.0e9,+1.0e9;for _ ,_edbg :=range _bggfg [_agffc ]{_bbgcc :=_cbef [_edbg ]._gdeb ;if _bbgcc .Urx < _ddcg .Llx {_bgfag =_e .Max (_bgfag ,_bbgcc .Urx );}else if _ddcg .Urx < _bbgcc .Llx {_edff =_e .Min (_edff ,_bbgcc .Llx );
};};for _ebfda ,_bedec :=range _cbef {_cgbc :=_bedec ._gdeb ;if _eaac ==_ebfda ||_cgbc .Ury > _ddcg .Lly {continue ;};if _bgfag <=_cgbc .Llx &&_cgbc .Llx < _ddcg .Llx {_ddcg .Llx =_cgbc .Llx ;}else if _cgbc .Urx <=_edff &&_ddcg .Urx < _cgbc .Urx {_ddcg .Urx =_cgbc .Urx ;
};};if _ggea {_ge .Printf ("\u0025\u0034\u0064\u003a %\u0036\u002e\u0032\u0066\u2192\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0071\u000a",_eaac ,_agffc ._gdeb ,_ddcg ,_edde (_agffc .text (),50));};_agffc ._gdeb =_ddcg ;};if _abc {for _ ,_dcef :=range _cbef {_dcef .PdfRectangle =_dcef ._gdeb ;
};};};

// Text returns the text content of the `bulletLists`.
func (_ccga *lists )Text ()string {_gfbb :=&_df .Builder {};for _ ,_fgea :=range *_ccga {_fbfee :=_fgea .Text ();_gfbb .WriteString (_fbfee );};return _gfbb .String ();};func _bbdb (_cgef *textWord ,_ccge float64 ,_feeg ,_beef rulingList )*wordBag {_fagf :=_fagef (_cgef ._cgbe );
_efebc :=[]*textWord {_cgef };_fbfe :=wordBag {_gfda :map[int ][]*textWord {_fagf :_efebc },PdfRectangle :_cgef .PdfRectangle ,_gdba :_cgef ._aecae ,_dfaa :_ccge ,_gddb :_feeg ,_feaac :_beef };return &_fbfe ;};func (_acdc *wordBag )pullWord (_cebd *textWord ,_aeeff int ,_eeged map[int ]map[*textWord ]struct{}){_acdc .PdfRectangle =_fgfdfc (_acdc .PdfRectangle ,_cebd .PdfRectangle );
if _cebd ._aecae > _acdc ._gdba {_acdc ._gdba =_cebd ._aecae ;};_acdc ._gfda [_aeeff ]=append (_acdc ._gfda [_aeeff ],_cebd );_eeged [_aeeff ][_cebd ]=struct{}{};};const (_cba ="\u0045\u0052R\u004f\u0052\u003a\u0020\u0043\u0061\u006e\u0027\u0074\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u002c\u0020\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0074\u0079\u0070\u0065";
_aad ="\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0043a\u006e\u0027\u0074 g\u0065\u0074\u0020\u0066\u006f\u006et\u0020\u0070\u0072\u006f\u0070\u0065\u0072\u0074\u0069\u0065\u0073\u002c\u0020\u0066\u006fn\u0074\u0020\u006e\u006f\u0074\u0020\u0066\u006fu\u006e\u0064";
_afeb ="\u0045\u0052\u0052O\u0052\u003a\u0020\u0043\u0061\u006e\u0027\u0074\u0020\u0067\u0065\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u0073\u0074\u0072\u0065\u0061\u006d\u002c\u0020\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0074\u0079\u0070\u0065";
_bdb ="E\u0052R\u004f\u0052\u003a\u0020\u004e\u006f\u0020\u0066o\u006e\u0074\u0020\u0066ou\u006e\u0064";);type subpath struct{_cdde []_db .Point ;_deee bool ;};func _gbffd (_cdecb _gb .PdfObject ,_gfee _ce .Color )(_aaf .Image ,error ){_dbaag ,_caega :=_gb .GetStream (_cdecb );
if !_caega {return nil ,nil ;};_dgcc ,_egdcd :=_d .NewXObjectImageFromStream (_dbaag );if _egdcd !=nil {return nil ,_egdcd ;};_afag ,_egdcd :=_dgcc .ToImage ();if _egdcd !=nil {return nil ,_egdcd ;};return _abac (_afag ,_gfee ),nil ;};func (_bgec gridTile )numBorders ()int {_bbfff :=0;
if _bgec ._bccf {_bbfff ++;};if _bgec ._eecf {_bbfff ++;};if _bgec ._efbdg {_bbfff ++;};if _bgec ._acbg {_bbfff ++;};return _bbfff ;};func _baeebb (_cae _db .Point )*subpath {return &subpath {_cdde :[]_db .Point {_cae }}};func (_gbfa *shapesState )lastpointEstablished ()(_db .Point ,bool ){if _gbfa ._cffg {return _gbfa ._bdbgg ,false ;
};_gedc :=len (_gbfa ._cbce );if _gedc > 0&&_gbfa ._cbce [_gedc -1]._deee {return _gbfa ._cbce [_gedc -1].last (),false ;};return _db .Point {},true ;};func (_dccg *shapesState )devicePoint (_ccff ,_bce float64 )_db .Point {_gcgg :=_dccg ._dcdgd .Mult (_dccg ._abed );
_ccff ,_bce =_gcgg .Transform (_ccff ,_bce );return _db .NewPoint (_ccff ,_bce );};func (_dafb paraList )topoOrder ()[]int {if _bfcc {_f .Log .Info ("\u0074\u006f\u0070\u006f\u004f\u0072\u0064\u0065\u0072\u003a");};_dbcb :=len (_dafb );_fbb :=make ([]bool ,_dbcb );
_gcea :=make ([]int ,0,_dbcb );_egaad :=_dafb .llyOrdering ();var _cdfbc func (_bdbd int );_cdfbc =func (_cbgaa int ){_fbb [_cbgaa ]=true ;for _bgbe :=0;_bgbe < _dbcb ;_bgbe ++{if !_fbb [_bgbe ]{if _dafb .readBefore (_egaad ,_cbgaa ,_bgbe ){_cdfbc (_bgbe );
};};};_gcea =append (_gcea ,_cbgaa );};for _cadb :=0;_cadb < _dbcb ;_cadb ++{if !_fbb [_cadb ]{_cdfbc (_cadb );};};return _ebdacg (_gcea );};func (_eeff *textPara )toTextMarks (_bcgf *int )[]TextMark {if _eeff ._cgbdg ==nil {return _eeff .toCellTextMarks (_bcgf );
};var _febgc []TextMark ;for _fccd :=0;_fccd < _eeff ._cgbdg ._ecdae ;_fccd ++{for _bafg :=0;_bafg < _eeff ._cgbdg ._dafge ;_bafg ++{_gdac :=_eeff ._cgbdg .get (_bafg ,_fccd );if _gdac ==nil {_febgc =_cdeff (_febgc ,_bcgf ,"\u0009");}else {_dgbbf :=_gdac .toCellTextMarks (_bcgf );
_febgc =append (_febgc ,_dgbbf ...);};_febgc =_cdeff (_febgc ,_bcgf ,"\u0020");};if _fccd < _eeff ._cgbdg ._ecdae -1{_febgc =_cdeff (_febgc ,_bcgf ,"\u000a");};};_ecdfc :=_eeff ._cgbdg ;if _ecdfc .isExportable (){_gcef :=_ecdfc .toTextTable ();_febgc =_agbcd (_febgc ,&_gcef );
};return _febgc ;};func (_dcbeb *textTable )depth ()float64 {_eeead :=1e10;for _afdbg :=0;_afdbg < _dcbeb ._dafge ;_afdbg ++{_dcee :=_dcbeb .get (_afdbg ,0);if _dcee ==nil ||_dcee ._dgba {continue ;};_eeead =_e .Min (_eeead ,_dcee .depth ());};return _eeead ;
};const (_ggea =false ;_ccef =false ;_bebb =false ;_cgae =false ;_cbge =false ;_gbbb =false ;_febaf =false ;_bfcc =false ;_ebfc =false ;_bgcfe =_ebfc &&true ;_cdefa =_bgcfe &&false ;_bfed =_ebfc &&true ;_eceb =false ;_abgeg =_eceb &&false ;_gebd =_eceb &&true ;
_acf =false ;_eadb =_acf &&false ;_gaeb =_acf &&false ;_fdef =_acf &&true ;_ebbb =_acf &&false ;_befc =_acf &&false ;);

// TableCell is a cell in a TextTable.
type TableCell struct{_d .PdfRectangle ;

// Text is the extracted text.
Text string ;

// Marks returns the TextMarks corresponding to the text in Text.
Marks TextMarkArray ;};func (_ggde paraList )findTextTables ()[]*textTable {var _egcc []*textTable ;for _ ,_gbbbd :=range _ggde {if _gbbbd .taken ()||_gbbbd .Width ()==0{continue ;};_gdfg :=_gbbbd .isAtom ();if _gdfg ==nil {continue ;};_gdfg .growTable ();
if _gdfg ._dafge *_gdfg ._ecdae < _adea {continue ;};_gdfg .markCells ();_gdfg .log ("\u0067\u0072\u006fw\u006e");_egcc =append (_egcc ,_gdfg );};return _egcc ;};func (_bdac *textObject )newTextMark (_cadcc string ,_beee _db .Matrix ,_febgb _db .Point ,_dgcb float64 ,_ecacc *_d .PdfFont ,_bcab float64 ,_abcb ,_aaege _ce .Color ,_ccfcc _gb .PdfObject ,_gfec []string ,_fege int ,_abfg int )(textMark ,bool ){_gbceb :=_beee .Angle ();
_gcdc :=_gdgd (_gbceb ,_edga );var _dage float64 ;if _gcdc %180!=90{_dage =_beee .ScalingFactorY ();}else {_dage =_beee .ScalingFactorX ();};_fbdbb :=_aebce (_beee );_aadfd :=_d .PdfRectangle {Llx :_fbdbb .X ,Lly :_fbdbb .Y ,Urx :_febgb .X ,Ury :_febgb .Y };
switch _gcdc %360{case 90:_aadfd .Urx -=_dage ;case 180:_aadfd .Ury -=_dage ;case 270:_aadfd .Urx +=_dage ;case 0:_aadfd .Ury +=_dage ;default:_gcdc =0;_aadfd .Ury +=_dage ;};if _aadfd .Llx > _aadfd .Urx {_aadfd .Llx ,_aadfd .Urx =_aadfd .Urx ,_aadfd .Llx ;
};if _aadfd .Lly > _aadfd .Ury {_aadfd .Lly ,_aadfd .Ury =_aadfd .Ury ,_aadfd .Lly ;};_bagff :=true ;if _bdac ._eccd ._agc .Width ()> 0{_gecd ,_bedcd :=_bcdad (_aadfd ,_bdac ._eccd ._agc );if !_bedcd {_bagff =false ;_f .Log .Debug ("\u0054\u0065\u0078\u0074\u0020m\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069\u0064\u0065\u0020\u0070a\u0067\u0065\u002e\u0020\u0062\u0062\u006f\u0078\u003d\u0025\u0067\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u003d\u0025\u0067\u0020\u0074\u0065\u0078\u0074\u003d\u0025q",_aadfd ,_bdac ._eccd ._agc ,_cadcc );
};_aadfd =_gecd ;};_ebce :=_aadfd ;_fgbf :=_bdac ._eccd ._agc ;switch _gcdc %360{case 90:_fgbf .Urx ,_fgbf .Ury =_fgbf .Ury ,_fgbf .Urx ;_ebce =_d .PdfRectangle {Llx :_fgbf .Urx -_aadfd .Ury ,Urx :_fgbf .Urx -_aadfd .Lly ,Lly :_aadfd .Llx ,Ury :_aadfd .Urx };
case 180:_ebce =_d .PdfRectangle {Llx :_fgbf .Urx -_aadfd .Llx ,Urx :_fgbf .Urx -_aadfd .Urx ,Lly :_fgbf .Ury -_aadfd .Lly ,Ury :_fgbf .Ury -_aadfd .Ury };case 270:_fgbf .Urx ,_fgbf .Ury =_fgbf .Ury ,_fgbf .Urx ;_ebce =_d .PdfRectangle {Llx :_aadfd .Ury ,Urx :_aadfd .Lly ,Lly :_fgbf .Ury -_aadfd .Llx ,Ury :_fgbf .Ury -_aadfd .Urx };
};if _ebce .Llx > _ebce .Urx {_ebce .Llx ,_ebce .Urx =_ebce .Urx ,_ebce .Llx ;};if _ebce .Lly > _ebce .Ury {_ebce .Lly ,_ebce .Ury =_ebce .Ury ,_ebce .Lly ;};_edfa :=textMark {_dfge :_cadcc ,PdfRectangle :_ebce ,_gfeg :_aadfd ,_aeed :_ecacc ,_ffeg :_dage ,_cbad :_bcab ,_fcdg :_beee ,_dgagf :_febgb ,_cgaeg :_gcdc ,_aeac :_abcb ,_dabf :_aaege ,_gdbad :_ccfcc ,_bdecf :_gfec ,Th :_bdac ._fceba ._bgfa ,Tw :_bdac ._fceba ._dgdd ,_gbgd :_abfg ,_cdagd :_fege };
if _ccef {_f .Log .Info ("n\u0065\u0077\u0054\u0065\u0078\u0074M\u0061\u0072\u006b\u003a\u0020\u0073t\u0061\u0072\u0074\u003d\u0025\u002e\u0032f\u0020\u0065\u006e\u0064\u003d\u0025\u002e\u0032\u0066\u0020%\u0073",_fbdbb ,_febgb ,_edfa .String ());};return _edfa ,_bagff ;
};

// BBox returns the smallest axis-aligned rectangle that encloses all the TextMarks in `ma`.
func (_bfbec *TextMarkArray )BBox ()(_d .PdfRectangle ,bool ){var _fgaac _d .PdfRectangle ;_eecc :=false ;for _ ,_ebc :=range _bfbec ._ecdd {if _ebc .Meta ||_cfde (_ebc .Text ){continue ;};if _eecc {_fgaac =_fgfdfc (_fgaac ,_ebc .BBox );}else {_fgaac =_ebc .BBox ;
_eecc =true ;};};return _fgaac ,_eecc ;};func _dca (_cca bounded )float64 {return -_cca .bbox ().Lly };func (_ebbge *wordBag )removeDuplicates (){if _bfed {_f .Log .Info ("r\u0065m\u006f\u0076\u0065\u0044\u0075\u0070\u006c\u0069c\u0061\u0074\u0065\u0073: \u0025\u0071",_ebbge .text ());
};for _ ,_abag :=range _ebbge .depthIndexes (){if len (_ebbge ._gfda [_abag ])==0{continue ;};_bcacg :=_ebbge ._gfda [_abag ][0];_begff :=_afdc *_bcacg ._aecae ;_bgfe :=_bcacg ._cgbe ;for _ ,_dbgg :=range _ebbge .depthBand (_bgfe ,_bgfe +_begff ){_edba :=map[*textWord ]struct{}{};
_egegd :=_ebbge ._gfda [_dbgg ];for _ ,_gcdf :=range _egegd {if _ ,_ggbd :=_edba [_gcdf ];_ggbd {continue ;};for _ ,_bedb :=range _egegd {if _ ,_gccda :=_edba [_bedb ];_gccda {continue ;};if _bedb !=_gcdf &&_bedb ._bdea ==_gcdf ._bdea &&_e .Abs (_bedb .Llx -_gcdf .Llx )< _begff &&_e .Abs (_bedb .Urx -_gcdf .Urx )< _begff &&_e .Abs (_bedb .Lly -_gcdf .Lly )< _begff &&_e .Abs (_bedb .Ury -_gcdf .Ury )< _begff {_edba [_bedb ]=struct{}{};
};};};if len (_edba )> 0{_gfcd :=0;for _ ,_eccf :=range _egegd {if _ ,_fcec :=_edba [_eccf ];!_fcec {_egegd [_gfcd ]=_eccf ;_gfcd ++;};};_ebbge ._gfda [_dbgg ]=_egegd [:len (_egegd )-len (_edba )];if len (_ebbge ._gfda [_dbgg ])==0{delete (_ebbge ._gfda ,_dbgg );
};};};};};func _edgbae (_baec ,_eabaff _db .Point )bool {_geedf :=_e .Abs (_baec .X -_eabaff .X );_cagag :=_e .Abs (_baec .Y -_eabaff .Y );return _bcec (_cagag ,_geedf );};func _dfbg (_fef *TextMarkArray ,_ccf *string ,_cbdd *int ,_gcac string )error {var _bbff TextMark ;
for _ ,_gcace :=range _fef .Elements (){_ebe :=_gcace .Text ;_ddf :=_gcace .Font ;_fgaa :="";_bcac :=*_ccf ;if len (_bcac )> *_cbdd {_fgaa =_bcac [*_cbdd :*_cbdd +len (_ebe )];}else if *_cbdd ==len (_gcac )-1&&len (_bcac )> *_cbdd {_fgaa =_bcac [*_cbdd :];
};_dfdb :=_gcace .DirectObject ;if _dfdb ==nil &&_gcace .Text =="\u0020"{_eedb :=_bbff .ObjString ;_eee :=_eedb [len (_eedb )-1];if _eee !=_gcace .Text {_dfdb =_bbff .DirectObject ;_ddf =_bbff .Font ;_efee ,_geeg :=_gb .GetString (_dfdb );if !_geeg {return _ge .Errorf ("\u0075n\u0061\u0062l\u0065\u0020\u0074\u006f \u0067\u0065\u0074 \u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0042\u0079te\u0073\u0020\u0066r\u006f\u006d \u0064\u0069\u0072\u0065\u0063\u0074O\u0062\u006ae\u0063\u0074");
};_fbaf ,_geeg :=_gb .GetStringBytes (_dfdb );if !_geeg {return _gb .ErrTypeError ;};_ebbe :=_cged (_fbaf ,_ddf );_fgaa =_ebbe +_fgaa ;_cdef (_efee ,_fgaa ,_ddf );*_cbdd +=len (_ebe );continue ;};};_gcf ,_ebdfb :=_gb .GetString (_dfdb );if !_ebdfb {return _ge .Errorf ("\u0075n\u0061\u0062l\u0065\u0020\u0074\u006f \u0067\u0065\u0074 \u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0042\u0079te\u0073\u0020\u0066r\u006f\u006d \u0064\u0069\u0072\u0065\u0063\u0074O\u0062\u006ae\u0063\u0074");
};_egde :="";_fgb ,_ebdfb :=_gb .GetStringBytes (_dfdb );if !_ebdfb {return _gb .ErrTypeError ;};_aeagg :=_cged (_fgb ,_ddf );_egde =_df .Replace (_aeagg ,_ebe ,_fgaa ,1);_cdef (_gcf ,_egde ,_ddf );*_cbdd +=len (_ebe );_bbff =_gcace ;};return nil ;};

// Search searches the pages specified by `pages`.
func (_eege *Editor )Search (pattern string ,pages []int )(map[int ]Match ,error ){_gag ,_ ,_eff :=_eege .getMatches (pattern ,pages );return _gag ,_eff ;};func _cebdc (_edcff _d .PdfRectangle ,_ecea bounded )float64 {return _edcff .Ury -_ecea .bbox ().Lly };
func _bgfg (_effd []*wordBag )[]*wordBag {if len (_effd )<=1{return _effd ;};if _ebfc {_f .Log .Info ("\u006d\u0065\u0072\u0067\u0065\u0057\u006f\u0072\u0064B\u0061\u0067\u0073\u003a");};_b .Slice (_effd ,func (_afbcc ,_bgbd int )bool {_fegd ,_cgee :=_effd [_afbcc ],_effd [_bgbd ];
_bgcf :=_fegd .Width ()*_fegd .Height ();_fgde :=_cgee .Width ()*_cgee .Height ();if _bgcf !=_fgde {return _bgcf > _fgde ;};if _fegd .Height ()!=_cgee .Height (){return _fegd .Height ()> _cgee .Height ();};return _afbcc < _bgbd ;});var _fgbb []*wordBag ;
_afbb :=make (intSet );for _egf :=0;_egf < len (_effd );_egf ++{if _afbb .has (_egf ){continue ;};_fcfa :=_effd [_egf ];for _cdfd :=_egf +1;_cdfd < len (_effd );_cdfd ++{if _afbb .has (_egf ){continue ;};_gbef :=_effd [_cdfd ];_fced :=_fcfa .PdfRectangle ;
_fced .Llx -=_fcfa ._gdba ;if _dgfe (_fced ,_gbef .PdfRectangle ){_fcfa .absorb (_gbef );_afbb .add (_cdfd );};};_fgbb =append (_fgbb ,_fcfa );};if len (_effd )!=len (_fgbb )+len (_afbb ){_f .Log .Error ("\u006d\u0065\u0072ge\u0057\u006f\u0072\u0064\u0042\u0061\u0067\u0073\u003a \u0025d\u2192%\u0064 \u0061\u0062\u0073\u006f\u0072\u0062\u0065\u0064\u003d\u0025\u0064",len (_effd ),len (_fgbb ),len (_afbb ));
};return _fgbb ;};func (_gdbf *textObject )setTextLeading (_gcg float64 ){if _gdbf ==nil {return ;};_gdbf ._fceba ._feee =_gcg ;};func _agde (_gdb []Font ,_dad string )bool {for _ ,_fdc :=range _gdb {if _fdc .FontName ==_dad {return true ;};};return false ;
};func (_edbef paraList )sortReadingOrder (){_f .Log .Trace ("\u0073\u006fr\u0074\u0052\u0065\u0061\u0064i\u006e\u0067\u004f\u0072\u0064e\u0072\u003a\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_edbef ));
if len (_edbef )<=1{return ;};_edbef .computeEBBoxes ();_b .Slice (_edbef ,func (_bcgcb ,_gcag int )bool {return _bddb (_edbef [_bcgcb ],_edbef [_gcag ])<=0});};func (_agcf *wordBag )allWords ()[]*textWord {var _afbce []*textWord ;for _ ,_babe :=range _agcf ._gfda {_afbce =append (_afbce ,_babe ...);
};return _afbce ;};func (_fafga compositeCell )String ()string {_dfcce :="";if len (_fafga .paraList )> 0{_dfcce =_edde (_fafga .paraList .merge ().text (),50);};return _ge .Sprintf ("\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0064\u0020\u0070\u0061\u0072a\u0073\u0020\u0025\u0071",_fafga .PdfRectangle ,len (_fafga .paraList ),_dfcce );
};func (_ffacf rulingList )blocks (_agege ,_cgcad *ruling )bool {if _agege ._ccag > _cgcad ._dbgda ||_cgcad ._ccag > _agege ._dbgda {return false ;};_edef :=_e .Max (_agege ._ccag ,_cgcad ._ccag );_bbaga :=_e .Min (_agege ._dbgda ,_cgcad ._dbgda );if _agege ._aead > _cgcad ._aead {_agege ,_cgcad =_cgcad ,_agege ;
};for _ ,_dcff :=range _ffacf {if _agege ._aead <=_dcff ._aead +_efef &&_dcff ._aead <=_cgcad ._aead +_efef &&_dcff ._ccag <=_bbaga &&_edef <=_dcff ._dbgda {return true ;};};return false ;};func (_bgdfc *stateStack )empty ()bool {return len (*_bgdfc )==0};
func (_fefeg *textLine )text ()string {var _fadb []string ;for _ ,_aedd :=range _fefeg ._bcfga {if _aedd ._bgcae {_fadb =append (_fadb ,"\u0020");};_fadb =append (_fadb ,_aedd ._bdea );};_dbf :=_df .Join (_fadb ,"");_fggd :=_cgb ([]rune (_dbf ));return _fggd ._gf ;
};func (_cabb *wordBag )depthIndexes ()[]int {if len (_cabb ._gfda )==0{return nil ;};_aadf :=make ([]int ,len (_cabb ._gfda ));_fcga :=0;for _dcbd :=range _cabb ._gfda {_aadf [_fcga ]=_dcbd ;_fcga ++;};_b .Ints (_aadf );return _aadf ;};func (_gdgde rulingList )snapToGroups ()rulingList {_aeca ,_ggefg :=_gdgde .vertsHorzs ();
if len (_aeca )> 0{_aeca =_aeca .snapToGroupsDirection ();};if len (_ggefg )> 0{_ggefg =_ggefg .snapToGroupsDirection ();};_bbbg :=append (_aeca ,_ggefg ...);_bbbg .log ("\u0073\u006e\u0061p\u0054\u006f\u0047\u0072\u006f\u0075\u0070\u0073");return _bbbg ;
};func (_dfgc *textObject )setWordSpacing (_bfgga float64 ){if _dfgc ==nil {return ;};_dfgc ._fceba ._dgdd =_bfgga ;};func (_eac *Editor )getMatches (_eeac string ,_fca []int )(map[int ]Match ,map[int ][]*TextMarkArray ,error ){_fcef :=map[int ]Match {};
_bbb :=map[int ][]*TextMarkArray {};for _ ,_dcb :=range _fca {_fcc ,_eeace :=_eac ._bdf .GetPage (_dcb );if _eeace !=nil {return nil ,nil ,_eeace ;};_bgcg ,_eeace :=New (_fcc );if _eeace !=nil {return nil ,nil ,_eeace ;};_geg ,_ ,_ ,_eeace :=_bgcg .ExtractPageText ();
if _eeace !=nil {return nil ,nil ,_eeace ;};_dfe :=_geg .Text ();_adfg ,_eeace :=_bge (_eeac ,_dfe );if _eeace !=nil {return nil ,nil ,_eeace ;};if len (_adfg )==0{_f .Log .Info ("\u004e\u006f\u0020\u006d\u0061\u0074\u0063\u0068\u0020\u0066\u006f\u0075\u006e\u0064\u0020f\u006fr\u0020\u0025\u0073\u0020\u006f\u006e\u0020\u0070\u0061\u0067\u0065\u0020\u0025\u0064",_eeac ,_dcb );
};_bdcd :=_geg .Marks ();_agaf :=[]Box {};for _ ,_gff :=range _adfg {_ ,_gdd ,_eba :=_dcc (_gff ,_bdcd ,_eeac );if _eba !=nil {return nil ,nil ,_eba ;};_agaf =append (_agaf ,_gdd );};_babad :=Match {Pattern :_eeac ,Indexes :_adfg ,Locations :_agaf };_fcef [_dcb ]=_babad ;
};return _fcef ,_bbb ,nil ;};var (_bcc =_eg .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_ecab =_eg .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072");
);var _cfgd =false ;func (_dddc TextTable )getCellInfo (_bggf TextMark )[][]int {for _eece ,_gfce :=range _dddc .Cells {for _ddcc :=range _gfce {_agbc :=&_gfce [_ddcc ].Marks ;if _agbc .exists (_bggf ){return [][]int {{_eece },{_ddcc }};};};};return nil ;
};func _dddd (_cecb *wordBag ,_ggcb int )*textLine {_dfdg :=_cecb .firstWord (_ggcb );_dcced :=textLine {PdfRectangle :_dfdg .PdfRectangle ,_caad :_dfdg ._aecae ,_bdef :_dfdg ._cgbe };_dcced .pullWord (_cecb ,_dfdg ,_ggcb );return &_dcced ;};func _bddc (_bbda map[float64 ]gridTile )[]float64 {_deeeg :=make ([]float64 ,0,len (_bbda ));
for _cabba :=range _bbda {_deeeg =append (_deeeg ,_cabba );};_b .Float64s (_deeeg );return _deeeg ;};func _debg (_cade ,_egacc int )int {if _cade < _egacc {return _cade ;};return _egacc ;};func (_gbbcf lineRuling )xMean ()float64 {return 0.5*(_gbbcf ._bfaad .X +_gbbcf ._gbgg .X )};
type imageExtractContext struct{_dgb []ImageMark ;_efa int ;_gcbg int ;_gca int ;_fde map[*_gb .PdfObjectStream ]*cachedImage ;_edc *ImageExtractOptions ;_bbef bool ;};func _adcg (_cagfg []rulingList )(rulingList ,rulingList ){var _cbceg rulingList ;for _ ,_eebeb :=range _cagfg {_cbceg =append (_cbceg ,_eebeb ...);
};return _cbceg .vertsHorzs ();};type rulingKind int ;func _dccc (_feabb map[float64 ]map[float64 ]gridTile )[]float64 {_bdcfe :=make ([]float64 ,0,len (_feabb ));for _ccebe :=range _feabb {_bdcfe =append (_bdcfe ,_ccebe );};_b .Float64s (_bdcfe );_ebde :=len (_bdcfe );
for _edbefg :=0;_edbefg < _ebde /2;_edbefg ++{_bdcfe [_edbefg ],_bdcfe [_ebde -1-_edbefg ]=_bdcfe [_ebde -1-_edbefg ],_bdcfe [_edbefg ];};return _bdcfe ;};func _fga (_fdf *TextMarkArray ,_fcdf int )int {_ebb :=_fdf .Elements ();_dgf :=_fcdf -1;_baba :=_fcdf +1;
_ffd :=-1;if _dgf >=0{_bcag :=_ebb [_dgf ];_gdcd :=_bcag .ObjString ;_dfd :=len (_gdcd );_cffa :=_bcag .Index ;if _cffa +1< _dfd {return _dgf ;};};if _baba < len (_ebb ){_aeag :=_ebb [_baba ];_cfeb :=_aeag .ObjString ;if _cfeb [0]!=_aeag .Text {return _baba ;
};};if _ffd ==-1&&_ebb [_fcdf ].Text =="\u0020"{return _dgf ;};return _ffd ;};type shapesState struct{_abed _db .Matrix ;_dcdgd _db .Matrix ;_cbce []*subpath ;_cffg bool ;_bdbgg _db .Point ;_daff *textObject ;};func (_bffa rulingList )intersections ()map[int ]intSet {var _fcbff ,_eecd []int ;
for _fgga ,_eeddd :=range _bffa {switch _eeddd ._dcga {case _bbffc :_fcbff =append (_fcbff ,_fgga );case _ddeae :_eecd =append (_eecd ,_fgga );};};if len (_fcbff )< _cbffc +1||len (_eecd )< _gaae +1{return nil ;};if len (_fcbff )+len (_eecd )> _aaba {_f .Log .Debug ("\u0069\u006e\u0074\u0065\u0072\u0073e\u0063\u0074\u0069\u006f\u006e\u0073\u003a\u0020\u0054\u004f\u004f\u0020\u004d\u0041\u004e\u0059\u0020\u0072\u0075\u006ci\u006e\u0067\u0073\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u003d\u0020%\u0064 \u0078\u0020\u0025\u0064",len (_bffa ),len (_fcbff ),len (_eecd ));
return nil ;};_bcga :=make (map[int ]intSet ,len (_fcbff )+len (_eecd ));for _ ,_eeabc :=range _fcbff {for _ ,_ecfaf :=range _eecd {if _bffa [_eeabc ].intersects (_bffa [_ecfaf ]){if _ ,_dfef :=_bcga [_eeabc ];!_dfef {_bcga [_eeabc ]=make (intSet );};if _ ,_agdd :=_bcga [_ecfaf ];
!_agdd {_bcga [_ecfaf ]=make (intSet );};_bcga [_eeabc ].add (_ecfaf );_bcga [_ecfaf ].add (_eeabc );};};};return _bcga ;};func _dfgd (_ebgcb ,_bbbc _d .PdfRectangle )bool {return _bbbc .Llx <=_ebgcb .Urx &&_ebgcb .Llx <=_bbbc .Urx ;};func _feab (_fdbf *list )[]*textLine {for _ ,_bcddd :=range _fdbf ._babgb {switch _bcddd ._aefc {case "\u004c\u0042\u006fd\u0079":if len (_bcddd ._aefg )!=0{return _bcddd ._aefg ;
};return _feab (_bcddd );case "\u0053\u0070\u0061\u006e":return _bcddd ._aefg ;case "I\u006e\u006c\u0069\u006e\u0065\u0053\u0068\u0061\u0070\u0065":return _bcddd ._aefg ;};};return nil ;};func _bfc (_eefa ,_gaecc bounded )float64 {return _dca (_eefa )-_dca (_gaecc )};
func (_bcee rulingList )connections (_ddegb map[int ]intSet ,_gedce int )intSet {_bdfbd :=make (intSet );_ecda :=make (intSet );var _ffgaf func (int );_ffgaf =func (_bbbb int ){if !_ecda .has (_bbbb ){_ecda .add (_bbbb );for _ggaf :=range _bcee {if _ddegb [_ggaf ].has (_bbbb ){_bdfbd .add (_ggaf );
};};for _bbdcc :=range _bcee {if _bdfbd .has (_bbdcc ){_ffgaf (_bbdcc );};};};};_ffgaf (_gedce );return _bdfbd ;};

// String returns a description of `w`.
func (_eage *textWord )String ()string {return _ge .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_eage ._cgbe ,_eage .PdfRectangle ,_eage ._aecae ,_eage ._bdea );
};func _aggd (_gedad *wordBag ,_gccf float64 ,_cdcd ,_cbcd rulingList ,_cadcd bool )[]*wordBag {var _bdee []*wordBag ;for _ ,_afdf :=range _gedad .depthIndexes (){_ebag :=false ;for !_gedad .empty (_afdf ){_fddd :=_gedad .firstReadingIndex (_afdf );_efcb :=_gedad .firstWord (_fddd );
_ffce :=_bbdb (_efcb ,_gccf ,_cdcd ,_cbcd );_gedad .removeWord (_efcb ,_fddd );if _febaf {_f .Log .Info ("\u0066\u0069\u0072\u0073\u0074\u0057\u006f\u0072\u0064\u0020\u005e\u005e^\u005e\u0020\u0025\u0073",_efcb .String ());};for _fgaf :=true ;_fgaf ;_fgaf =_ebag {_ebag =false ;
_aaad :=_aaegc *_ffce ._gdba ;_egdee :=_fega *_ffce ._gdba ;if _cadcd {_egdee =_e .MaxFloat64 ;};_dedgd :=_beba *_ffce ._gdba ;if _febaf {_f .Log .Info ("\u0070a\u0072a\u0057\u006f\u0072\u0064\u0073\u0020\u0064\u0065\u0070\u0074\u0068 \u0025\u002e\u0032\u0066 \u002d\u0020\u0025\u002e\u0032f\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061\u0044\u0065\u0070\u0074\u0068\u0047\u0061\u0070\u003d\u0025\u002e\u0032\u0066\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061R\u0065\u0061\u0064\u0069\u006e\u0067\u0047\u0061p\u003d\u0025\u002e\u0032\u0066",_ffce .minDepth (),_ffce .maxDepth (),_dedgd ,_egdee );
};if _gedad .scanBand ("\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c",_ffce ,_gccc (_dbef ,0),_ffce .minDepth ()-_dedgd ,_ffce .maxDepth ()+_dedgd ,_cfgf ,false ,false )> 0{_ebag =true ;};if _gedad .scanBand ("\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_ffce ,_gccc (_dbef ,_egdee ),_ffce .minDepth (),_ffce .maxDepth (),_dabb ,false ,false )> 0{_ebag =true ;
};if _ebag {continue ;};_dfff :=_gedad .scanBand ("",_ffce ,_gccc (_bbag ,_aaad ),_ffce .minDepth (),_ffce .maxDepth (),_aaac ,true ,false );if _dfff > 0{_feeed :=(_ffce .maxDepth ()-_ffce .minDepth ())/_ffce ._gdba ;if (_dfff > 1&&float64 (_dfff )> 0.3*_feeed )||_dfff <=10{if _gedad .scanBand ("\u006f\u0074\u0068e\u0072",_ffce ,_gccc (_bbag ,_aaad ),_ffce .minDepth (),_ffce .maxDepth (),_aaac ,false ,true )> 0{_ebag =true ;
};};};};_bdee =append (_bdee ,_ffce );};};return _bdee ;};func _eedbf (_gecde float64 )bool {return _e .Abs (_gecde )< _aeea };func (_dddcd paraList )addNeighbours (){_dcag :=func (_aebef []int ,_febea *textPara )([]*textPara ,[]*textPara ){_abaa :=make ([]*textPara ,0,len (_aebef )-1);
_eabcg :=make ([]*textPara ,0,len (_aebef )-1);for _ ,_ddbgb :=range _aebef {_gagde :=_dddcd [_ddbgb ];if _gagde .Urx <=_febea .Llx {_abaa =append (_abaa ,_gagde );}else if _gagde .Llx >=_febea .Urx {_eabcg =append (_eabcg ,_gagde );};};return _abaa ,_eabcg ;
};_feffg :=func (_adcfd []int ,_efad *textPara )([]*textPara ,[]*textPara ){_beebf :=make ([]*textPara ,0,len (_adcfd )-1);_gefbf :=make ([]*textPara ,0,len (_adcfd )-1);for _ ,_deeg :=range _adcfd {_dbeab :=_dddcd [_deeg ];if _dbeab .Ury <=_efad .Lly {_gefbf =append (_gefbf ,_dbeab );
}else if _dbeab .Lly >=_efad .Ury {_beebf =append (_beebf ,_dbeab );};};return _beebf ,_gefbf ;};_gfbfb :=_dddcd .yNeighbours (_aaecf );for _ ,_fcbfd :=range _dddcd {_dcafe :=_gfbfb [_fcbfd ];if len (_dcafe )==0{continue ;};_babfe ,_fbgga :=_dcag (_dcafe ,_fcbfd );
if len (_babfe )==0&&len (_fbgga )==0{continue ;};if len (_babfe )> 0{_ebee :=_babfe [0];for _ ,_gbbg :=range _babfe [1:]{if _gbbg .Urx >=_ebee .Urx {_ebee =_gbbg ;};};for _ ,_ecafb :=range _babfe {if _ecafb !=_ebee &&_ecafb .Urx > _ebee .Llx {_ebee =nil ;
break ;};};if _ebee !=nil &&_beed (_fcbfd .PdfRectangle ,_ebee .PdfRectangle ){_fcbfd ._ddge =_ebee ;};};if len (_fbgga )> 0{_afadg :=_fbgga [0];for _ ,_dgca :=range _fbgga [1:]{if _dgca .Llx <=_afadg .Llx {_afadg =_dgca ;};};for _ ,_cgdag :=range _fbgga {if _cgdag !=_afadg &&_cgdag .Llx < _afadg .Urx {_afadg =nil ;
break ;};};if _afadg !=nil &&_beed (_fcbfd .PdfRectangle ,_afadg .PdfRectangle ){_fcbfd ._fbab =_afadg ;};};};_gfbfb =_dddcd .xNeighbours (_adgee );for _ ,_cbfba :=range _dddcd {_egge :=_gfbfb [_cbfba ];if len (_egge )==0{continue ;};_bbdaa ,_dbaac :=_feffg (_egge ,_cbfba );
if len (_bbdaa )==0&&len (_dbaac )==0{continue ;};if len (_dbaac )> 0{_dcfca :=_dbaac [0];for _ ,_eeee :=range _dbaac [1:]{if _eeee .Ury >=_dcfca .Ury {_dcfca =_eeee ;};};for _ ,_cabc :=range _dbaac {if _cabc !=_dcfca &&_cabc .Ury > _dcfca .Lly {_dcfca =nil ;
break ;};};if _dcfca !=nil &&_dfgd (_cbfba .PdfRectangle ,_dcfca .PdfRectangle ){_cbfba ._cbfga =_dcfca ;};};if len (_bbdaa )> 0{_gfbba :=_bbdaa [0];for _ ,_defdc :=range _bbdaa [1:]{if _defdc .Lly <=_gfbba .Lly {_gfbba =_defdc ;};};for _ ,_eaddb :=range _bbdaa {if _eaddb !=_gfbba &&_eaddb .Lly < _gfbba .Ury {_gfbba =nil ;
break ;};};if _gfbba !=nil &&_dfgd (_cbfba .PdfRectangle ,_gfbba .PdfRectangle ){_cbfba ._cggeb =_gfbba ;};};};for _ ,_bbgdd :=range _dddcd {if _bbgdd ._ddge !=nil &&_bbgdd ._ddge ._fbab !=_bbgdd {_bbgdd ._ddge =nil ;};if _bbgdd ._cggeb !=nil &&_bbgdd ._cggeb ._cbfga !=_bbgdd {_bbgdd ._cggeb =nil ;
};if _bbgdd ._fbab !=nil &&_bbgdd ._fbab ._ddge !=_bbgdd {_bbgdd ._fbab =nil ;};if _bbgdd ._cbfga !=nil &&_bbgdd ._cbfga ._cggeb !=_bbgdd {_bbgdd ._cbfga =nil ;};};};func _cdeff (_fgee []TextMark ,_gcdge *int ,_egcfb string )[]TextMark {_bage :=_cgbf ;
_bage .Text =_egcfb ;return _adcf (_fgee ,_gcdge ,_bage );};func (_ecbd *textMark )inDiacriticArea (_gbeb *textMark )bool {_fcdd :=_ecbd .Llx -_gbeb .Llx ;_gfbdb :=_ecbd .Urx -_gbeb .Urx ;_fdde :=_ecbd .Lly -_gbeb .Lly ;return _e .Abs (_fcdd +_gfbdb )< _ecbd .Width ()*_cffe &&_e .Abs (_fdde )< _ecbd .Height ()*_cffe ;
};func _fagb (_gbcge ,_bgda *textPara )bool {return _dfgd (_gbcge ._gdeb ,_bgda ._gdeb )};func _fagca (_ebec []pathSection ){if _cbgb < 0.0{return ;};if _acf {_f .Log .Info ("\u0067\u0072\u0061\u006e\u0075\u006c\u0061\u0072\u0069\u007a\u0065\u003a\u0020\u0025\u0064 \u0073u\u0062\u0070\u0061\u0074\u0068\u0020\u0073\u0065\u0063\u0074\u0069\u006f\u006e\u0073",len (_ebec ));
};for _bacf ,_cdac :=range _ebec {for _bbee ,_dcac :=range _cdac ._aca {for _fcefa ,_ggabd :=range _dcac ._cdde {_dcac ._cdde [_fcefa ]=_db .Point {X :_acgc (_ggabd .X ),Y :_acgc (_ggabd .Y )};if _acf {_cbaff :=_dcac ._cdde [_fcefa ];if !_dgbc (_ggabd ,_cbaff ){_bfde :=_db .Point {X :_cbaff .X -_ggabd .X ,Y :_cbaff .Y -_ggabd .Y };
_ge .Printf ("\u0025\u0034d \u002d\u0020\u00254\u0064\u0020\u002d\u0020%4d\u003a %\u002e\u0032\u0066\u0020\u2192\u0020\u0025.2\u0066\u0020\u0028\u0025\u0067\u0029\u000a",_bacf ,_bbee ,_fcefa ,_ggabd ,_cbaff ,_bfde );};};};};};};func _bfeba (_fddad map[int ][]float64 )[]int {_gdcbb :=make ([]int ,len (_fddad ));
_aaef :=0;for _bddd :=range _fddad {_gdcbb [_aaef ]=_bddd ;_aaef ++;};_b .Ints (_gdcbb );return _gdcbb ;};func (_edeba *wordBag )getDepthIdx (_babg float64 )int {_adba :=_edeba .depthIndexes ();_egbe :=_fagef (_babg );if _egbe < _adba [0]{return _adba [0];
};if _egbe > _adba [len (_adba )-1]{return _adba [len (_adba )-1];};return _egbe ;};func (_gbec *wordBag )depthRange (_edeb ,_gedcb int )[]int {var _fcgc []int ;for _abfcf :=range _gbec ._gfda {if _edeb <=_abfcf &&_abfcf <=_gedcb {_fcgc =append (_fcgc ,_abfcf );
};};if len (_fcgc )==0{return nil ;};_b .Ints (_fcgc );return _fcgc ;};func _bdabg (_edcc *textLine ,_faec []*textLine )float64 {var _gfba float64 =-1;for _ ,_dcaa :=range _faec {if _dcaa ._bdef > _edcc ._bdef {if _e .Round (_dcaa .Llx )>=_e .Round (_edcc .Llx ){_gfba =_dcaa ._bdef ;
}else {break ;};};};return _gfba ;};func (_bebfg *wordBag )removeWord (_abbgc *textWord ,_efgd int ){_gabb :=_bebfg ._gfda [_efgd ];_gabb =_cbdad (_gabb ,_abbgc );if len (_gabb )==0{delete (_bebfg ._gfda ,_efgd );}else {_bebfg ._gfda [_efgd ]=_gabb ;};
};func (_bbegf *textLine )toTextMarks (_acag *int )[]TextMark {var _bdcca []TextMark ;for _ ,_dabg :=range _bbegf ._bcfga {if _dabg ._bgcae {_bdcca =_cdeff (_bdcca ,_acag ,"\u0020");};_bgedf :=_dabg .toTextMarks (_acag );_bdcca =append (_bdcca ,_bgedf ...);
};return _bdcca ;};type gridTiling struct{_d .PdfRectangle ;_aefag []float64 ;_badcc []float64 ;_begfe map[float64 ]map[float64 ]gridTile ;};func (_dgadb rulingList )log (_dagg string ){if !_acf {return ;};_f .Log .Info ("\u0023\u0023\u0023\u0020\u0025\u0031\u0030\u0073\u003a\u0020\u0076\u0065c\u0073\u003d\u0025\u0073",_dagg ,_dgadb .String ());
for _ecfc ,_gaac :=range _dgadb {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ecfc ,_gaac .String ());};};func (_gfgeg rulingList )mergePrimary ()float64 {_edgdb :=_gfgeg [0]._aead ;for _ ,_dadc :=range _gfgeg [1:]{_edgdb +=_dadc ._aead ;
};return _edgdb /float64 (len (_gfgeg ));};func _cbdcd (_fcgcdf ,_adafd _db .Point )rulingKind {_dfccfe :=_e .Abs (_fcgcdf .X -_adafd .X );_fdbfd :=_e .Abs (_fcgcdf .Y -_adafd .Y );return _dbbec (_dfccfe ,_fdbfd ,_gaee );};func (_ecbf *shapesState )addPoint (_egag ,_bcbdb float64 ){_gbffb :=_ecbf .establishSubpath ();
_defb :=_ecbf .devicePoint (_egag ,_bcbdb );if _gbffb ==nil {_ecbf ._cffg =true ;_ecbf ._bdbgg =_defb ;}else {_gbffb .add (_defb );};};func _ffca (_gcadf string ,_afcf []rulingList ){_f .Log .Info ("\u0024\u0024 \u0025\u0064\u0020g\u0072\u0069\u0064\u0073\u0020\u002d\u0020\u0025\u0073",len (_afcf ),_gcadf );
for _gedceg ,_ggcf :=range _afcf {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_gedceg ,_ggcf .String ());};};func _faab (_cfbf []*_d .KValue ,_ffcf map[int ][]*textLine ,_afge _gb .PdfObject )[]*list {_cbbbe :=[]*list {};for _ ,_adbe :=range _cfbf {_dfbe :=_adbe .GetKDict ();
_bdce :=_dfbe .GetChildren ();_eaefe :=[]*textLine {};_cbed :=[]*list {};_dbfd :=_dfbe .S .(*_gb .PdfObjectName ).String ();_deed :=_bdce [0];_eebe :=_deed .GetMCID ();if len (_bdce )==1&&_eebe !=nil &&*_eebe !=-1{if _dfbe .Pg ==_afge {_eaefe =_ffcf [*_eebe ];
};}else {_cbed =_faab (_bdce ,_ffcf ,_afge );};_deaa :=_agded (_eaefe ,_dbfd ,_cbed );_cbbbe =append (_cbbbe ,_deaa );};return _cbbbe ;};func _fgaeg (_gecdg ,_aabg _db .Point )bool {_ffaf :=_e .Abs (_gecdg .X -_aabg .X );_fgcg :=_e .Abs (_gecdg .Y -_aabg .Y );
return _bcec (_ffaf ,_fgcg );};

// ExtractFonts returns all font information from the page extractor, including
// font name, font type, the raw data of the embedded font file (if embedded), font descriptor and more.
//
// The argument `previousPageFonts` is used when trying to build a complete font catalog for multiple pages or the entire document.
// The entries from `previousPageFonts` are added to the returned result unless already included in the page, i.e. no duplicate entries.
//
// NOTE: If previousPageFonts is nil, all fonts from the page will be returned. Use it when building up a full list of fonts for a document or page range.
func (_ggd *Extractor )ExtractFonts (previousPageFonts *PageFonts )(*PageFonts ,error ){_bda :=PageFonts {};_bbe :=_bda .extractPageResourcesToFont (_ggd ._gfgb );if _bbe !=nil {return nil ,_bbe ;};if previousPageFonts !=nil {for _ ,_cce :=range previousPageFonts .Fonts {if !_agde (_bda .Fonts ,_cce .FontName ){_bda .Fonts =append (_bda .Fonts ,_cce );
};};};return &PageFonts {Fonts :_bda .Fonts },nil ;};func (_efcab gridTile )contains (_cfbe _d .PdfRectangle )bool {if _efcab .numBorders ()< 3{return false ;};if _efcab ._bccf &&_cfbe .Llx < _efcab .Llx -_efcc {return false ;};if _efcab ._eecf &&_cfbe .Urx > _efcab .Urx +_efcc {return false ;
};if _efcab ._efbdg &&_cfbe .Lly < _efcab .Lly -_efcc {return false ;};if _efcab ._acbg &&_cfbe .Ury > _efcab .Ury +_efcc {return false ;};return true ;};func (_dbgc *textObject )moveLP (_bbea ,_bdfb float64 ){_dbgc ._fdaa .Concat (_db .NewMatrix (1,0,0,1,_bbea ,_bdfb ));
_dbgc ._edgg =_dbgc ._fdaa ;};type paraList []*textPara ;type lineRuling struct{_fabfb rulingKind ;_cebce markKind ;_ce .Color ;_bfaad ,_gbgg _db .Point ;};func _fg (_fed []string ,_ad int ,_cg int ){for _cac ,_fge :=_ad ,_cg -1;_cac < _fge ;_cac ,_fge =_cac +1,_fge -1{_bb :=_fed [_cac ];
_fed [_cac ]=_fed [_fge ];_fed [_fge ]=_bb ;};};func (_daaf *stateStack )size ()int {return len (*_daaf )};var _gaca *_bg .Regexp =_bg .MustCompile (_edec +"\u007c"+_becff );func _ceeca (_ebggc []_gb .PdfObject )(_bcbea ,_fgeab float64 ,_bbdcg error ){if len (_ebggc )!=2{return 0,0,_ge .Errorf ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0073\u003a \u0025\u0064",len (_ebggc ));
};_dbbdc ,_bbdcg :=_gb .GetNumbersAsFloat (_ebggc );if _bbdcg !=nil {return 0,0,_bbdcg ;};return _dbbdc [0],_dbbdc [1],nil ;};

// String returns a string describing `ma`.
func (_fagac TextMarkArray )String ()string {_ebdd :=len (_fagac ._ecdd );if _ebdd ==0{return "\u0045\u004d\u0050T\u0059";};_adec :=_fagac ._ecdd [0];_dfgg :=_fagac ._ecdd [_ebdd -1];return _ge .Sprintf ("\u007b\u0054\u0045\u0058\u0054\u004d\u0041\u0052K\u0041\u0052\u0052AY\u003a\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025s\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d%\u0073\u007d",_ebdd ,_adec ,_dfgg );
};func (_gbae *textTable )isExportable ()bool {if _gbae ._beced {return true ;};_gdbfa :=func (_ecdg int )bool {_eegg :=_gbae .get (0,_ecdg );if _eegg ==nil {return false ;};_abffe :=_eegg .text ();_bgcc :=_fba .RuneCountInString (_abffe );_aegg :=_cbbc .MatchString (_abffe );
return _bgcc <=1||_aegg ;};for _eecdb :=0;_eecdb < _gbae ._ecdae ;_eecdb ++{if !_gdbfa (_eecdb ){return true ;};};return false ;};func (_cceb *wordBag )makeRemovals ()map[int ]map[*textWord ]struct{}{_cbbb :=make (map[int ]map[*textWord ]struct{},len (_cceb ._gfda ));
for _dgab :=range _cceb ._gfda {_cbbb [_dgab ]=make (map[*textWord ]struct{});};return _cbbb ;};func (_dcdc *textLine )markWordBoundaries (){_cbafc :=_cbba *_dcdc ._caad ;for _bgaab ,_ececd :=range _dcdc ._bcfga [1:]{if _gbcg (_ececd ,_dcdc ._bcfga [_bgaab ])>=_cbafc {_ececd ._bgcae =true ;
};};};func (_adfb *wordBag )applyRemovals (_dafd map[int ]map[*textWord ]struct{}){for _cab ,_afg :=range _dafd {if len (_afg )==0{continue ;};_fefb :=_adfb ._gfda [_cab ];_acd :=len (_fefb )-len (_afg );if _acd ==0{delete (_adfb ._gfda ,_cab );continue ;
};_fcefc :=make ([]*textWord ,_acd );_caga :=0;for _ ,_efcgc :=range _fefb {if _ ,_dbb :=_afg [_efcgc ];!_dbb {_fcefc [_caga ]=_efcgc ;_caga ++;};};_adfb ._gfda [_cab ]=_fcefc ;};};func (_aba *imageExtractContext )extractXObjectImage (_dgg *_gb .PdfObjectName ,_cbd _af .GraphicsState ,_edcg *_d .PdfPageResources )error {_fce ,_ :=_edcg .GetXObjectByName (*_dgg );
if _fce ==nil {return nil ;};_cdeb ,_gcd :=_aba ._fde [_fce ];if !_gcd {_fceb ,_acb :=_edcg .GetXObjectImageByName (*_dgg );if _acb !=nil {return _acb ;};if _fceb ==nil {return nil ;};_dag ,_acb :=_fceb .ToImage ();if _acb !=nil {return _acb ;};var _egg _aaf .Image ;
if _fceb .Mask !=nil {if _egg ,_acb =_gbffd (_fceb .Mask ,_ce .Opaque );_acb !=nil {_f .Log .Debug ("\u0057\u0041\u0052\u004e\u003a \u0063\u006f\u0075\u006c\u0064 \u006eo\u0074\u0020\u0067\u0065\u0074\u0020\u0065\u0078\u0070\u006c\u0069\u0063\u0069\u0074\u0020\u0069\u006d\u0061\u0067e\u0020\u006d\u0061\u0073\u006b\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e");
};}else if _fceb .SMask !=nil {_egg ,_acb =_gdca (_fceb .SMask ,_ce .Opaque );if _acb !=nil {_f .Log .Debug ("W\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0067\u0065\u0074\u0020\u0073\u006f\u0066\u0074\u0020\u0069\u006da\u0067e\u0020\u006d\u0061\u0073k\u002e\u0020O\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
};};if _egg !=nil {_fage ,_de :=_dag .ToGoImage ();if _de !=nil {return _de ;};_fage =_adeae (_fage ,_egg );switch _fceb .ColorSpace .String (){case "\u0044\u0065\u0076\u0069\u0063\u0065\u0047\u0072\u0061\u0079","\u0049n\u0064\u0065\u0078\u0065\u0064":_dag ,_de =_d .ImageHandling .NewGrayImageFromGoImage (_fage );
if _de !=nil {return _de ;};default:_dag ,_de =_d .ImageHandling .NewImageFromGoImage (_fage );if _de !=nil {return _de ;};};};_cdeb =&cachedImage {_bcgc :_dag ,_dc :_fceb .ColorSpace };_aba ._fde [_fce ]=_cdeb ;};_cdbd :=_cdeb ._bcgc ;_bbc :=_cdeb ._dc ;
_ded ,_efe :=_bbc .ImageToRGB (*_cdbd );if _efe !=nil {return _efe ;};_f .Log .Debug ("@\u0044\u006f\u0020\u0043\u0054\u004d\u003a\u0020\u0025\u0073",_cbd .CTM .String ());_abbg :=ImageMark {Image :&_ded ,Width :_cbd .CTM .ScalingFactorX (),Height :_cbd .CTM .ScalingFactorY (),Angle :_cbd .CTM .Angle ()};
_abbg .X ,_abbg .Y =_cbd .CTM .Translation ();_aba ._dgb =append (_aba ._dgb ,_abbg );_aba ._gcbg ++;return nil ;};func (_facb *shapesState )stroke (_agf *[]pathSection ){_aafg :=pathSection {_aca :_facb ._cbce ,Color :_facb ._daff .getStrokeColor ()};
*_agf =append (*_agf ,_aafg );if _acf {_ge .Printf ("\u0020 \u0020\u0020S\u0054\u0052\u004fK\u0045\u003a\u0020\u0025\u0064\u0020\u0073t\u0072\u006f\u006b\u0065\u0073\u0020s\u0073\u003d\u0025\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d%\u002b\u0076\u0020\u0025\u0036\u002e\u0032\u0066\u000a",len (*_agf ),_facb ,_facb ._daff .getStrokeColor (),_aafg .bbox ());
if _eadb {for _eaad ,_aeee :=range _facb ._cbce {_ge .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_eaad ,_aeee );if _eaad ==10{break ;};};};};};func _bcec (_egab ,_eecbc float64 )bool {return _egab /_e .Max (_gbbc ,_eecbc )< _cbde };func _aebce (_cdbf _db .Matrix )_db .Point {_acbf ,_egb :=_cdbf .Translation ();
return _db .Point {X :_acbf ,Y :_egb };};type textResult struct{_bdda PageText ;_bgdc int ;_eeea int ;};func (_effg *textPara )writeText (_ebad _fb .Writer ){if _effg ._cgbdg ==nil {_effg .writeCellText (_ebad );return ;};for _aged :=0;_aged < _effg ._cgbdg ._ecdae ;
_aged ++{for _efaf :=0;_efaf < _effg ._cgbdg ._dafge ;_efaf ++{_edccf :=_effg ._cgbdg .get (_efaf ,_aged );if _edccf ==nil {_ebad .Write ([]byte ("\u0009"));}else {_ecbb (_edccf ._cbdb );_edccf .writeCellText (_ebad );};_ebad .Write ([]byte ("\u0020"));
};if _aged < _effg ._cgbdg ._ecdae -1{_ebad .Write ([]byte ("\u000a"));};};};type markKind int ;func (_gge *imageExtractContext )extractContentStreamImages (_cef string ,_adf *_d .PdfPageResources )error {_ccbe :=_af .NewContentStreamParser (_cef );_gdf ,_dae :=_ccbe .Parse ();
if _dae !=nil {return _dae ;};if _gge ._fde ==nil {_gge ._fde =map[*_gb .PdfObjectStream ]*cachedImage {};};if _gge ._edc ==nil {_gge ._edc =&ImageExtractOptions {};};_efb :=_af .NewContentStreamProcessor (*_gdf );_efb .AddHandler (_af .HandlerConditionEnumAllOperands ,"",_gge .processOperand );
return _efb .Process (_adf );};func _dbbec (_ffbgc ,_fgcaa ,_bbed float64 )rulingKind {if _ffbgc >=_bbed &&_bcec (_fgcaa ,_ffbgc ){return _ddeae ;};if _fgcaa >=_bbed &&_bcec (_ffbgc ,_fgcaa ){return _bbffc ;};return _ggbbc ;};func (_fafb *subpath )removeDuplicates (){if len (_fafb ._cdde )==0{return ;
};_gged :=[]_db .Point {_fafb ._cdde [0]};for _ ,_dedc :=range _fafb ._cdde [1:]{if !_dgbc (_dedc ,_gged [len (_gged )-1]){_gged =append (_gged ,_dedc );};};_fafb ._cdde =_gged ;};

// Extractor stores and offers functionality for extracting content from PDF pages.
type Extractor struct{_ccd string ;_gfgb *_d .PdfPageResources ;_agc _d .PdfRectangle ;_bab *_d .PdfRectangle ;_bece int ;_caaf map[string ]fontEntry ;_ege map[string ]textResult ;_ed map[string ]textResult ;_eb int64 ;_gbb int ;_cacf *Options ;_afb *_d .StructTreeRoot ;
_ffc _gb .PdfObject ;_fbd []*_d .PdfAnnotation ;};

// Marks returns the TextMark collection for a page. It represents all the text on the page.
func (_geaed PageText )Marks ()*TextMarkArray {return &TextMarkArray {_ecdd :_geaed ._ccdac }};

// ImageExtractOptions contains options for controlling image extraction from
// PDF pages.
type ImageExtractOptions struct{IncludeInlineStencilMasks bool ;};func (_bbaf *subpath )makeRectRuling (_fgdde _ce .Color )(*ruling ,bool ){if _ebbb {_f .Log .Info ("\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0070\u0061\u0074\u0068\u003d\u0025\u0076",_bbaf );
};_adgag :=_bbaf ._cdde [:4];_cgefe :=make (map[int ]rulingKind ,len (_adgag ));for _bgfeg ,_fecf :=range _adgag {_edfab :=_bbaf ._cdde [(_bgfeg +1)%4];_cgefe [_bgfeg ]=_fgbff (_fecf ,_edfab );if _ebbb {_ge .Printf ("\u0025\u0034\u0064: \u0025\u0073\u0020\u003d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066",_bgfeg ,_cgefe [_bgfeg ],_fecf ,_edfab );
};};if _ebbb {_ge .Printf ("\u0020\u0020\u0020\u006b\u0069\u006e\u0064\u0073\u003d\u0025\u002b\u0076\u000a",_cgefe );};var _begb ,_fgdg []int ;for _ffcg ,_fdbc :=range _cgefe {switch _fdbc {case _ddeae :_fgdg =append (_fgdg ,_ffcg );case _bbffc :_begb =append (_begb ,_ffcg );
};};if _ebbb {_ge .Printf ("\u0020\u0020 \u0068\u006f\u0072z\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_fgdg ),_fgdg );_ge .Printf ("\u0020\u0020 \u0076\u0065\u0072t\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_begb ),_begb );
};_baafb :=(len (_fgdg )==2&&len (_begb )==2)||(len (_fgdg )==2&&len (_begb )==0&&_edgbae (_adgag [_fgdg [0]],_adgag [_fgdg [1]]))||(len (_begb )==2&&len (_fgdg )==0&&_fgaeg (_adgag [_begb [0]],_adgag [_begb [1]]));if _ebbb {_ge .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_fgdg ),len (_begb ),_baafb );
};if !_baafb {if _ebbb {_f .Log .Error ("\u0021!\u006d\u0061\u006b\u0065R\u0065\u0063\u0074\u0052\u0075l\u0069n\u0067:\u0020\u0070\u0061\u0074\u0068\u003d\u0025v",_bbaf );_ge .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_fgdg ),len (_begb ),_baafb );
};return &ruling {},false ;};if len (_begb )==0{for _dbgdaa ,_afda :=range _cgefe {if _afda !=_ddeae {_begb =append (_begb ,_dbgdaa );};};};if len (_fgdg )==0{for _babge ,_edcd :=range _cgefe {if _edcd !=_bbffc {_fgdg =append (_fgdg ,_babge );};};};if _ebbb {_f .Log .Info ("\u006da\u006b\u0065R\u0065\u0063\u0074\u0052u\u006c\u0069\u006eg\u003a\u0020\u0068\u006f\u0072\u007a\u0073\u003d\u0025d \u0076\u0065\u0072t\u0073\u003d%\u0064\u0020\u0070\u006f\u0069\u006et\u0073\u003d%\u0064\u000a"+"\u0009\u0020\u0068o\u0072\u007a\u0073\u003d\u0025\u002b\u0076\u000a"+"\u0009\u0020\u0076e\u0072\u0074\u0073\u003d\u0025\u002b\u0076\u000a"+"\t\u0070\u006f\u0069\u006e\u0074\u0073\u003d\u0025\u002b\u0076",len (_fgdg ),len (_begb ),len (_adgag ),_fgdg ,_begb ,_adgag );
};var _ebgg ,_bafb ,_dced ,_abcge _db .Point ;if _adgag [_fgdg [0]].Y > _adgag [_fgdg [1]].Y {_dced ,_abcge =_adgag [_fgdg [0]],_adgag [_fgdg [1]];}else {_dced ,_abcge =_adgag [_fgdg [1]],_adgag [_fgdg [0]];};if _adgag [_begb [0]].X > _adgag [_begb [1]].X {_ebgg ,_bafb =_adgag [_begb [0]],_adgag [_begb [1]];
}else {_ebgg ,_bafb =_adgag [_begb [1]],_adgag [_begb [0]];};_aafba :=_d .PdfRectangle {Llx :_ebgg .X ,Urx :_bafb .X ,Lly :_abcge .Y ,Ury :_dced .Y };if _aafba .Llx > _aafba .Urx {_aafba .Llx ,_aafba .Urx =_aafba .Urx ,_aafba .Llx ;};if _aafba .Lly > _aafba .Ury {_aafba .Lly ,_aafba .Ury =_aafba .Ury ,_aafba .Lly ;
};_dcfc :=rectRuling {PdfRectangle :_aafba ,_cefdd :_dddg (_aafba ),Color :_fgdde };if _dcfc ._cefdd ==_ggbbc {if _ebbb {_f .Log .Error ("\u006da\u006b\u0065\u0052\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006eg\u003a\u0020\u006b\u0069\u006e\u0064\u003d\u006e\u0069\u006c");
};return nil ,false ;};_eadba ,_afbcd :=_dcfc .asRuling ();if !_afbcd {if _ebbb {_f .Log .Error ("\u006da\u006b\u0065\u0052\u0065c\u0074\u0052\u0075\u006c\u0069n\u0067:\u0020!\u0069\u0073\u0052\u0075\u006c\u0069\u006eg");};return nil ,false ;};if _acf {_ge .Printf ("\u0020\u0020\u0020\u0072\u003d\u0025\u0073\u000a",_eadba .String ());
};return _eadba ,true ;};func (_ffga *wordBag )scanBand (_ddea string ,_ffgb *wordBag ,_fceg func (_gefdb *wordBag ,_ccfff *textWord )bool ,_acab ,_dfcf ,_ceea float64 ,_edf ,_aaea bool )int {_egcf :=_ffgb ._gdba ;var _ebge map[int ]map[*textWord ]struct{};
if !_edf {_ebge =_ffga .makeRemovals ();};_dacb :=_ecgg *_egcf ;_caeg :=0;for _ ,_edcae :=range _ffga .depthBand (_acab -_dacb ,_dfcf +_dacb ){if len (_ffga ._gfda [_edcae ])==0{continue ;};for _ ,_babb :=range _ffga ._gfda [_edcae ]{if !(_acab -_dacb <=_babb ._cgbe &&_babb ._cgbe <=_dfcf +_dacb ){continue ;
};if !_fceg (_ffgb ,_babb ){continue ;};_fagc :=2.0*_e .Abs (_babb ._aecae -_ffgb ._gdba )/(_babb ._aecae +_ffgb ._gdba );_gabgc :=_e .Max (_babb ._aecae /_ffgb ._gdba ,_ffgb ._gdba /_babb ._aecae );_bggd :=_e .Min (_fagc ,_gabgc );if _ceea > 0&&_bggd > _ceea {continue ;
};if _ffgb .blocked (_babb ){continue ;};if !_edf {_ffgb .pullWord (_babb ,_edcae ,_ebge );};_caeg ++;if !_aaea {if _babb ._cgbe < _acab {_acab =_babb ._cgbe ;};if _babb ._cgbe > _dfcf {_dfcf =_babb ._cgbe ;};};if _edf {break ;};};};if !_edf {_ffga .applyRemovals (_ebge );
};return _caeg ;};func (_gcgf *textTable )getDown ()paraList {_beab :=make (paraList ,_gcgf ._dafge );for _cbag :=0;_cbag < _gcgf ._dafge ;_cbag ++{_eaadba :=_gcgf .get (_cbag ,_gcgf ._ecdae -1)._cbfga ;if _eaadba .taken (){return nil ;};_beab [_cbag ]=_eaadba ;
};for _bcaff :=0;_bcaff < _gcgf ._dafge -1;_bcaff ++{if _beab [_bcaff ]._fbab !=_beab [_bcaff +1]{return nil ;};};return _beab ;};func (_gfaf *shapesState )fill (_bgfd *[]pathSection ){_ddbd :=pathSection {_aca :_gfaf ._cbce ,Color :_gfaf ._daff .getFillColor ()};
*_bgfd =append (*_bgfd ,_ddbd );if _acf {_afcdf :=_ddbd .bbox ();_ge .Printf ("\u0020 \u0020\u0020\u0046\u0049\u004c\u004c\u003a %\u0032\u0064\u0020\u0066\u0069\u006c\u006c\u0073\u0020\u0028\u0025\u0064\u0020\u006ee\u0077\u0029 \u0073\u0073\u003d%\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d\u0025\u0033\u0076\u0020\u0025\u0036\u002e\u0032f\u003d\u00256.\u0032\u0066\u0078%\u0036\u002e\u0032\u0066\u000a",len (*_bgfd ),len (_ddbd ._aca ),_gfaf ,_ddbd .Color ,_afcdf ,_afcdf .Width (),_afcdf .Height ());
if _eadb {for _gaa ,_efbgc :=range _ddbd ._aca {_ge .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_gaa ,_efbgc );if _gaa ==10{break ;};};};};};func (_ddffc *textTable )emptyCompositeRow (_caca int )bool {for _gfdfd :=0;_gfdfd < _ddffc ._dafge ;
_gfdfd ++{if _bcagb ,_fecg :=_ddffc ._agdcc [_aaaeca (_gfdfd ,_caca )];_fecg {if len (_bcagb .paraList )> 0{return false ;};};};return true ;};func _egaa (_bdcc _d .PdfRectangle )textState {return textState {_bgfa :100,_gdfc :RenderModeFill ,_cgace :_bdcc };
};func (_dgbgg *textPara )taken ()bool {return _dgbgg ==nil ||_dgbgg ._agbfd };func (_daef *Extractor )extractPageText (_ddfa string ,_gaf *_d .PdfPageResources ,_cgcf _db .Matrix ,_efeb int ,_eeed bool )(*PageText ,int ,int ,error ){_f .Log .Trace ("\u0065x\u0074\u0072\u0061\u0063t\u0050\u0061\u0067\u0065\u0054e\u0078t\u003a \u006c\u0065\u0076\u0065\u006c\u003d\u0025d",_efeb );
_fbdac :=&PageText {_dfeg :_daef ._agc ,_gbff :_daef ._afb ,_bagc :_daef ._ffc };_bedc :=_egaa (_daef ._agc );var _ebbc stateStack ;_cfbb :=_ccfg (_daef ,_gaf ,_af .GraphicsState {},&_bedc ,&_ebbc );_feae :=shapesState {_dcdgd :_cgcf ,_abed :_db .IdentityMatrix (),_daff :_cfbb };
var _bgg bool ;_gebf :=-1;_fgfd :="";if _efeb > _eacg {_eec :=_eg .New ("\u0066\u006f\u0072\u006d s\u0074\u0061\u0063\u006b\u0020\u006f\u0076\u0065\u0072\u0066\u006c\u006f\u0077");_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0065\u0078\u0074\u0072\u0061\u0063\u0074\u0050\u0061\u0067\u0065\u0054\u0065\u0078\u0074\u002e\u0020\u0072\u0065\u0063u\u0072\u0073\u0069\u006f\u006e\u0020\u006c\u0065\u0076\u0065\u006c\u003d\u0025\u0064 \u0065r\u0072\u003d\u0025\u0076",_efeb ,_eec );
return _fbdac ,_bedc ._eaeg ,_bedc ._dgda ,_eec ;};_fdge :=_af .NewContentStreamParser (_ddfa );_bde ,_eadd :=_fdge .Parse ();if _eadd !=nil {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020e\u0078\u0074\u0072a\u0063\u0074\u0050\u0061g\u0065\u0054\u0065\u0078\u0074\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_eadd );
return _fbdac ,_bedc ._eaeg ,_bedc ._dgda ,_eadd ;};_fbdac ._ggbb =_bde ;_fgae :=_af .NewContentStreamProcessor (*_bde );if _daef ._cacf !=nil {_fgae .SetRelaxedMode (_daef ._cacf .RelaxedMode );};_fgae .AddHandler (_af .HandlerConditionEnumAllOperands ,"",func (_feeb *_af .ContentStreamOperation ,_gfc _af .GraphicsState ,_edcf *_d .PdfPageResources )error {_dbcd :=_feeb .Operand ;
if _bebb {_f .Log .Info ("\u0026&\u0026\u0020\u006f\u0070\u003d\u0025s",_feeb );};switch _dbcd {case "\u0071":if _cbge {_f .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_feae ._abed );};_ebbc .push (&_bedc );case "\u0051":if !_ebbc .empty (){_bedc =*_ebbc .pop ();
};_feae ._abed =_gfc .CTM ;if _cbge {_f .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_feae ._abed );};case "\u0042\u0044\u0043":_dadf ,_gfd :=_gb .GetDict (_feeb .Params [1]);if !_gfd {_f .Log .Debug ("\u0045\u0052\u0052O\u0052\u003a\u0020\u0042D\u0043\u0020\u006f\u0070\u003d\u0025\u0073 \u0047\u0065\u0074\u0044\u0069\u0063\u0074\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_feeb );
return _eadd ;};_egeg :=_dadf .Get ("\u004d\u0043\u0049\u0044");if _egeg !=nil {_bedd ,_bbgd :=_gb .GetIntVal (_egeg );if !_bbgd {_f .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0042\u0044C\u0020\u006f\u0070=\u0025\u0073\u002e\u0020\u0042\u0061\u0064\u0020\u006eum\u0065\u0072\u0069c\u0061\u006c \u006f\u0062\u006a\u0065\u0063\u0074.\u0020\u006f=\u0025\u0073",_feeb ,_egeg );
};_gebf =_bedd ;}else {_gebf =-1;};if _daef ._afb !=nil &&_gebf !=-1&&_daef ._bece !=-1&&_daef ._afb .ParentTree !=nil {_bdd :=_daef ._bece ;var _gecg func (_cgca []*_d .KValue )bool ;_gecg =func (_baee []*_d .KValue )bool {for _ ,_ccec :=range _baee {if _fbeec :=_ccec .GetKDict ();
_fbeec !=nil {_cbdc :=_fbeec .GetChildren ();if len (_cbdc )==1&&_cbdc [0].GetMCID ()!=nil {if *_cbdc [0].GetMCID ()==_gebf {if _fbeec .ActualText !=nil {_fgfd =_df .TrimSpace (_fbeec .ActualText .Str ());return true ;};return false ;};}else {return _gecg (_cbdc );
};};};return false ;};if _cede :=_daef ._afb .ParentTree .Get ("\u004e\u0075\u006d\u0073");_cede !=nil {_eae ,_ecdb :=_gb .GetArray (_cede );if !_ecdb {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0042\u0044\u0043\u0020\u006f\u0070\u003d\u0025\u0073\u002e\u0020\u0042\u0061\u0064\u0020\u004e\u0075m\u0073\u0020\u0061\u0072\u0072a\u0079\u002e \u006f\u003d\u0025\u0073",_feeb ,_cede );
}else {for _gdbc :=0;_gdbc < _eae .Len ();_gdbc +=2{if _aece ,_dggc :=_gb .GetInt (_eae .Get (_gdbc ));_dggc {if int (*_aece )==_bdd {if _bfa :=_eae .Get (_gdbc +1);_bfa !=nil {if _bebe ,_gdde :=_gb .GetArray (_bfa );_gdde {for _ ,_dcd :=range _bebe .Elements (){_dfga ,_agcg :=_d .NewKDictFromPdfObject (_dcd );
if _agcg !=nil {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0042\u0044\u0043\u0020\u006f\u0070\u003d\u0025\u0073\u002e\u0020\u0042\u0061d\u0020\u004b\u0044\u0069\u0063\u0074\u002e \u006f\u003d\u0025\u0073",_feeb ,_dcd );continue ;};_ffgf :=_dfga .GetChildren ();
if len (_ffgf )==1&&_ffgf [0].GetMCID ()!=nil {if *_ffgf [0].GetMCID ()==_gebf {if _dfga .ActualText !=nil {_fgfd =_df .TrimSpace (_dfga .ActualText .Str ());};break ;}else if _gecg (_ffgf ){break ;};};};};};};};};};};};if _fgfd ==""{_dgc :=_dadf .Get ("\u0041\u0063\u0074\u0075\u0061\u006c\u0054\u0065\u0078\u0074");
if _dgc !=nil {_fgfd =_df .TrimSpace (_dgc .String ());};};case "\u0045\u004d\u0043":_gebf =-1;_fgfd ="";case "\u0042\u0054":if _bgg {_f .Log .Debug ("\u0042\u0054\u0020\u0063\u0061\u006c\u006c\u0065\u0064\u0020\u0077\u0068\u0069\u006c\u0065 \u0069n\u0020\u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");
_fbdac ._ccbg =append (_fbdac ._ccbg ,_cfbb ._faed ...);};_bgg =true ;_bcbd :=_gfc ;if _eeed {_bcbd =_af .GraphicsState {};_bcbd .CTM =_feae ._abed ;};_bcbd .CTM =_cgcf .Mult (_bcbd .CTM );_cfbb =_ccfg (_daef ,_edcf ,_bcbd ,&_bedc ,&_ebbc );_feae ._daff =_cfbb ;
case "\u0045\u0054":if !_bgg {_f .Log .Debug ("\u0045\u0054\u0020ca\u006c\u006c\u0065\u0064\u0020\u006f\u0075\u0074\u0073i\u0064e\u0020o\u0066 \u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");};_bgg =false ;_fbdac ._ccbg =append (_fbdac ._ccbg ,_cfbb ._faed ...);
_cfbb .reset ();case "\u0054\u002a":_cfbb .nextLine ();case "\u0054\u0064":if _daaa ,_aebb :=_cfbb .checkOp (_feeb ,2,true );!_daaa {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_aebb );return _aebb ;
};_befa ,_ddgg ,_bdbg :=_ceeca (_feeb .Params );if _bdbg !=nil {return _bdbg ;};_cfbb .moveText (_befa ,_ddgg );case "\u0054\u0044":if _cagc ,_bfd :=_cfbb .checkOp (_feeb ,2,true );!_cagc {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bfd );
return _bfd ;};_adbb ,_becee ,_edad :=_ceeca (_feeb .Params );if _edad !=nil {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_edad );return _edad ;};_cfbb .moveTextSetLeading (_adbb ,_becee );case "\u0054\u006a":if _febe ,_becf :=_cfbb .checkOp (_feeb ,1,true );
!_febe {_f .Log .Debug ("\u0045\u0052\u0052\u004fR:\u0020\u0054\u006a\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0065\u0072\u0072\u003d%\u0076",_feeb ,_becf );return _becf ;};_fccb :=_gb .TraceToDirectObject (_feeb .Params [0]);_fgfc ,_gebg :=_gb .GetStringBytes (_fccb );
if !_gebg {_f .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020T\u006a\u0020o\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074S\u0074\u0072\u0069\u006e\u0067\u0042\u0079\u0074\u0065\u0073\u0020\u0066a\u0069\u006c\u0065\u0064",_feeb );return _gb .ErrTypeError ;
};return _cfbb .showText (_fccb ,_fgfc ,_gebf ,_fgfd );case "\u0054\u004a":if _fgec ,_beff :=_cfbb .checkOp (_feeb ,1,true );!_fgec {_f .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_beff );return _beff ;
};_fac ,_cdag :=_gb .GetArray (_feeb .Params [0]);if !_cdag {_f .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0054\u004a\u0020\u006f\u0070\u003d\u0025s\u0020G\u0065t\u0041r\u0072\u0061\u0079\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_feeb );
return _eadd ;};return _cfbb .showTextAdjusted (_fac ,_gebf ,_fgfd );case "\u0027":if _ddag ,_efbg :=_cfbb .checkOp (_feeb ,1,true );!_ddag {_f .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0027\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_efbg );return _efbg ;
};_gef :=_gb .TraceToDirectObject (_feeb .Params [0]);_efg ,_bfgb :=_gb .GetStringBytes (_gef );if !_bfgb {_f .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020'\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_feeb );
return _gb .ErrTypeError ;};_cfbb .nextLine ();return _cfbb .showText (_gef ,_efg ,_gebf ,_fgfd );case "\u0022":if _bfac ,_adee :=_cfbb .checkOp (_feeb ,3,true );!_bfac {_f .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0022\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_adee );
return _adee ;};_bfbe ,_cacd ,_deec :=_ceeca (_feeb .Params [:2]);if _deec !=nil {return _deec ;};_dcce :=_gb .TraceToDirectObject (_feeb .Params [2]);_aaeg ,_gga :=_gb .GetStringBytes (_dcce );if !_gga {_f .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020\"\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_feeb );
return _gb .ErrTypeError ;};_cfbb .setCharSpacing (_bfbe );_cfbb .setWordSpacing (_cacd );_cfbb .nextLine ();return _cfbb .showText (_dcce ,_aaeg ,_gebf ,_fgfd );case "\u0054\u004c":_aecg ,_bdgb :=_baga (_feeb );if _bdgb !=nil {_f .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004c\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bdgb );
return _bdgb ;};_cfbb .setTextLeading (_aecg );case "\u0054\u0063":_eeaf ,_dafg :=_baga (_feeb );if _dafg !=nil {_f .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0063\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_dafg );return _dafg ;};_cfbb .setCharSpacing (_eeaf );
case "\u0054\u0066":if _ccdb ,_ggae :=_cfbb .checkOp (_feeb ,2,true );!_ccdb {_f .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0066\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ggae );return _ggae ;};_bagg ,_bcdg :=_gb .GetNameVal (_feeb .Params [0]);
if !_bcdg {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u004ea\u006d\u0065\u0056\u0061\u006c\u0020\u0066a\u0069\u006c\u0065\u0064",_feeb );return _gb .ErrTypeError ;};_feba ,_afff :=_gb .GetNumberAsFloat (_feeb .Params [1]);
if !_bcdg {_f .Log .Debug ("\u0045\u0052\u0052O\u0052\u003a\u0020\u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u0046\u006c\u006f\u0061\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065d\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_feeb ,_afff );
return _afff ;};_afff =_cfbb .setFont (_bagg ,_feba );_cfbb ._caaa =_eg .Is (_afff ,_gb .ErrNotSupported );if _afff !=nil &&!_cfbb ._caaa {return _afff ;};case "\u0054\u006d":if _cgcd ,_egae :=_cfbb .checkOp (_feeb ,6,true );!_cgcd {_f .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u006d\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_egae );
return _egae ;};_decg ,_gegd :=_gb .GetNumbersAsFloat (_feeb .Params );if _gegd !=nil {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_gegd );return _gegd ;};_cfbb .setTextMatrix (_decg );case "\u0054\u0072":if _aagd ,_ecgb :=_cfbb .checkOp (_feeb ,1,true );
!_aagd {_f .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0072\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ecgb );return _ecgb ;};_agbf ,_abf :=_gb .GetIntVal (_feeb .Params [0]);if !_abf {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0072\u0020\u006f\u0070\u003d\u0025\u0073 \u0047e\u0074\u0049\u006e\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_feeb );
return _gb .ErrTypeError ;};_cfbb .setTextRenderMode (_agbf );case "\u0054\u0073":if _bcbdg ,_dfea :=_cfbb .checkOp (_feeb ,1,true );!_bcbdg {_f .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0073\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_dfea );
return _dfea ;};_cbg ,_efca :=_gb .GetNumberAsFloat (_feeb .Params [0]);if _efca !=nil {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_efca );return _efca ;};_cfbb .setTextRise (_cbg );case "\u0054\u0077":if _ggec ,_bcge :=_cfbb .checkOp (_feeb ,1,true );
!_ggec {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bcge );return _bcge ;};_faee ,_cedeb :=_gb .GetNumberAsFloat (_feeb .Params [0]);if _cedeb !=nil {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_cedeb );
return _cedeb ;};_cfbb .setWordSpacing (_faee );case "\u0054\u007a":if _cdee ,_bege :=_cfbb .checkOp (_feeb ,1,true );!_cdee {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bege );return _bege ;};_dgee ,_dgcd :=_gb .GetNumberAsFloat (_feeb .Params [0]);
if _dgcd !=nil {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_dgcd );return _dgcd ;};_cfbb .setHorizScaling (_dgee );case "\u0063\u006d":if !_eeed {_feae ._abed =_gfc .CTM ;};if _feae ._abed .Singular (){_ebbcc :=_db .IdentityMatrix ().Translate (_feae ._abed .Translation ());
_f .Log .Debug ("S\u0069n\u0067\u0075\u006c\u0061\u0072\u0020\u0063\u0074m\u003d\u0025\u0073\u2192%s",_feae ._abed ,_ebbcc );_feae ._abed =_ebbcc ;};if _cbge {_f .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_feae ._abed );};case "\u006d":if len (_feeb .Params )!=2{_f .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_ecab );
return nil ;};_adfa ,_gcad :=_gb .GetNumbersAsFloat (_feeb .Params );if _gcad !=nil {return _gcad ;};_feae .moveTo (_adfa [0],_adfa [1]);case "\u006c":if len (_feeb .Params )!=2{_f .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_ecab );
return nil ;};_gcda ,_gbge :=_gb .GetNumbersAsFloat (_feeb .Params );if _gbge !=nil {return _gbge ;};_feae .lineTo (_gcda [0],_gcda [1]);case "\u0063":if len (_feeb .Params )!=6{return _ecab ;};_cad ,_baeb :=_gb .GetNumbersAsFloat (_feeb .Params );if _baeb !=nil {return _baeb ;
};_f .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_cad );_feae .cubicTo (_cad [0],_cad [1],_cad [2],_cad [3],_cad [4],_cad [5]);case "\u0076","\u0079":if len (_feeb .Params )!=4{return _ecab ;
};_cgd ,_fff :=_gb .GetNumbersAsFloat (_feeb .Params );if _fff !=nil {return _fff ;};_f .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_cgd );_feae .quadraticTo (_cgd [0],_cgd [1],_cgd [2],_cgd [3]);
case "\u0068":_feae .closePath ();case "\u0072\u0065":if len (_feeb .Params )!=4{return _ecab ;};_gce ,_dgge :=_gb .GetNumbersAsFloat (_feeb .Params );if _dgge !=nil {return _dgge ;};_feae .drawRectangle (_gce [0],_gce [1],_gce [2],_gce [3]);_feae .closePath ();
case "\u0053":_feae .stroke (&_fbdac ._gfa );_feae .clearPath ();case "\u0073":_feae .closePath ();_feae .stroke (&_fbdac ._gfa );_feae .clearPath ();case "\u0046":_feae .fill (&_fbdac ._dgec );_feae .clearPath ();case "\u0066","\u0066\u002a":_feae .closePath ();
_feae .fill (&_fbdac ._dgec );_feae .clearPath ();case "\u0042","\u0042\u002a":_feae .fill (&_fbdac ._dgec );_feae .stroke (&_fbdac ._gfa );_feae .clearPath ();case "\u0062","\u0062\u002a":_feae .closePath ();_feae .fill (&_fbdac ._dgec );_feae .stroke (&_fbdac ._gfa );
_feae .clearPath ();case "\u006e":_feae .clearPath ();case "\u0044\u006f":if len (_feeb .Params )==0{_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0058\u004fbj\u0065c\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006f\u0070\u0065\u0072\u0061n\u0064\u0020\u0066\u006f\u0072\u0020\u0044\u006f\u0020\u006f\u0070\u0065\u0072\u0061\u0074\u006f\u0072.\u0020\u0047\u006f\u0074\u0020\u0025\u002b\u0076\u002e",_feeb .Params );
return _gb .ErrRangeError ;};_ceg ,_cacb :=_gb .GetName (_feeb .Params [0]);if !_cacb {_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0044\u006f\u0020\u006f\u0070e\u0072a\u0074\u006f\u0072\u0020\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006fp\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u002b\u0076\u002e",_feeb .Params [0]);
return _gb .ErrTypeError ;};_ ,_cgbd :=_edcf .GetXObjectByName (*_ceg );if _cgbd !=_d .XObjectTypeForm {break ;};_efge ,_cacb :=_daef ._ege [_ceg .String ()];if !_cacb {_cafg ,_dede :=_edcf .GetXObjectFormByName (*_ceg );if _dede !=nil {_f .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_dede );
return _dede ;};_degc ,_dede :=_cafg .GetContentStream ();if _dede !=nil {_f .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_dede );return _dede ;};_fffa :=_cafg .Resources ;if _fffa ==nil {_fffa =_edcf ;};_gcfg :=_gfc .CTM ;if _cfa ,_faf :=_gb .GetArray (_cafg .Matrix );
_faf {_gac ,_ggf :=_cfa .GetAsFloat64Slice ();if _ggf !=nil {return _ggf ;};if len (_gac )!=6{return _ecab ;};_deef :=_db .NewMatrix (_gac [0],_gac [1],_gac [2],_gac [3],_gac [4],_gac [5]);_gcfg =_gfc .CTM .Mult (_deef );};_ecdbc ,_cdgg ,_bebc ,_dede :=_daef .extractPageText (string (_degc ),_fffa ,_cgcf .Mult (_gcfg ),_efeb +1,false );
if _dede !=nil {_f .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_dede );return _dede ;};_efge =textResult {*_ecdbc ,_cdgg ,_bebc };_daef ._ege [_ceg .String ()]=_efge ;};_feae ._abed =_gfc .CTM ;if _cbge {_f .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_feae ._abed );
};_fbdac ._ccbg =append (_fbdac ._ccbg ,_efge ._bdda ._ccbg ...);_fbdac ._gfa =append (_fbdac ._gfa ,_efge ._bdda ._gfa ...);_fbdac ._dgec =append (_fbdac ._dgec ,_efge ._bdda ._dgec ...);_bedc ._eaeg +=_efge ._bgdc ;_bedc ._dgda +=_efge ._eeea ;case "\u0072\u0067","\u0067","\u006b","\u0063\u0073","\u0073\u0063","\u0073\u0063\u006e":_cfbb ._bgaa .ColorspaceNonStroking =_gfc .ColorspaceNonStroking ;
_cfbb ._bgaa .ColorNonStroking =_gfc .ColorNonStroking ;case "\u0052\u0047","\u0047","\u004b","\u0043\u0053","\u0053\u0043","\u0053\u0043\u004e":_cfbb ._bgaa .ColorspaceStroking =_gfc .ColorspaceStroking ;_cfbb ._bgaa .ColorStroking =_gfc .ColorStroking ;
};return nil ;});_eadd =_fgae .Process (_gaf );if _daef ._cacf !=nil &&_daef ._cacf .IncludeAnnotations &&!_eeed {for _ ,_fgfdf :=range _daef ._fbd {_aafa ,_cgea :=_gb .GetDict (_fgfdf .AP );if !_cgea {continue ;};_cbb ,_cgea :=_aafa .Get ("\u004e").(*_gb .PdfObjectStream );
if !_cgea {continue ;};_dggb ,_addd :=_gb .DecodeStream (_cbb );if _addd !=nil {_f .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u006f\u006e\u0020\u0064\u0065c\u006f\u0064\u0065\u0020\u0073\u0074\u0072\u0065\u0061\u006d:\u0020\u0025\u0076",_addd );
continue ;};_gdgg :=_cbb .PdfObjectDictionary .Get ("\u0052e\u0073\u006f\u0075\u0072\u0063\u0065s");_fda ,_addd :=_d .NewPdfPageResourcesFromDict (_gdgg .(*_gb .PdfObjectDictionary ));if _addd !=nil {_f .Log .Debug ("\u0045\u0072\u0072\u006f\u0072 \u006f\u006e\u0020\u0067\u0065\u0074\u0074\u0069\u006e\u0067\u0020\u0061\u006en\u006f\u0074\u0061\u0074\u0069\u006f\u006e\u0020\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u0073\u003a\u0020\u0025\u0076",_addd );
continue ;};_ccfa :=_db .IdentityMatrix ();_edaa ,_cgea :=_cbb .PdfObjectDictionary .Get ("\u004d\u0061\u0074\u0072\u0069\u0078").(*_gb .PdfObjectArray );if _cgea {_agee ,_edag :=_edaa .GetAsFloat64Slice ();if _edag !=nil {_f .Log .Debug ("\u0045\u0072\u0072or\u0020\u006f\u006e\u0020\u0067\u0065\u0074\u0074\u0069n\u0067 \u0066l\u006fa\u0074\u0036\u0034\u0020\u0073\u006c\u0069\u0063\u0065\u003a\u0020\u0025\u0076",_edag );
continue ;};if len (_agee )!=6{_f .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006d\u0061\u0074\u0072\u0069\u0078\u0020\u0073\u006ci\u0063\u0065\u0020l\u0065n\u0067\u0074\u0068");continue ;};_ccfa =_db .NewMatrix (_agee [0],_agee [1],_agee [2],_agee [3],_agee [4],_agee [5]);
};_afec ,_cgea :=_daef ._ed [_cbb .String ()];if !_cgea {_fcee ,_cfda ,_gaff ,_cee :=_daef .extractPageText (string (_dggb ),_fda ,_ccfa ,_efeb +1,true );if _cee !=nil {_f .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0065x\u0074\u0072a\u0063\u0074\u0069\u006e\u0067\u0020\u0061\u006en\u006f\u0074\u0061\u0074\u0069\u006f\u006e\u0020\u0074\u0065\u0078\u0074s\u003a\u0020\u0025\u0076",_cee );
continue ;};_afec =textResult {*_fcee ,_cfda ,_gaff };_daef ._ed [_cbb .String ()]=_afec ;};_fbdac ._ccbg =append (_fbdac ._ccbg ,_afec ._bdda ._ccbg ...);_fbdac ._gfa =append (_fbdac ._gfa ,_afec ._bdda ._gfa ...);_fbdac ._dgec =append (_fbdac ._dgec ,_afec ._bdda ._dgec ...);
_bedc ._eaeg +=_afec ._bgdc ;_bedc ._dgda +=_afec ._eeea ;};};return _fbdac ,_bedc ._eaeg ,_bedc ._dgda ,_eadd ;};func _edde (_bbdccg string ,_ecbbd int )string {if len (_bbdccg )< _ecbbd {return _bbdccg ;};return _bbdccg [:_ecbbd ];};

// String returns a string describing `tm`.
func (_gdcb TextMark )String ()string {_ggef :=_gdcb .BBox ;var _ddbg string ;if _gdcb .Font !=nil {_ddbg =_gdcb .Font .String ();if len (_ddbg )> 50{_ddbg =_ddbg [:50]+"\u002e\u002e\u002e";};};var _dedd string ;if _gdcb .Meta {_dedd ="\u0020\u002a\u004d\u002a";
};return _ge .Sprintf ("\u007b\u0054\u0065\u0078t\u004d\u0061\u0072\u006b\u003a\u0020\u0025\u0064\u0020%\u0071\u003d\u0025\u0030\u0032\u0078\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e2\u0066\u0029\u0020\u0028\u00256\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0025\u0073\u007d",_gdcb .Offset ,_gdcb .Text ,[]rune (_gdcb .Text ),_ggef .Llx ,_ggef .Lly ,_ggef .Urx ,_ggef .Ury ,_ddbg ,_dedd );
};func (_fgbgd *wordBag )arrangeText (_dgada bool )*textPara {_fgbgd .sort ();if _bgaf {_fgbgd .removeDuplicates ();};var _cbcca []*textLine ;for _ ,_eegb :=range _fgbgd .depthIndexes (){for !_fgbgd .empty (_eegb ){_deafe :=_fgbgd .firstReadingIndex (_eegb );
_fdbdg :=_fgbgd .firstWord (_deafe );_ffcfa :=_dddd (_fgbgd ,_deafe );_ggfb :=_fdbdg ._aecae ;if _ggfb < _fefdb {_ggfb =_fefdb ;};_begg :=_fdbdg ._cgbe -_ecgg *_ggfb ;_agcb :=_fdbdg ._cgbe +_ecgg *_ggfb ;_decgd :=_dbbe *_ggfb ;_cagge :=_agbd *_ggfb ;_fefa :for {var _ddgf *textWord ;
_fgfab :=0;for _ ,_fefab :=range _fgbgd .depthBand (_begg ,_agcb ){_aagg :=_fgbgd .highestWord (_fefab ,_begg ,_agcb );if _aagg ==nil {continue ;};_gdgc :=_gbcg (_aagg ,_ffcfa ._bcfga [len (_ffcfa ._bcfga )-1]);if _gdgc < -_cagge {break _fefa ;};if !_dgada &&_gdgc > _decgd {continue ;
};if _ddgf !=nil &&_cccc (_aagg ,_ddgf )>=0{continue ;};_ddgf =_aagg ;_fgfab =_fefab ;};if _ddgf ==nil {break ;};_ffcfa .pullWord (_fgbgd ,_ddgf ,_fgfab );};_ffcfa .markWordBoundaries ();_cbcca =append (_cbcca ,_ffcfa );};};if len (_cbcca )==0{return nil ;
};_b .Slice (_cbcca ,func (_fbec ,_fade int )bool {return _bddb (_cbcca [_fbec ],_cbcca [_fade ])< 0});_edcgab :=_aefa (_fgbgd .PdfRectangle ,_cbcca );if _ebfc {_f .Log .Info ("\u0061\u0072\u0072an\u0067\u0065\u0054\u0065\u0078\u0074\u0020\u0021\u0021\u0021\u0020\u0070\u0061\u0072\u0061\u003d\u0025\u0073",_edcgab .String ());
if _bgcfe {for _bfee ,_aggc :=range _edcgab ._cbdb {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_bfee ,_aggc .String ());if _cdefa {for _dafgd ,_dfebf :=range _aggc ._bcfga {_ge .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_dafgd ,_dfebf .String ());
for _dfdf ,_acdd :=range _dfebf ._bcaca {_ge .Printf ("\u00251\u0032\u0064\u003a\u0020\u0025\u0073\n",_dfdf ,_acdd .String ());};};};};};};return _edcgab ;};func _ecbb (_dfada []*textLine ){_b .Slice (_dfada ,func (_ecegc ,_ecacd int )bool {_gdcg ,_dgae :=_dfada [_ecegc ],_dfada [_ecacd ];
return _gdcg ._bdef < _dgae ._bdef ;});};func (_dafdb rulingList )comp (_cgacb ,_adbef int )bool {_fbada ,_gfbad :=_dafdb [_cgacb ],_dafdb [_adbef ];_baab ,_cddc :=_fbada ._dcga ,_gfbad ._dcga ;if _baab !=_cddc {return _baab > _cddc ;};if _baab ==_ggbbc {return false ;
};_gdgga :=func (_gbdgb bool )bool {if _baab ==_ddeae {return _gbdgb ;};return !_gbdgb ;};_aacb ,_fdbe :=_fbada ._aead ,_gfbad ._aead ;if _aacb !=_fdbe {return _gdgga (_aacb > _fdbe );};_aacb ,_fdbe =_fbada ._ccag ,_gfbad ._ccag ;if _aacb !=_fdbe {return _gdgga (_aacb < _fdbe );
};return _gdgga (_fbada ._dbgda < _gfbad ._dbgda );};func _bfbc (_feabc string )string {_eeag :=[]rune (_feabc );return string (_eeag [:len (_eeag )-1])};func (_fafa paraList )llyOrdering ()[]int {_egff :=make ([]int ,len (_fafa ));for _dbfdc :=range _fafa {_egff [_dbfdc ]=_dbfdc ;
};_b .SliceStable (_egff ,func (_dcdcg ,_fdbdd int )bool {_aecgd ,_cgda :=_egff [_dcdcg ],_egff [_fdbdd ];return _fafa [_aecgd ].Lly < _fafa [_cgda ].Lly ;});return _egff ;};func _ebdacg (_gefaae []int )[]int {_beeb :=make ([]int ,len (_gefaae ));for _gbfae ,_bgcb :=range _gefaae {_beeb [len (_gefaae )-1-_gbfae ]=_bgcb ;
};return _beeb ;};func _befca (_cbec map[int ]intSet )[]int {_afbccc :=make ([]int ,0,len (_cbec ));for _gbefe :=range _cbec {_afbccc =append (_afbccc ,_gbefe );};_b .Ints (_afbccc );return _afbccc ;};func (_afa *imageExtractContext )extractInlineImage (_add *_af .ContentStreamInlineImage ,_bbg _af .GraphicsState ,_egd *_d .PdfPageResources )error {_ceb ,_fea :=_add .ToImage (_egd );
if _fea !=nil {return _fea ;};_gcab ,_fea :=_add .GetColorSpace (_egd );if _fea !=nil {return _fea ;};if _gcab ==nil {_gcab =_d .NewPdfColorspaceDeviceGray ();};_eea ,_fea :=_gcab .ImageToRGB (*_ceb );if _fea !=nil {return _fea ;};_ebd :=ImageMark {Image :&_eea ,Width :_bbg .CTM .ScalingFactorX (),Height :_bbg .CTM .ScalingFactorY (),Angle :_bbg .CTM .Angle ()};
_ebd .X ,_ebd .Y =_bbg .CTM .Translation ();_afa ._dgb =append (_afa ._dgb ,_ebd );_afa ._efa ++;return nil ;};

// String returns a human readable description of `path`.
func (_ebbg *subpath )String ()string {_cafc :=_ebbg ._cdde ;_gafc :=len (_cafc );if _gafc <=5{return _ge .Sprintf ("\u0025d\u003a\u0020\u0025\u0036\u002e\u0032f",_gafc ,_cafc );};return _ge .Sprintf ("\u0025d\u003a\u0020\u0025\u0036.\u0032\u0066\u0020\u0025\u0036.\u0032f\u0020.\u002e\u002e\u0020\u0025\u0036\u002e\u0032f",_gafc ,_cafc [0],_cafc [1],_cafc [_gafc -1]);
};func _gbee (_aaae []TextMark ,_cbfb *int )[]TextMark {_deeb :=_aaae [len (_aaae )-1];_cgcag :=[]rune (_deeb .Text );if len (_cgcag )==1{_aaae =_aaae [:len (_aaae )-1];_ceagd :=_aaae [len (_aaae )-1];*_cbfb =_ceagd .Offset +len (_ceagd .Text );}else {_aebcf :=_bfbc (_deeb .Text );
*_cbfb +=len (_aebcf )-len (_deeb .Text );_deeb .Text =_aebcf ;};return _aaae ;};func _bgeef (_faaf ,_bbba bounded )float64 {_febf :=_cccc (_faaf ,_bbba );if !_eedbf (_febf ){return _febf ;};return _bfc (_faaf ,_bbba );};func (_gbdge *wordBag )firstWord (_cebg int )*textWord {return _gbdge ._gfda [_cebg ][0]};
func (_dgdag *TextMarkArray )getTextMarkAtOffset (_baa int )*TextMark {for _ ,_bagf :=range _dgdag ._ecdd {if _bagf .Offset ==_baa {return &_bagf ;};};return nil ;};const (RenderModeStroke RenderMode =1<<iota ;RenderModeFill ;RenderModeClip ;);

// String returns a description of `tm`.
func (_cfbde *textMark )String ()string {return _ge .Sprintf ("\u0025\u002e\u0032f \u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\u0022\u0025\u0073\u0022",_cfbde .PdfRectangle ,_cfbde ._ffeg ,_cfbde ._dfge );};func (_beeg rulingList )primMinMax ()(float64 ,float64 ){_gcgb ,_bbaa :=_beeg [0]._aead ,_beeg [0]._aead ;
for _ ,_fcfc :=range _beeg [1:]{if _fcfc ._aead < _gcgb {_gcgb =_fcfc ._aead ;}else if _fcfc ._aead > _bbaa {_bbaa =_fcfc ._aead ;};};return _gcgb ,_bbaa ;};func (_eeab rulingList )toTilings ()(rulingList ,[]gridTiling ){_eeab .log ("\u0074o\u0054\u0069\u006c\u0069\u006e\u0067s");
if len (_eeab )==0{return nil ,nil ;};_eeab =_eeab .tidied ("\u0061\u006c\u006c");_eeab .log ("\u0074\u0069\u0064\u0069\u0065\u0064");_bbdc :=_eeab .toGrids ();_cfea :=make ([]gridTiling ,len (_bbdc ));for _gbag ,_aefd :=range _bbdc {_cfea [_gbag ]=_aefd .asTiling ();
};return _eeab ,_cfea ;};func (_eaddf *textWord )computeText ()string {_bdge :=make ([]string ,len (_eaddf ._bcaca ));for _edegc ,_bbadd :=range _eaddf ._bcaca {_bdge [_edegc ]=_bbadd ._dfge ;};return _df .Join (_bdge ,"");};

// PageImages represents extracted images on a PDF page with spatial information:
// display position and size.
type PageImages struct{Images []ImageMark ;};var _edec string ="\u0028\u003f\u0069\u0029\u005e\u0028\u004d\u007b\u0030\u002c\u0033\u007d\u0029\u0028\u0043\u0028?\u003a\u0044\u007cM\u0029\u007c\u0044\u003f\u0043{\u0030\u002c\u0033\u007d\u0029\u0028\u0058\u0028\u003f\u003a\u004c\u007c\u0043\u0029\u007cL\u003f\u0058\u007b\u0030\u002c\u0033}\u0029\u0028\u0049\u0028\u003f\u003a\u0056\u007c\u0058\u0029\u007c\u0056\u003f\u0049\u007b\u0030\u002c\u0033\u007d\u0029\u0028\u005c\u0029\u007c\u005c\u002e\u0029\u007c\u005e\u005c\u0028\u0028\u004d\u007b\u0030\u002c\u0033\u007d\u0029\u0028\u0043\u0028\u003f\u003aD\u007cM\u0029\u007c\u0044\u003f\u0043\u007b\u0030\u002c\u0033\u007d\u0029\u0028\u0058\u0028?\u003a\u004c\u007c\u0043\u0029\u007c\u004c?\u0058\u007b0\u002c\u0033\u007d\u0029(\u0049\u0028\u003f\u003a\u0056|\u0058\u0029\u007c\u0056\u003f\u0049\u007b\u0030\u002c\u0033\u007d\u0029\u005c\u0029";
func _fdab (_fabc *_d .StructTreeRoot ,_ddab map[int ][]*textLine ,_edcgf _gb .PdfObject )[]*list {if _fabc ==nil {_f .Log .Debug ("\u0062\u0075\u0069\u006c\u0064\u004c\u0069\u0073\u0074\u003a\u0020t\u0072\u0065\u0065\u0052\u006f\u006f\u0074\u0020\u0069\u0073 \u006e\u0069\u006c");
return nil ;};_deddc :=[]*_d .KValue {};var _ddbb func (_acfc *_d .KValue );_ddbb =func (_eaed *_d .KValue ){if _cgcde :=_eaed .GetKDict ();_cgcde !=nil {if _cgcde .S .String ()=="\u004c"{_deddc =append (_deddc ,_eaed );}else {for _ ,_gbfcc :=range _cgcde .GetChildren (){_ddbb (_gbfcc );
};};};};for _ ,_dfce :=range _fabc .K {_aegc :=_d .NewKValue ();_aegc .SetKDict (_dfce );_ddbb (_aegc );};_dbgdb :=_faab (_deddc ,_ddab ,_edcgf );var _eaf []*list ;for _ ,_adccb :=range _dbgdb {_aecee :=_gffb (_adccb );_eaf =append (_eaf ,_aecee ...);};
return _eaf ;};func (_cfga *textTable )log (_cdbde string ){if !_eceb {return ;};_f .Log .Info ("~\u007e\u007e\u0020\u0025\u0073\u003a \u0025\u0064\u0020\u0078\u0020\u0025d\u0020\u0067\u0072\u0069\u0064\u003d\u0025t\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0025\u0036\u002e2\u0066",_cdbde ,_cfga ._dafge ,_cfga ._ecdae ,_cfga ._beced ,_cfga .PdfRectangle );
for _feeaf :=0;_feeaf < _cfga ._ecdae ;_feeaf ++{for _ggbg :=0;_ggbg < _cfga ._dafge ;_ggbg ++{_egbf :=_cfga .get (_ggbg ,_feeaf );if _egbf ==nil {continue ;};_ge .Printf ("%\u0034\u0064\u0020\u00252d\u003a \u0025\u0036\u002e\u0032\u0066 \u0025\u0071\u0020\u0025\u0064\u000a",_ggbg ,_feeaf ,_egbf .PdfRectangle ,_edde (_egbf .text (),50),_fba .RuneCountInString (_egbf .text ()));
};};};func (_ceee *subpath )close (){if !_dgbc (_ceee ._cdde [0],_ceee .last ()){_ceee .add (_ceee ._cdde [0]);};_ceee ._deee =true ;_ceee .removeDuplicates ();};func (_fffd *shapesState )closePath (){if _fffd ._cffg {_fffd ._cbce =append (_fffd ._cbce ,_baeebb (_fffd ._bdbgg ));
_fffd ._cffg =false ;}else if len (_fffd ._cbce )==0{if _cbge {_f .Log .Debug ("\u0063\u006c\u006f\u0073eP\u0061\u0074\u0068\u0020\u0077\u0069\u0074\u0068\u0020\u006e\u006f\u0020\u0070\u0061t\u0068");};_fffd ._cffg =false ;return ;};_fffd ._cbce [len (_fffd ._cbce )-1].close ();
if _cbge {_f .Log .Info ("\u0063\u006c\u006f\u0073\u0065\u0050\u0061\u0074\u0068\u003a\u0020\u0025\u0073",_fffd );};};type ruling struct{_dcga rulingKind ;_afcba markKind ;_ce .Color ;_aead float64 ;_ccag float64 ;_dbgda float64 ;_febc float64 ;};func _adcf (_ccgeb []TextMark ,_dgaf *int ,_cedg TextMark )[]TextMark {_cedg .Offset =*_dgaf ;
_ccgeb =append (_ccgeb ,_cedg );*_dgaf +=len (_cedg .Text );return _ccgeb ;};func _babgd (_abfa []*textLine ,_cece map[float64 ][]*textLine )[]*list {_ddaf :=_ccea (_cece );_cbddb :=[]*list {};if len (_ddaf )==0{return _cbddb ;};_bbcfb :=_ddaf [0];_cbbg :=1;
_agdcd :=_cece [_bbcfb ];for _aaedb ,_gaad :=range _agdcd {var _ceag float64 ;_dcbb :=[]*list {};_aefe :=_gaad ._bdef ;_bcdde :=-1.0;if _aaedb < len (_agdcd )-1{_bcdde =_agdcd [_aaedb +1]._bdef ;};if _cbbg < len (_ddaf ){_dcbb =_fcbgd (_abfa ,_cece ,_ddaf ,_cbbg ,_aefe ,_bcdde );
};_ceag =_bcdde ;if len (_dcbb )> 0{_fcabf :=_dcbb [0];if len (_fcabf ._aefg )> 0{_ceag =_fcabf ._aefg [0]._bdef ;};};_gabbb :=[]*textLine {_gaad };_caafe :=_gaccd (_gaad ,_abfa ,_aefe ,_ceag );_gabbb =append (_gabbb ,_caafe ...);_abcf :=_agded (_gabbb ,"\u0062\u0075\u006c\u006c\u0065\u0074",_dcbb );
_abcf ._ddgc =_ccbcd (_gabbb ,"");_cbddb =append (_cbddb ,_abcf );};return _cbddb ;};

// Elements returns the TextMarks in `ma`.
func (_daed *TextMarkArray )Elements ()[]TextMark {return _daed ._ecdd };type fontEntry struct{_cbcc *_d .PdfFont ;_gaec int64 ;};func _fbac (_beffb ,_ccdc float64 )bool {return _e .Abs (_beffb -_ccdc )<=_becbg };

// Text returns the extracted page text.
func (_gefd PageText )Text ()string {return _gefd ._begf };func (_adca *textTable )reduceTiling (_ffae gridTiling ,_ffdcb float64 )*textTable {_eagfa :=make ([]int ,0,_adca ._ecdae );_bace :=make ([]int ,0,_adca ._dafge );_dagbd :=_ffae ._aefag ;_feff :=_ffae ._badcc ;
for _bcbbe :=0;_bcbbe < _adca ._ecdae ;_bcbbe ++{_eagga :=_bcbbe > 0&&_e .Abs (_feff [_bcbbe -1]-_feff [_bcbbe ])< _ffdcb &&_adca .emptyCompositeRow (_bcbbe );if !_eagga {_eagfa =append (_eagfa ,_bcbbe );};};for _aecc :=0;_aecc < _adca ._dafge ;_aecc ++{_ggdg :=_aecc < _adca ._dafge -1&&_e .Abs (_dagbd [_aecc +1]-_dagbd [_aecc ])< _ffdcb &&_adca .emptyCompositeColumn (_aecc );
if !_ggdg {_bace =append (_bace ,_aecc );};};if len (_eagfa )==_adca ._ecdae &&len (_bace )==_adca ._dafge {return _adca ;};_bgdabd :=textTable {_beced :_adca ._beced ,_dafge :len (_bace ),_ecdae :len (_eagfa ),_agdcc :make (map[uint64 ]compositeCell ,len (_bace )*len (_eagfa ))};
if _eceb {_f .Log .Info ("\u0072\u0065\u0064\u0075c\u0065\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0025d\u0078%\u0064\u0020\u002d\u003e\u0020\u0025\u0064x\u0025\u0064",_adca ._dafge ,_adca ._ecdae ,len (_bace ),len (_eagfa ));_f .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_bace );
_f .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_eagfa );};for _ffbe ,_dfebfa :=range _eagfa {for _gecdb ,_afafe :=range _bace {_dgggb ,_geaag :=_adca .getComposite (_afafe ,_dfebfa );if len (_dgggb )==0{continue ;
};if _eceb {_ge .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_gecdb ,_ffbe ,_afafe ,_dfebfa ,_edde (_dgggb .merge ().text (),50));};_bgdabd .putComposite (_gecdb ,_ffbe ,_dgggb ,_geaag );
};};return &_bgdabd ;};

// String returns a description of `p`.
func (_eebg *textPara )String ()string {if _eebg ._dgba {return _ge .Sprintf ("\u0025\u0036\u002e\u0032\u0066\u0020\u005b\u0045\u004d\u0050\u0054\u0059\u005d",_eebg .PdfRectangle );};_fddbc :="";if _eebg ._cgbdg !=nil {_fddbc =_ge .Sprintf ("\u005b\u0025\u0064\u0078\u0025\u0064\u005d\u0020",_eebg ._cgbdg ._dafge ,_eebg ._cgbdg ._ecdae );
};return _ge .Sprintf ("\u0025\u0036\u002e\u0032f \u0025\u0073\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u0020\u0025\u0071",_eebg .PdfRectangle ,_fddbc ,len (_eebg ._cbdb ),_edde (_eebg .text (),50));};

// String returns a string describing the current state of the textState stack.
func (_abgf *stateStack )String ()string {_bcda :=[]string {_ge .Sprintf ("\u002d\u002d\u002d\u002d f\u006f\u006e\u0074\u0020\u0073\u0074\u0061\u0063\u006b\u003a\u0020\u0025\u0064",len (*_abgf ))};for _dgd ,_baeeb :=range *_abgf {_bgb :="\u003c\u006e\u0069l\u003e";
if _baeeb !=nil {_bgb =_baeeb .String ();};_bcda =append (_bcda ,_ge .Sprintf ("\u0009\u0025\u0032\u0064\u003a\u0020\u0025\u0073",_dgd ,_bgb ));};return _df .Join (_bcda ,"\u000a");};func _gdab (_ceae *list ,_ddccf *_df .Builder ,_badd *string ){_bfdfa :=_fdaad (_ceae ,_badd );
_ddccf .WriteString (_bfdfa );for _ ,_egbec :=range _ceae ._babgb {_beda :=*_badd +"\u0020\u0020\u0020";_gdab (_egbec ,_ddccf ,&_beda );};};

// String returns a string describing `pt`.
func (_daefg PageText )String ()string {_bddg :=_ge .Sprintf ("P\u0061\u0067\u0065\u0054ex\u0074:\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073",len (_daefg ._ccbg ));_fcefd :=[]string {"\u002d"+_bddg };for _ ,_ccbc :=range _daefg ._ccbg {_fcefd =append (_fcefd ,_ccbc .String ());
};_fcefd =append (_fcefd ,"\u002b"+_bddg );return _df .Join (_fcefd ,"\u000a");};func (_daeg *textTable )bbox ()_d .PdfRectangle {return _daeg .PdfRectangle };func (_baagcg rulingList )snapToGroupsDirection ()rulingList {_baagcg .sortStrict ();_bcdc :=make (map[*ruling ]rulingList ,len (_baagcg ));
_bgcd :=_baagcg [0];_gbgff :=func (_cgcadg *ruling ){_bgcd =_cgcadg ;_bcdc [_bgcd ]=rulingList {_cgcadg }};_gbgff (_baagcg [0]);for _ ,_cafcb :=range _baagcg [1:]{if _cafcb ._aead < _bgcd ._aead -_aeea {_f .Log .Error ("\u0073\u006e\u0061\u0070T\u006f\u0047\u0072\u006f\u0075\u0070\u0073\u0044\u0069r\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0057\u0072\u006f\u006e\u0067\u0020\u0070\u0072\u0069\u006da\u0072\u0079\u0020\u006f\u0072d\u0065\u0072\u002e\u000a\u0009\u0076\u0030\u003d\u0025\u0073\u000a\u0009\u0020\u0076\u003d\u0025\u0073",_bgcd ,_cafcb );
};if _cafcb ._aead > _bgcd ._aead +_efef {_gbgff (_cafcb );}else {_bcdc [_bgcd ]=append (_bcdc [_bgcd ],_cafcb );};};_afcbf :=make (map[*ruling ]float64 ,len (_bcdc ));_afddg :=make (map[*ruling ]*ruling ,len (_baagcg ));for _cgbff ,_affa :=range _bcdc {_afcbf [_cgbff ]=_affa .mergePrimary ();
for _ ,_dfegf :=range _affa {_afddg [_dfegf ]=_cgbff ;};};for _ ,_ceaec :=range _baagcg {_ceaec ._aead =_afcbf [_afddg [_ceaec ]];};_agdb :=make (rulingList ,0,len (_baagcg ));for _ ,_fbdd :=range _bcdc {_gaba :=_fbdd .splitSec ();for _afcbb ,_bdeea :=range _gaba {_fdcde :=_bdeea .merge ();
if len (_agdb )> 0{_eaadb :=_agdb [len (_agdb )-1];if _eaadb .alignsPrimary (_fdcde )&&_eaadb .alignsSec (_fdcde ){_f .Log .Error ("\u0073\u006e\u0061\u0070\u0054\u006fG\u0072\u006f\u0075\u0070\u0073\u0044\u0069\u0072\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0044\u0075\u0070\u006ci\u0063\u0061\u0074\u0065\u0020\u0069\u003d\u0025\u0064\u000a\u0009\u0077\u003d\u0025s\u000a\t\u0076\u003d\u0025\u0073",_afcbb ,_eaadb ,_fdcde );
continue ;};};_agdb =append (_agdb ,_fdcde );};};_agdb .sortStrict ();return _agdb ;};func _adeae (_fbcf ,_bfded _aaf .Image )_aaf .Image {_badfe ,_bcdcf :=_bfded .Bounds ().Size (),_fbcf .Bounds ().Size ();_eaccc ,_ecggg :=_badfe .X ,_badfe .Y ;if _bcdcf .X > _eaccc {_eaccc =_bcdcf .X ;
};if _bcdcf .Y > _ecggg {_ecggg =_bcdcf .Y ;};_ceaag :=_aaf .Rect (0,0,_eaccc ,_ecggg );if _badfe .X !=_eaccc ||_badfe .Y !=_ecggg {_fbdc :=_aaf .NewRGBA (_ceaag );_fe .BiLinear .Scale (_fbdc ,_ceaag ,_fbcf ,_bfded .Bounds (),_fe .Over ,nil );_bfded =_fbdc ;
};if _bcdcf .X !=_eaccc ||_bcdcf .Y !=_ecggg {_eggg :=_aaf .NewRGBA (_ceaag );_fe .BiLinear .Scale (_eggg ,_ceaag ,_fbcf ,_fbcf .Bounds (),_fe .Over ,nil );_fbcf =_eggg ;};_gbefef :=_aaf .NewRGBA (_ceaag );_fe .DrawMask (_gbefef ,_ceaag ,_fbcf ,_aaf .Point {},_bfded ,_aaf .Point {},_fe .Over );
return _gbefef ;};

// String returns a description of `l`.
func (_abbb *textLine )String ()string {return _ge .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_abbb ._bdef ,_abbb .PdfRectangle ,_abbb ._caad ,_abbb .text ());
};func (_gfgc paraList )inTile (_bafc gridTile )paraList {var _bcdgda paraList ;for _ ,_bdfad :=range _gfgc {if _bafc .contains (_bdfad .PdfRectangle ){_bcdgda =append (_bcdgda ,_bdfad );};};if _eceb {_ge .Printf ("\u0020 \u0020\u0069\u006e\u0054i\u006c\u0065\u003a\u0020\u0020%\u0073 \u0069n\u0073\u0069\u0064\u0065\u003d\u0025\u0064\n",_bafc ,len (_bcdgda ));
for _fcad ,_dcge :=range _bcdgda {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_fcad ,_dcge );};_ge .Println ("");};return _bcdgda ;};func _gdddb (_aeecb float64 )bool {return _e .Abs (_aeecb )< _efef };func (_ccc *imageExtractContext )extractFormImages (_bdab *_gb .PdfObjectName ,_bcb _af .GraphicsState ,_gdg *_d .PdfPageResources )error {_eef ,_ecac :=_gdg .GetXObjectFormByName (*_bdab );
if _ecac !=nil {return _ecac ;};if _eef ==nil {return nil ;};_bcgg ,_ecac :=_eef .GetContentStream ();if _ecac !=nil {return _ecac ;};_bebf :=_eef .Resources ;if _bebf ==nil {_bebf =_gdg ;};_ecac =_ccc .extractContentStreamImages (string (_bcgg ),_bebf );
if _ecac !=nil {return _ecac ;};_ccc ._gca ++;return nil ;};func _bede (_beg *TextMarkArray )string {_bcdd :="";for _ ,_aee :=range _beg .Elements (){_bcdd +=_aee .Text ;};return _bcdd ;};func (_dbdf compositeCell )hasLines (_gfae []*textLine )bool {for _cddg ,_gadf :=range _gfae {_acbb :=_gddd (_dbdf .PdfRectangle ,_gadf .PdfRectangle );
if _eceb {_ge .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u005e\u005e\u005e\u0069\u006e\u0074\u0065\u0072\u0073e\u0063t\u0073\u003d\u0025\u0074\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064\u000a",_acbb ,_cddg ,len (_gfae ));_ge .Printf ("\u0020\u0020\u0020\u0020  \u005e\u005e\u005e\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u003d\u0025s\u000a",_dbdf );
_ge .Printf ("\u0020 \u0020 \u0020\u0020\u0020\u006c\u0069\u006e\u0065\u003d\u0025\u0073\u000a",_gadf );};if _acbb {return true ;};};return false ;};func _gbf (_eead *TextMarkArray ,_cbac *string ,_eda *int ,_bdg string )error {_aaa :=_eead .Elements ()[0].DirectObject ;
_aag ,_dgfc :=_gb .GetString (_aaa );if !_dgfc {return _ge .Errorf ("\u0075n\u0061\u0062l\u0065\u0020\u0074\u006f \u0067\u0065\u0074 \u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0042\u0079te\u0073\u0020\u0066r\u006f\u006d \u0064\u0069\u0072\u0065\u0063\u0074O\u0062\u006ae\u0063\u0074");
};_dge :=_bede (_eead );_bfb ,_dgfc :=_gb .GetStringBytes (_aaa );if !_dgfc {return _gb .ErrTypeError ;};_dfcc :=_eead .Elements ()[0].Font ;_bffe :=_cged (_bfb ,_dfcc );_baf :="";_ada :=*_cbac ;if len (_ada )> *_eda {_baf =_ada [*_eda :*_eda +len (_dge )];
}else if *_eda ==len (_bdg )-1&&len (_ada )> *_eda {_baf =_ada [*_eda :];};_acbc :="";_aeg :=_df .Split (_bffe ,"\u0020");_bac :=_aeg [len (_aeg )-1];if _bac ==_dge &&*_eda ==0{_faeg :=_df .LastIndex (_bffe ,_dge );_acbc =_dce (_bffe ,_faeg ,len (_dge )+_faeg ,_baf );
}else if *_eda ==len (_bdg )-1&&len (_ada )> *_eda {_acbc =_df .Replace (_bffe ,_dge ,_ada [*_eda :],-1);}else {_acbc =_df .Replace (_bffe ,_dge ,_baf ,1);};_cdef (_aag ,_acbc ,_dfcc );*_eda +=len (_dge );return nil ;};func (_dcbdf *textTable )getRight ()paraList {_gbaaa :=make (paraList ,_dcbdf ._ecdae );
for _dfbd :=0;_dfbd < _dcbdf ._ecdae ;_dfbd ++{_egec :=_dcbdf .get (_dcbdf ._dafge -1,_dfbd )._fbab ;if _egec .taken (){return nil ;};_gbaaa [_dfbd ]=_egec ;};for _bfged :=0;_bfged < _dcbdf ._ecdae -1;_bfged ++{if _gbaaa [_bfged ]._cbfga !=_gbaaa [_bfged +1]{return nil ;
};};return _gbaaa ;};func (_faad *subpath )add (_gddec ..._db .Point ){_faad ._cdde =append (_faad ._cdde ,_gddec ...)};func _aefa (_bbdg _d .PdfRectangle ,_bbde []*textLine )*textPara {return &textPara {PdfRectangle :_bbdg ,_cbdb :_bbde };};

// ExtractPageText returns the text contents of `e` (an Extractor for a page) as a PageText.
// TODO(peterwilliams97): The stats complicate this function signature and aren't very useful.
//
//	Replace with a function like Extract() (*PageText, error)
func (_bgf *Extractor )ExtractPageText ()(*PageText ,int ,int ,error ){_bacb ,_bcgd ,_gcbb ,_gega :=_bgf .extractPageText (_bgf ._ccd ,_bgf ._gfgb ,_db .IdentityMatrix (),0,false );if _gega !=nil &&_gega !=_d .ErrColorOutOfRange {return nil ,0,0,_gega ;
};if _bgf ._cacf !=nil {_bacb ._ceaa ._cfae =_bgf ._cacf .UseSimplerExtractionProcess ;_bacb ._ceaa ._fgd =_bgf ._cacf .DisableMultiColumns ;};_bacb .computeViews ();_gega =_afbgd (_bacb );if _gega !=nil {return nil ,0,0,_gega ;};if _bgf ._cacf !=nil {if _bgf ._cacf .ApplyCropBox &&_bgf ._bab !=nil {_bacb .ApplyArea (*_bgf ._bab );
};_bacb ._ceaa ._fdcb =_bgf ._cacf .DisableDocumentTags ;};return _bacb ,_bcgd ,_gcbb ,nil ;};func (_dgcde paraList )findGridTables (_dgfcd []gridTiling )[]*textTable {if _eceb {_f .Log .Info ("\u0066i\u006e\u0064\u0047\u0072\u0069\u0064\u0054\u0061\u0062\u006c\u0065s\u003a\u0020\u0025\u0064\u0020\u0070\u0061\u0072\u0061\u0073",len (_dgcde ));
for _eadag ,_fddde :=range _dgcde {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_eadag ,_fddde );};};var _gdbfd []*textTable ;for _gedb ,_ecfe :=range _dgfcd {_ffea ,_gbfd :=_dgcde .findTableGrid (_ecfe );if _ffea !=nil {_ffea .log (_ge .Sprintf ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0057\u0069\u0074\u0068\u0047\u0072\u0069\u0064\u0073\u003a\u0020%\u0064",_gedb ));
_gdbfd =append (_gdbfd ,_ffea );_ffea .markCells ();};for _dadd :=range _gbfd {_dadd ._agbfd =true ;};};if _eceb {_f .Log .Info ("\u0066i\u006e\u0064\u0047\u0072i\u0064\u0054\u0061\u0062\u006ce\u0073:\u0020%\u0064\u0020\u0074\u0061\u0062\u006c\u0065s",len (_gdbfd ));
};return _gdbfd ;};func (_fbce paraList )sortTopoOrder (){_ceec :=_fbce .topoOrder ();_fbce .reorder (_ceec )};func (_degd paraList )list ()[]*list {var _dggcb []*textLine ;var _gcaf []*textLine ;for _ ,_cdgc :=range _degd {_deaf :=_cdgc .getListLines ();
_dggcb =append (_dggcb ,_deaf ...);_gcaf =append (_gcaf ,_cdgc ._cbdb ...);};_dgfb :=_aacg (_dggcb );_ffgfg :=_babgd (_gcaf ,_dgfb );return _ffgfg ;};func (_fecb *shapesState )lineTo (_geda ,_gbdg float64 ){if _cbge {_f .Log .Info ("\u006c\u0069\u006eeT\u006f\u0028\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0070\u003d\u0025\u002e\u0032\u0066",_geda ,_gbdg ,_fecb .devicePoint (_geda ,_gbdg ));
};_fecb .addPoint (_geda ,_gbdg );};func _abfag (_bdfgc _d .PdfRectangle )*ruling {return &ruling {_dcga :_bbffc ,_aead :_bdfgc .Urx ,_ccag :_bdfgc .Lly ,_dbgda :_bdfgc .Ury };};func (_geeaf pathSection )bbox ()_d .PdfRectangle {_edea :=_geeaf ._aca [0]._cdde [0];
_aeef :=_d .PdfRectangle {Llx :_edea .X ,Urx :_edea .X ,Lly :_edea .Y ,Ury :_edea .Y };_aafd :=func (_eaef _db .Point ){if _eaef .X < _aeef .Llx {_aeef .Llx =_eaef .X ;}else if _eaef .X > _aeef .Urx {_aeef .Urx =_eaef .X ;};if _eaef .Y < _aeef .Lly {_aeef .Lly =_eaef .Y ;
}else if _eaef .Y > _aeef .Ury {_aeef .Ury =_eaef .Y ;};};for _ ,_beea :=range _geeaf ._aca [0]._cdde [1:]{_aafd (_beea );};for _ ,_cdfa :=range _geeaf ._aca [1:]{for _ ,_gbdf :=range _cdfa ._cdde {_aafd (_gbdf );};};return _aeef ;};const _feaa =1.0/1000.0;
func (_dege *ruling )alignsPrimary (_dbaa *ruling )bool {return _dege ._dcga ==_dbaa ._dcga &&_e .Abs (_dege ._aead -_dbaa ._aead )< _efef *0.5;};func _baga (_eecb *_af .ContentStreamOperation )(float64 ,error ){if len (_eecb .Params )!=1{_fecd :=_eg .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");
_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_eecb .Operand ,1,len (_eecb .Params ),_eecb .Params );
return 0.0,_fecd ;};return _gb .GetNumberAsFloat (_eecb .Params [0]);};

// String returns a description of `b`.
func (_cfec *wordBag )String ()string {var _fccc []string ;for _ ,_dbdb :=range _cfec .depthIndexes (){_ddee :=_cfec ._gfda [_dbdb ];for _ ,_abeb :=range _ddee {_fccc =append (_fccc ,_abeb ._bdea );};};return _ge .Sprintf ("\u0025.\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065=\u0025\u002e\u0032\u0066\u0020\u0025\u0064\u0020\u0025\u0071",_cfec .PdfRectangle ,_cfec ._gdba ,len (_fccc ),_fccc );
};func _cged (_fgf []byte ,_ecd *_d .PdfFont )string {_bfgg :=_ecd .BytesToCharcodes (_fgf );_fbf ,_gcfc ,_fbdb :=_ecd .CharcodesToStrings (_bfgg ,"");if _fbdb > 0{_f .Log .Debug ("\u0072\u0065nd\u0065\u0072\u0054e\u0078\u0074\u003a\u0020num\u0043ha\u0072\u0073\u003d\u0025\u0064\u0020\u006eum\u004d\u0069\u0073\u0073\u0065\u0073\u003d%\u0064",_gcfc ,_fbdb );
};_cdaa :=_df .Join (_fbf ,"");return _cdaa ;};func _ef (_cf []string ,_gc int ,_bdc int ,_ccb string ){for _bec :=_gc ;_bec < _bdc ;_bec ++{_cf [_bec ]=_ccb ;};};func (_gabbba rulingList )splitSec ()[]rulingList {_b .Slice (_gabbba ,func (_edadb ,_bgdgg int )bool {_agaaf ,_bdecfe :=_gabbba [_edadb ],_gabbba [_bgdgg ];
if _agaaf ._ccag !=_bdecfe ._ccag {return _agaaf ._ccag < _bdecfe ._ccag ;};return _agaaf ._dbgda < _bdecfe ._dbgda ;});_dcede :=make (map[*ruling ]struct{},len (_gabbba ));_fafe :=func (_fcbfe *ruling )rulingList {_eabc :=rulingList {_fcbfe };_dcede [_fcbfe ]=struct{}{};
for _ ,_febgga :=range _gabbba {if _ ,_gffe :=_dcede [_febgga ];_gffe {continue ;};for _ ,_dgfa :=range _eabc {if _febgga .alignsSec (_dgfa ){_eabc =append (_eabc ,_febgga );_dcede [_febgga ]=struct{}{};break ;};};};return _eabc ;};_faecf :=[]rulingList {_fafe (_gabbba [0])};
for _ ,_bgbgc :=range _gabbba [1:]{if _ ,_bfebf :=_dcede [_bgbgc ];_bfebf {continue ;};_faecf =append (_faecf ,_fafe (_bgbgc ));};return _faecf ;};func (_ffdee lineRuling )asRuling ()(*ruling ,bool ){_ecaff :=ruling {_dcga :_ffdee ._fabfb ,Color :_ffdee .Color ,_afcba :_dgafa };
switch _ffdee ._fabfb {case _bbffc :_ecaff ._aead =_ffdee .xMean ();_ecaff ._ccag =_e .Min (_ffdee ._bfaad .Y ,_ffdee ._gbgg .Y );_ecaff ._dbgda =_e .Max (_ffdee ._bfaad .Y ,_ffdee ._gbgg .Y );case _ddeae :_ecaff ._aead =_ffdee .yMean ();_ecaff ._ccag =_e .Min (_ffdee ._bfaad .X ,_ffdee ._gbgg .X );
_ecaff ._dbgda =_e .Max (_ffdee ._bfaad .X ,_ffdee ._gbgg .X );default:_f .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_ffdee ._fabfb );return nil ,false ;};return &_ecaff ,true ;
};func (_aaaa *shapesState )drawRectangle (_fgg ,_cddbf ,_fdfg ,_cdf float64 ){if _cbge {_adff :=_aaaa .devicePoint (_fgg ,_cddbf );_gbfc :=_aaaa .devicePoint (_fgg +_fdfg ,_cddbf +_cdf );_abfb :=_d .PdfRectangle {Llx :_adff .X ,Lly :_adff .Y ,Urx :_gbfc .X ,Ury :_gbfc .Y };
_f .Log .Info ("d\u0072a\u0077\u0052\u0065\u0063\u0074\u0061\u006e\u0067l\u0065\u003a\u0020\u00256.\u0032\u0066",_abfb );};_aaaa .newSubPath ();_aaaa .moveTo (_fgg ,_cddbf );_aaaa .lineTo (_fgg +_fdfg ,_cddbf );_aaaa .lineTo (_fgg +_fdfg ,_cddbf +_cdf );
_aaaa .lineTo (_fgg ,_cddbf +_cdf );_aaaa .closePath ();};func (_fdae paraList )merge ()*textPara {_f .Log .Trace ("\u006d\u0065\u0072\u0067\u0065:\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_fdae ));
if len (_fdae )==0{return nil ;};_fdae .sortReadingOrder ();_gfge :=_fdae [0].PdfRectangle ;_bgad :=_fdae [0]._cbdb ;for _ ,_eagd :=range _fdae [1:]{_gfge =_fgfdfc (_gfge ,_eagd .PdfRectangle );_bgad =append (_bgad ,_eagd ._cbdb ...);};return _aefa (_gfge ,_bgad );
};func _ebfdf (_gaccb _d .PdfRectangle )*ruling {return &ruling {_dcga :_ddeae ,_aead :_gaccb .Lly ,_ccag :_gaccb .Llx ,_dbgda :_gaccb .Urx };};func (_dcgd rectRuling )asRuling ()(*ruling ,bool ){_daba :=ruling {_dcga :_dcgd ._cefdd ,Color :_dcgd .Color ,_afcba :_afea };
switch _dcgd ._cefdd {case _bbffc :_daba ._aead =0.5*(_dcgd .Llx +_dcgd .Urx );_daba ._ccag =_dcgd .Lly ;_daba ._dbgda =_dcgd .Ury ;_gabbc ,_aggce :=_dcgd .checkWidth (_dcgd .Llx ,_dcgd .Urx );if !_aggce {if _ebbb {_f .Log .Error ("\u0072\u0065\u0063\u0074\u0052\u0075l\u0069\u006e\u0067\u002e\u0061\u0073\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0072\u0075\u006c\u0069\u006e\u0067V\u0065\u0072\u0074\u0020\u0021\u0063\u0068\u0065\u0063\u006b\u0057\u0069\u0064\u0074h\u0020v\u003d\u0025\u002b\u0076",_dcgd );
};return nil ,false ;};_daba ._febc =_gabbc ;case _ddeae :_daba ._aead =0.5*(_dcgd .Lly +_dcgd .Ury );_daba ._ccag =_dcgd .Llx ;_daba ._dbgda =_dcgd .Urx ;_ggab ,_gdggg :=_dcgd .checkWidth (_dcgd .Lly ,_dcgd .Ury );if !_gdggg {if _ebbb {_f .Log .Error ("\u0072\u0065\u0063\u0074\u0052\u0075l\u0069\u006e\u0067\u002e\u0061\u0073\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0072\u0075\u006c\u0069\u006e\u0067H\u006f\u0072\u007a\u0020\u0021\u0063\u0068\u0065\u0063\u006b\u0057\u0069\u0064\u0074h\u0020v\u003d\u0025\u002b\u0076",_dcgd );
};return nil ,false ;};_daba ._febc =_ggab ;default:_f .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_dcgd ._cefdd );return nil ,false ;};return &_daba ,true ;};func _fdaad (_faea *list ,_cdcg *string )string {_cecfg :=_df .Split (_faea ._ddgc ,"\u000a");
_cgcfb :=&_df .Builder {};for _ ,_efbe :=range _cecfg {if _efbe !=""{_cgcfb .WriteString (*_cdcg );_cgcfb .WriteString (_efbe );_cgcfb .WriteString ("\u000a");};};return _cgcfb .String ();};func _cb (_dg int )bool {return (_dg &1)==0};type event struct{_fedda float64 ;
_cdbcb bool ;_eaaaf int ;};func (_agfe *textPara )text ()string {_eddb :=new (_bd .Buffer );_agfe .writeText (_eddb );return _eddb .String ();};func (_geea *TextMarkArray )exists (_bged TextMark )bool {for _ ,_bea :=range _geea .Elements (){if _aa .DeepEqual (_bged .DirectObject ,_bea .DirectObject )&&_aa .DeepEqual (_bged .BBox ,_bea .BBox )&&_bea .Text ==_bged .Text {return true ;
};};return false ;};type textPara struct{_d .PdfRectangle ;_gdeb _d .PdfRectangle ;_cbdb []*textLine ;_cgbdg *textTable ;_agbfd bool ;_dgba bool ;_ddge *textPara ;_fbab *textPara ;_cggeb *textPara ;_cbfga *textPara ;_gedac []list ;};func (_afbg *textObject )setHorizScaling (_gdaf float64 ){if _afbg ==nil {return ;
};_afbg ._fceba ._bgfa =_gdaf ;};type compositeCell struct{_d .PdfRectangle ;paraList ;};

// ToTextMark returns the public view of `tm`.
func (_defc *textMark )ToTextMark ()TextMark {return TextMark {Text :_defc ._dfge ,Original :_defc ._gdcba ,BBox :_defc ._gfeg ,Font :_defc ._aeed ,FontSize :_defc ._ffeg ,FillColor :_defc ._aeac ,StrokeColor :_defc ._dabf ,Orientation :_defc ._cgaeg ,DirectObject :_defc ._gdbad ,ObjString :_defc ._bdecf ,Tw :_defc .Tw ,Th :_defc .Th ,Tc :_defc ._cbad ,Index :_defc ._cdagd };
};func _afef (_fcd *TextMarkArray )[]*TextMarkArray {_bfg :=_fcd .Elements ();_ega :=len (_bfg );var _ddg _gb .PdfObject ;_ebg :=[]*TextMarkArray {};_fedg :=&TextMarkArray {};_dbe :=-1;for _ead ,_bgc :=range _bfg {_fdcd :=_bgc .DirectObject ;_dbe =_bgc .Index ;
if _fdcd ==nil {_fbc :=_fga (_fcd ,_ead );if _ddg !=nil {if _fbc ==-1||_fbc > _ead {_ebg =append (_ebg ,_fedg );_fedg =&TextMarkArray {};};};}else if _ddg ==nil {if _dbe ==0&&_ead > 0{_ebg =append (_ebg ,_fedg );_fedg =&TextMarkArray {};};}else {if _fdcd !=_ddg {_ebg =append (_ebg ,_fedg );
_fedg =&TextMarkArray {};};};_ddg =_fdcd ;_fedg .Append (_bgc );if _ead ==(_ega -1){_ebg =append (_ebg ,_fedg );};};return _ebg ;};func (_ccab paraList )toTextMarks ()[]TextMark {_cgcc :=0;var _gade []TextMark ;for _fgfcb ,_edcga :=range _ccab {if _edcga ._dgba {continue ;
};_fbgb :=_edcga .toTextMarks (&_cgcc );_gade =append (_gade ,_fbgb ...);if _fgfcb !=len (_ccab )-1{if _befb (_edcga ,_ccab [_fgfcb +1]){_gade =_cdeff (_gade ,&_cgcc ,"\u0020");}else {_gade =_cdeff (_gade ,&_cgcc ,"\u000a");_gade =_cdeff (_gade ,&_cgcc ,"\u000a");
};};};_gade =_cdeff (_gade ,&_cgcc ,"\u000a");_gade =_cdeff (_gade ,&_cgcc ,"\u000a");return _gade ;};func _cbeb (_cfbg *textLine )float64 {return _cfbg ._bcfga [0].Llx };func _fgbff (_eecg ,_becc _db .Point )rulingKind {_cbbe :=_e .Abs (_eecg .X -_becc .X );
_fddfa :=_e .Abs (_eecg .Y -_becc .Y );return _dbbec (_cbbe ,_fddfa ,_cbde );};func _ededa (_cddeg _d .PdfRectangle )*ruling {return &ruling {_dcga :_bbffc ,_aead :_cddeg .Llx ,_ccag :_cddeg .Lly ,_dbgda :_cddeg .Ury };};type stateStack []*textState ;func _gaccd (_bbefdb *textLine ,_ceeaa []*textLine ,_abgb ,_bgdd float64 )[]*textLine {_egba :=[]*textLine {};
for _ ,_cedef :=range _ceeaa {if _cedef ._bdef >=_abgb {if _bgdd !=-1&&_cedef ._bdef < _bgdd {if _cedef .text ()!=_bbefdb .text (){if _e .Round (_cedef .Llx )< _e .Round (_bbefdb .Llx ){break ;};_egba =append (_egba ,_cedef );};}else if _bgdd ==-1{if _cedef ._bdef ==_bbefdb ._bdef {if _cedef .text ()!=_bbefdb .text (){_egba =append (_egba ,_cedef );
};continue ;};_gffab :=_bdabg (_bbefdb ,_ceeaa );if _gffab !=-1&&_cedef ._bdef <=_gffab {_egba =append (_egba ,_cedef );};};};};return _egba ;};func (_dfcg paraList )log (_fdag string ){if !_bfcc {return ;};_f .Log .Info ("%\u0038\u0073\u003a\u0020\u0025\u0064 \u0070\u0061\u0072\u0061\u0073\u0020=\u003d\u003d\u003d\u003d\u003d\u003d\u002d-\u002d\u002d\u002d\u002d\u002d\u003d\u003d\u003d\u003d\u003d=\u003d",_fdag ,len (_dfcg ));
for _cedc ,_ddae :=range _dfcg {if _ddae ==nil {continue ;};_faeb :=_ddae .text ();_dgcbd :="\u0020\u0020";if _ddae ._cgbdg !=nil {_dgcbd =_ge .Sprintf ("\u005b%\u0064\u0078\u0025\u0064\u005d",_ddae ._cgbdg ._dafge ,_ddae ._cgbdg ._ecdae );};_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0025s\u0020\u0025\u0071\u000a",_cedc ,_ddae .PdfRectangle ,_dgcbd ,_edde (_faeb ,50));
};};func _afbgd (_cgaf *PageText )error {_cgacd :=_ba .GetLicenseKey ();if _cgacd !=nil &&_cgacd .IsLicensed ()||_cfgd {return nil ;};_ge .Printf ("\u0055\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064\u0020c\u006f\u0070\u0079\u0020\u006f\u0066\u0020\u0055\u006e\u0069P\u0044\u0046\u000a");
_ge .Println ("-\u0020\u0047\u0065\u0074\u0020\u0061\u0020\u0066\u0072e\u0065\u0020\u0074\u0072\u0069\u0061\u006c l\u0069\u0063\u0065\u006es\u0065\u0020\u006f\u006e\u0020\u0068\u0074\u0074\u0070s:\u002f\u002fu\u006e\u0069\u0064\u006f\u0063\u002e\u0069\u006f");
return _eg .New ("\u0075\u006e\u0069\u0070d\u0066\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020c\u006fd\u0065\u0020\u0072\u0065\u0071\u0075\u0069r\u0065\u0064");};func (_efcgf *textTable )put (_dfbf ,_gfbe int ,_ceefg *textPara ){_efcgf ._ddagg [_aaaeca (_dfbf ,_gfbe )]=_ceefg ;
};func (_bggfc paraList )eventNeighbours (_acdea []event )map[*textPara ][]int {_b .Slice (_acdea ,func (_bbdec ,_dafa int )bool {_cdgda ,_cacfb :=_acdea [_bbdec ],_acdea [_dafa ];_gfeag ,_feegf :=_cdgda ._fedda ,_cacfb ._fedda ;if _gfeag !=_feegf {return _gfeag < _feegf ;
};if _cdgda ._cdbcb !=_cacfb ._cdbcb {return _cdgda ._cdbcb ;};return _bbdec < _dafa ;});_egdcc :=make (map[int ]intSet );_dgfd :=make (intSet );for _ ,_becbb :=range _acdea {if _becbb ._cdbcb {_egdcc [_becbb ._eaaaf ]=make (intSet );for _addbb :=range _dgfd {if _addbb !=_becbb ._eaaaf {_egdcc [_becbb ._eaaaf ].add (_addbb );
_egdcc [_addbb ].add (_becbb ._eaaaf );};};_dgfd .add (_becbb ._eaaaf );}else {_dgfd .del (_becbb ._eaaaf );};};_dddca :=map[*textPara ][]int {};for _decce ,_gdbag :=range _egdcc {_gdebb :=_bggfc [_decce ];if len (_gdbag )==0{_dddca [_gdebb ]=nil ;continue ;
};_dgdce :=make ([]int ,len (_gdbag ));_edce :=0;for _cbca :=range _gdbag {_dgdce [_edce ]=_cbca ;_edce ++;};_dddca [_gdebb ]=_dgdce ;};return _dddca ;};func (_fbde *textObject )setTextRise (_adga float64 ){if _fbde ==nil {return ;};_fbde ._fceba ._decb =_adga ;
};

// String returns a human readable description of `ss`.
func (_gdbb *shapesState )String ()string {return _ge .Sprintf ("\u007b\u0025\u0064\u0020su\u0062\u0070\u0061\u0074\u0068\u0073\u0020\u0066\u0072\u0065\u0073\u0068\u003d\u0025t\u007d",len (_gdbb ._cbce ),_gdbb ._cffg );};func _bbcb (_fbaeg []compositeCell )[]float64 {var _abgdb []*textLine ;
_cdafa :=0;for _ ,_addg :=range _fbaeg {_cdafa +=len (_addg .paraList );_abgdb =append (_abgdb ,_addg .lines ()...);};_b .Slice (_abgdb ,func (_fgccb ,_ceefc int )bool {_cfff ,_gaefc :=_abgdb [_fgccb ],_abgdb [_ceefc ];_ddef ,_gffaf :=_cfff ._bdef ,_gaefc ._bdef ;
if !_eedbf (_ddef -_gffaf ){return _ddef < _gffaf ;};return _cfff .Llx < _gaefc .Llx ;});if _eceb {_ge .Printf ("\u0020\u0020\u0020 r\u006f\u0077\u0042\u006f\u0072\u0064\u0065\u0072\u0073:\u0020%\u0064 \u0070a\u0072\u0061\u0073\u0020\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u000a",_cdafa ,len (_abgdb ));
for _acga ,_ccaba :=range _abgdb {_ge .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_acga ,_ccaba );};};var _egbd []float64 ;_efgg :=_abgdb [0];var _caegc [][]*textLine ;_deccg :=[]*textLine {_efgg };for _cgagd ,_bfgbg :=range _abgdb [1:]{if _bfgbg .Ury < _efgg .Lly {_bdgg :=0.5*(_bfgbg .Ury +_efgg .Lly );
if _eceb {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u003c\u0020\u0025\u0036.\u0032f\u0020\u0062\u006f\u0072\u0064\u0065\u0072\u003d\u0025\u0036\u002e\u0032\u0066\u000a"+"\u0009\u0020\u0071\u003d\u0025\u0073\u000a\u0009\u0020p\u003d\u0025\u0073\u000a",_cgagd ,_bfgbg .Ury ,_efgg .Lly ,_bdgg ,_efgg ,_bfgbg );
};_egbd =append (_egbd ,_bdgg );_caegc =append (_caegc ,_deccg );_deccg =nil ;};_deccg =append (_deccg ,_bfgbg );if _bfgbg .Lly < _efgg .Lly {_efgg =_bfgbg ;};};if len (_deccg )> 0{_caegc =append (_caegc ,_deccg );};if _eceb {_ge .Printf (" \u0020\u0020\u0020\u0020\u0020\u0020 \u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064o\u0072\u0073\u003d%\u0036.\u0032\u0066\u000a",_egbd );
};if _eceb {_f .Log .Info ("\u0072\u006f\u0077\u003d\u0025\u0064",len (_fbaeg ));for _acea ,_fedc :=range _fbaeg {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_acea ,_fedc );};_f .Log .Info ("\u0067r\u006f\u0075\u0070\u0073\u003d\u0025d",len (_caegc ));
for _dbfc ,_becfd :=range _caegc {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0064\u000a",_dbfc ,len (_becfd ));for _fbabd ,_efccc :=range _becfd {_ge .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_fbabd ,_efccc );};};};_abagc :=true ;
for _bfadd ,_febcg :=range _caegc {_afeca :=true ;for _eeagb ,_feca :=range _fbaeg {if _eceb {_ge .Printf ("\u0020\u0020\u0020\u007e\u007e\u007e\u0067\u0072\u006f\u0075\u0070\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064\u0020\u0063\u0065\u006cl\u0020\u0025\u0064\u0020\u006ff\u0020\u0025d\u0020\u0025\u0073\u000a",_bfadd ,len (_caegc ),_eeagb ,len (_fbaeg ),_feca );
};if !_feca .hasLines (_febcg ){if _eceb {_ge .Printf ("\u0020\u0020\u0020\u0021\u0021\u0021\u0067\u0072\u006f\u0075\u0070\u0020\u0025d\u0020\u006f\u0066\u0020\u0025\u0064 \u0063\u0065\u006c\u006c\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064 \u004f\u0055\u0054\u000a",_bfadd ,len (_caegc ),_eeagb ,len (_fbaeg ));
};_afeca =false ;break ;};};if !_afeca {_abagc =false ;break ;};};if !_abagc {if _eceb {_f .Log .Info ("\u0072\u006f\u0077\u0020\u0063o\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u0020\u0064\u006f\u006e\u0027\u0074 \u0073\u0070\u0061\u006e\u0020\u0061\u006c\u006c\u0020\u0063\u0065\u006c\u006c\u0073\u0020\u0069\u006e\u0020\u0072\u006f\u0077\u002e\u0020\u0069\u0067\u006e\u006f\u0072\u0069\u006eg");
};_egbd =nil ;};if _eceb &&_egbd !=nil {_ge .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u002a\u002a*\u0072\u006f\u0077\u0043\u006f\u0072\u0072i\u0064\u006f\u0072\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u000a",_egbd );};return _egbd ;};
func _cccc (_fagff ,_gdfba bounded )float64 {return _fagff .bbox ().Llx -_gdfba .bbox ().Llx };

// NewEditor returns a new Editor object
func NewEditor (reader *_d .PdfReader )*Editor {return &Editor {_bdf :reader }};func (_dbad rulingList )asTiling ()gridTiling {if _fdef {_f .Log .Info ("r\u0075\u006ci\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0063s\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u002b\u002b\u002b\u0020\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_dbad ));
};for _edgd ,_gdbce :=range _dbad [1:]{_fgcc :=_dbad [_edgd ];if _fgcc .alignsPrimary (_gdbce )&&_fgcc .alignsSec (_gdbce ){_f .Log .Error ("a\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0044\u0075\u0070\u006c\u0069\u0063\u0061\u0074\u0065 \u0072\u0075\u006c\u0069\u006e\u0067\u0073\u002e\u000a\u0009v=\u0025\u0073\u000a\t\u0077=\u0025\u0073",_gdbce ,_fgcc );
};};_dbad .sortStrict ();_dbad .log ("\u0073n\u0061\u0070\u0070\u0065\u0064");_fegc ,_cebde :=_dbad .vertsHorzs ();_gcec :=_fegc .primaries ();_ggfac :=_cebde .primaries ();_acafb :=len (_gcec )-1;_eddf :=len (_ggfac )-1;if _acafb ==0||_eddf ==0{return gridTiling {};
};_bdgf :=_d .PdfRectangle {Llx :_gcec [0],Urx :_gcec [_acafb ],Lly :_ggfac [0],Ury :_ggfac [_eddf ]};if _fdef {_f .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0072\u0074s=\u0025\u0064",len (_fegc ));
for _cafd ,_fbeff :=range _fegc {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_cafd ,_fbeff );};_f .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0068\u006f\u0072\u007as=\u0025\u0064",len (_cebde ));
for _bebd ,_ddgbd :=range _cebde {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_bebd ,_ddgbd );};_f .Log .Info ("\u0072\u0075\u006c\u0069\u006eg\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067:\u0020\u0020\u0077\u0078\u0068\u003d\u0025\u0064\u0078\u0025\u0064\u000a\u0009\u006c\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a\u0009\u006c\u006c\u0079\u003d\u0025\u002e\u0032f",_acafb ,_eddf ,_gcec ,_ggfac );
};_cbdaf :=make ([]gridTile ,_acafb *_eddf );for _fecfd :=_eddf -1;_fecfd >=0;_fecfd --{_cgcac :=_ggfac [_fecfd ];_dbeg :=_ggfac [_fecfd +1];for _dcaaa :=0;_dcaaa < _acafb ;_dcaaa ++{_eaee :=_gcec [_dcaaa ];_ebadc :=_gcec [_dcaaa +1];_gaada :=_fegc .findPrimSec (_eaee ,_cgcac );
_fegac :=_fegc .findPrimSec (_ebadc ,_cgcac );_fcccf :=_cebde .findPrimSec (_cgcac ,_eaee );_gaaad :=_cebde .findPrimSec (_dbeg ,_eaee );_ffbc :=_d .PdfRectangle {Llx :_eaee ,Urx :_ebadc ,Lly :_cgcac ,Ury :_dbeg };_acbec :=_gccdg (_ffbc ,_gaada ,_fegac ,_fcccf ,_gaaad );
_cbdaf [_fecfd *_acafb +_dcaaa ]=_acbec ;if _fdef {_ge .Printf ("\u0020\u0020\u0078\u003d\u0025\u0032\u0064\u0020\u0079\u003d\u0025\u0032\u0064\u003a\u0020%\u0073 \u0025\u0036\u002e\u0032\u0066\u0020\u0078\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_dcaaa ,_fecfd ,_acbec .String (),_acbec .Width (),_acbec .Height ());
};};};if _fdef {_f .Log .Info ("r\u0075\u006c\u0069\u006e\u0067\u004c\u0069\u0073\u0074.\u0061\u0073\u0054\u0069\u006c\u0069\u006eg:\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0020\u0068\u006f\u0072\u0069zo\u006e\u0074a\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_bdgf );
};_gagga :=make ([]map[float64 ]gridTile ,_eddf );for _fcde :=_eddf -1;_fcde >=0;_fcde --{if _fdef {_ge .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_fcde );};_gagga [_fcde ]=make (map[float64 ]gridTile ,_acafb );for _faeda :=0;_faeda < _acafb ;
_faeda ++{_daea :=_cbdaf [_fcde *_acafb +_faeda ];if _fdef {_ge .Printf ("\u0020\u0020\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_faeda ,_daea );};if !_daea ._bccf {continue ;};_affg :=_faeda ;for _gbgb :=_faeda +1;!_daea ._eecf &&_gbgb < _acafb ;
_gbgb ++{_cegg :=_cbdaf [_fcde *_acafb +_gbgb ];_daea .Urx =_cegg .Urx ;_daea ._acbg =_daea ._acbg ||_cegg ._acbg ;_daea ._efbdg =_daea ._efbdg ||_cegg ._efbdg ;_daea ._eecf =_cegg ._eecf ;if _fdef {_ge .Printf ("\u0020 \u0020%\u0034\u0064\u003a\u0020\u0025s\u0020\u2192 \u0025\u0073\u000a",_gbgb ,_cegg ,_daea );
};_affg =_gbgb ;};if _fdef {_ge .Printf (" \u0020 \u0025\u0032\u0064\u0020\u002d\u0020\u0025\u0032d\u0020\u2192\u0020\u0025s\n",_faeda ,_affg ,_daea );};_faeda =_affg ;_gagga [_fcde ][_daea .Llx ]=_daea ;};};_ecdfa :=make (map[float64 ]map[float64 ]gridTile ,_eddf );
_dcfg :=make (map[float64 ]map[float64 ]struct{},_eddf );for _ceac :=_eddf -1;_ceac >=0;_ceac --{_fafge :=_cbdaf [_ceac *_acafb ].Lly ;_ecdfa [_fafge ]=make (map[float64 ]gridTile ,_acafb );_dcfg [_fafge ]=make (map[float64 ]struct{},_acafb );};if _fdef {_f .Log .Info ("\u0072u\u006c\u0069n\u0067\u004c\u0069s\u0074\u002e\u0061\u0073\u0054\u0069\u006ci\u006e\u0067\u003a\u0020\u0063\u006fa\u006c\u0065\u0073\u0063\u0065\u0020\u0076\u0065\u0072\u0074\u0069c\u0061\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_bdgf );
};for _bcgcd :=_eddf -1;_bcgcd >=0;_bcgcd --{_ecgfd :=_cbdaf [_bcgcd *_acafb ].Lly ;_aeae :=_gagga [_bcgcd ];if _fdef {_ge .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_bcgcd );};for _ ,_bcbba :=range _bddc (_aeae ){if _ ,_eaeeg :=_dcfg [_ecgfd ][_bcbba ];
_eaeeg {continue ;};_bega :=_aeae [_bcbba ];if _fdef {_ge .Printf (" \u0020\u0020\u0020\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_bega .String ());};for _deefc :=_bcgcd -1;_deefc >=0;_deefc --{if _bega ._efbdg {break ;};_dffc :=_gagga [_deefc ];_beccf ,_fggc :=_dffc [_bcbba ];
if !_fggc {break ;};if _beccf .Urx !=_bega .Urx {break ;};_bega ._efbdg =_beccf ._efbdg ;_bega .Lly =_beccf .Lly ;if _fdef {_ge .Printf ("\u0020\u0020\u0020\u0020  \u0020\u0020\u0076\u003d\u0025\u0073\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_beccf .String (),_bega .String ());
};_dcfg [_beccf .Lly ][_beccf .Llx ]=struct{}{};};if _bcgcd ==0{_bega ._efbdg =true ;};if _bega .complete (){_ecdfa [_ecgfd ][_bcbba ]=_bega ;};};};_cdgb :=gridTiling {PdfRectangle :_bdgf ,_aefag :_ffgg (_ecdfa ),_badcc :_dccc (_ecdfa ),_begfe :_ecdfa };
_cdgb .log ("\u0043r\u0065\u0061\u0074\u0065\u0064");return _cdgb ;};func _bgcdf (_ebeef string )(string ,bool ){_gbfcd :=[]rune (_ebeef );if len (_gbfcd )!=1{return "",false ;};_dfdgb ,_cbffg :=_daaag [_gbfcd [0]];return _dfdgb ,_cbffg ;};func (_gaffa *PageText )getParagraphs ()paraList {var _aeafg rulingList ;
if _fgca {_daac :=_cdeg (_gaffa ._gfa );_aeafg =append (_aeafg ,_daac ...);};if _addda {_eacgb :=_abab (_gaffa ._dgec );_aeafg =append (_aeafg ,_eacgb ...);};_aeafg ,_gbe :=_aeafg .toTilings ();var _dba paraList ;_fbed :=len (_gaffa ._ccbg );for _fcab :=0;
_fcab < 360&&_fbed > 0;_fcab +=90{_efcaa :=make ([]*textMark ,0,len (_gaffa ._ccbg )-_fbed );for _ ,_gfbfe :=range _gaffa ._ccbg {if _gfbfe ._cgaeg ==_fcab {_efcaa =append (_efcaa ,_gfbfe );};};if len (_efcaa )> 0{_cgge :=_gede (_efcaa ,_gaffa ._dfeg ,_aeafg ,_gbe ,_gaffa ._ceaa ._fgd );
_dba =append (_dba ,_cgge ...);_fbed -=len (_efcaa );};};return _dba ;};func (_gcfeb compositeCell )parasBBox ()(paraList ,_d .PdfRectangle ){return _gcfeb .paraList ,_gcfeb .PdfRectangle ;};const (_ggbbc rulingKind =iota ;_ddeae ;_bbffc ;);func _gddd (_bacd ,_dfdbb _d .PdfRectangle )bool {return _dfgd (_bacd ,_dfdbb )&&_beed (_bacd ,_dfdbb )};
type textTable struct{_d .PdfRectangle ;_dafge ,_ecdae int ;_beced bool ;_ddagg map[uint64 ]*textPara ;_agdcc map[uint64 ]compositeCell ;};func _aggac (_ecbfg *_d .Image ,_agafce _ce .Color )_aaf .Image {_daabb ,_ebdc :=int (_ecbfg .Width ),int (_ecbfg .Height );
_ggaa :=_aaf .NewRGBA (_aaf .Rect (0,0,_daabb ,_ebdc ));for _efdc :=0;_efdc < _ebdc ;_efdc ++{for _fafbd :=0;_fafbd < _daabb ;_fafbd ++{_fdbbgf ,_cddfg :=_ecbfg .ColorAt (_fafbd ,_efdc );if _cddfg !=nil {_f .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_fafbd ,_efdc );
continue ;};_cbgdc ,_bdde ,_aceg ,_ :=_fdbbgf .RGBA ();var _adde _ce .Color ;if _cbgdc +_bdde +_aceg ==0{_adde =_ce .Transparent ;}else {_adde =_agafce ;};_ggaa .Set (_fafbd ,_efdc ,_adde );};};return _ggaa ;};func (_gdgdd gridTile )complete ()bool {return _gdgdd .numBorders ()==4};
func _cdeg (_aacf []pathSection )rulingList {_fagca (_aacf );if _acf {_f .Log .Info ("\u006d\u0061k\u0065\u0053\u0074\u0072\u006f\u006b\u0065\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0064\u0020\u0073\u0074\u0072ok\u0065\u0073",len (_aacf ));
};var _ffee rulingList ;for _ ,_baagf :=range _aacf {for _ ,_acac :=range _baagf ._aca {if len (_acac ._cdde )< 2{continue ;};_fddfd :=_acac ._cdde [0];for _ ,_gebgf :=range _acac ._cdde [1:]{if _dead ,_ccdec :=_dfbge (_fddfd ,_gebgf ,_baagf .Color );_ccdec {_ffee =append (_ffee ,_dead );
};_fddfd =_gebgf ;};};};if _acf {_f .Log .Info ("m\u0061\u006b\u0065\u0053tr\u006fk\u0065\u0052\u0075\u006c\u0069n\u0067\u0073\u003a\u0020\u0025\u0073",_ffee );};return _ffee ;};const (_aeea =1.0e-6;_cbgb =1.0e-4;_edga =10;_bgca =6;_ecgg =0.5;_aabb =0.12;
_gfbd =0.19;_bgcfec =0.04;_beba =1.0;_cfgf =0.04;_fefdb =12;_fega =0.4;_dabb =0.7;_aaegc =1.0;_aaac =0.1;_dbbe =1.4;_agbd =0.46;_cbba =0.02;_afdc =0.2;_cffe =0.5;_fdfa =4;_ebfd =4.0;_adea =6;_gada =0.3;_adgee =0.01;_aaecf =0.02;_cbffc =2;_gaae =2;_aaba =500;
_gaee =4.0;_cbde =0.05;_gbbc =0.1;_becbg =2.0;_efef =2.0;_efcc =1.5;_aecea =3.0;_edgba =0.25;);

// Box represents the bounding box of a given textMark on pdf page.
// This might be used for different kinds of high lighting after doing the search
type Box struct{BBox _d .PdfRectangle ;};func (_baebd gridTiling )complete ()bool {for _ ,_afca :=range _baebd ._begfe {for _ ,_ceeg :=range _afca {if !_ceeg .complete (){return false ;};};};return true ;};func (_gbac paraList )xNeighbours (_aaaf float64 )map[*textPara ][]int {_aced :=make ([]event ,2*len (_gbac ));
if _aaaf ==0{for _ceagda ,_eggc :=range _gbac {_aced [2*_ceagda ]=event {_eggc .Llx ,true ,_ceagda };_aced [2*_ceagda +1]=event {_eggc .Urx ,false ,_ceagda };};}else {for _babd ,_eacfc :=range _gbac {_aced [2*_babd ]=event {_eacfc .Llx -_aaaf *_eacfc .fontsize (),true ,_babd };
_aced [2*_babd +1]=event {_eacfc .Urx +_aaaf *_eacfc .fontsize (),false ,_babd };};};return _gbac .eventNeighbours (_aced );};

// PageText represents the layout of text on a device page.
type PageText struct{_ccbg []*textMark ;_begf string ;_ccdac []TextMark ;_dbcf []TextTable ;_dfeg _d .PdfRectangle ;_gfa []pathSection ;_dgec []pathSection ;_gbff *_d .StructTreeRoot ;_bagc _gb .PdfObject ;_ggbb *_af .ContentStreamOperations ;_ceaa PageTextOptions ;
};type wordBag struct{_d .PdfRectangle ;_gdba float64 ;_gddb ,_feaac rulingList ;_dfaa float64 ;_gfda map[int ][]*textWord ;};func (_ceagb *textTable )getComposite (_eedc ,_aggae int )(paraList ,_d .PdfRectangle ){_fcbad ,_bbacg :=_ceagb ._agdcc [_aaaeca (_eedc ,_aggae )];
if _eceb {_ge .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0067\u0065\u0074\u0043\u006f\u006d\u0070o\u0073i\u0074\u0065\u0028\u0025\u0064\u002c\u0025\u0064\u0029\u002d\u003e\u0025\u0073\u000a",_eedc ,_aggae ,_fcbad .String ());};if !_bbacg {return nil ,_d .PdfRectangle {};
};return _fcbad .parasBBox ();};

// String returns a description of `t`.
func (_bebea *textTable )String ()string {return _ge .Sprintf ("\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u0020\u0025\u0074",_bebea ._dafge ,_bebea ._ecdae ,_bebea ._beced );};func (_cdega *textWord )absorb (_cccce *textWord ){_cdega .PdfRectangle =_fgfdfc (_cdega .PdfRectangle ,_cccce .PdfRectangle );
_cdega ._bcaca =append (_cdega ._bcaca ,_cccce ._bcaca ...);};func (_bcggg *ruling )gridIntersecting (_abfaa *ruling )bool {return _fbac (_bcggg ._ccag ,_abfaa ._ccag )&&_fbac (_bcggg ._dbgda ,_abfaa ._dbgda );};type rectRuling struct{_cefdd rulingKind ;
_dgafd markKind ;_ce .Color ;_d .PdfRectangle ;};func (_caggf gridTiling )log (_edbgf string ){if !_fdef {return ;};_f .Log .Info ("\u0074i\u006ci\u006e\u0067\u003a\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0071",len (_caggf ._aefag ),len (_caggf ._badcc ),_edbgf );
_ge .Printf ("\u0020\u0020\u0020l\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a",_caggf ._aefag );_ge .Printf ("\u0020\u0020\u0020l\u006c\u0079\u003d\u0025\u002e\u0032\u0066\u000a",_caggf ._badcc );for _fdfef ,_fggb :=range _caggf ._badcc {_aecbc ,_afdcd :=_caggf ._begfe [_fggb ];
if !_afdcd {continue ;};_ge .Printf ("%\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_fdfef ,_fggb );for _feea ,_dgbg :=range _caggf ._aefag {_gced ,_fgfce :=_aecbc [_dgbg ];if !_fgfce {continue ;};_ge .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_feea ,_gced .String ());
};};};func _gbcg (_eddc ,_bagad bounded )float64 {return _eddc .bbox ().Llx -_bagad .bbox ().Urx };func (_cgfc *wordBag )depthBand (_efebe ,_afeg float64 )[]int {if len (_cgfc ._gfda )==0{return nil ;};return _cgfc .depthRange (_cgfc .getDepthIdx (_efebe ),_cgfc .getDepthIdx (_afeg ));
};func (_bdfgd rulingList )vertsHorzs ()(rulingList ,rulingList ){var _ffgd ,_dcda rulingList ;for _ ,_ddgbg :=range _bdfgd {switch _ddgbg ._dcga {case _bbffc :_ffgd =append (_ffgd ,_ddgbg );case _ddeae :_dcda =append (_dcda ,_ddgbg );};};return _ffgd ,_dcda ;
};func _beed (_abfcc ,_bcfg _d .PdfRectangle )bool {return _abfcc .Lly <=_bcfg .Ury &&_bcfg .Lly <=_abfcc .Ury ;};

// Font represents the font properties on a PDF page.
type Font struct{PdfFont *_d .PdfFont ;

// FontName represents Font Name from font properties.
FontName string ;

// FontType represents Font Subtype entry in the font dictionary inside page resources.
// Examples : type0, Type1, MMType1, Type3, TrueType, CIDFont.
FontType string ;

// ToUnicode is true if font provides a `ToUnicode` mapping.
ToUnicode bool ;

// IsCID is true if underlying font is a composite font.
// Composite font is represented by a font dictionary whose Subtype is `Type0`
IsCID bool ;

// IsSimple is true if font is simple font.
// A simple font is limited to only 8 bit (255) character codes.
IsSimple bool ;

// FontData represents the raw data of the embedded font file.
// It can have format TrueType (TTF), PostScript Font (PFB) or Compact Font Format (CCF).
// FontData value can be indicates from `FontFile`, `FontFile2` or `FontFile3` inside Font Descriptor.
// At most, only one of `FontFile`, `FontFile2` or `FontFile3` will be FontData value.
FontData []byte ;

// FontFileName is a name representing the font. it has format:
// (Font Name) + (Font Type Extension), example: helvetica.ttf.
FontFileName string ;

// FontDescriptor represents metrics and other attributes inside font properties from PDF Structure (Font Descriptor).
FontDescriptor *_d .PdfFontDescriptor ;};func (_ddgeg rulingList )augmentGrid ()(rulingList ,rulingList ){_agagd ,_defd :=_ddgeg .vertsHorzs ();if len (_agagd )==0||len (_defd )==0{return _agagd ,_defd ;};_gaabe ,_bdbf :=_agagd ,_defd ;_cagd :=_agagd .bbox ();
_debf :=_defd .bbox ();if _acf {_f .Log .Info ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0047\u0072\u0069\u0064\u003a\u0020b\u0062\u006f\u0078\u0056\u003d\u0025\u0036\u002e\u0032\u0066",_cagd );_f .Log .Info ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0047\u0072\u0069\u0064\u003a\u0020b\u0062\u006f\u0078\u0048\u003d\u0025\u0036\u002e\u0032\u0066",_debf );
};var _cegc ,_bfge ,_cgce ,_eaagb *ruling ;if _debf .Llx < _cagd .Llx -_becbg {_cegc =&ruling {_afcba :_adcfe ,_dcga :_bbffc ,_aead :_debf .Llx ,_ccag :_cagd .Lly ,_dbgda :_cagd .Ury };_agagd =append (rulingList {_cegc },_agagd ...);};if _debf .Urx > _cagd .Urx +_becbg {_bfge =&ruling {_afcba :_adcfe ,_dcga :_bbffc ,_aead :_debf .Urx ,_ccag :_cagd .Lly ,_dbgda :_cagd .Ury };
_agagd =append (_agagd ,_bfge );};if _cagd .Lly < _debf .Lly -_becbg {_cgce =&ruling {_afcba :_adcfe ,_dcga :_ddeae ,_aead :_cagd .Lly ,_ccag :_debf .Llx ,_dbgda :_debf .Urx };_defd =append (rulingList {_cgce },_defd ...);};if _cagd .Ury > _debf .Ury +_becbg {_eaagb =&ruling {_afcba :_adcfe ,_dcga :_ddeae ,_aead :_cagd .Ury ,_ccag :_debf .Llx ,_dbgda :_debf .Urx };
_defd =append (_defd ,_eaagb );};if len (_agagd )+len (_defd )==len (_ddgeg ){return _gaabe ,_bdbf ;};_fbadb :=append (_agagd ,_defd ...);_ddgeg .log ("u\u006e\u0061\u0075\u0067\u006d\u0065\u006e\u0074\u0065\u0064");_fbadb .log ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0065d");
return _agagd ,_defd ;};func _eeceb (_febg *textLine )bool {_aggf :=true ;_aabd :=-1;for _ ,_abffg :=range _febg ._bcfga {for _ ,_cbe :=range _abffg ._bcaca {_ggeb :=_cbe ._gbgd ;if _aabd ==-1{_aabd =_ggeb ;}else {if _aabd !=_ggeb {_aggf =false ;break ;
};};};};return _aggf ;};func (_ggb *textObject )moveTextSetLeading (_dbee ,_afbc float64 ){_ggb ._fceba ._feee =-_afbc ;_ggb .moveLP (_dbee ,_afbc );};func (_bfda *textPara )isAtom ()*textTable {_decc :=_bfda ;_ebcb :=_bfda ._fbab ;_afadc :=_bfda ._cbfga ;
if _ebcb .taken ()||_afadc .taken (){return nil ;};_agdeb :=_ebcb ._cbfga ;if _agdeb .taken ()||_agdeb !=_afadc ._fbab {return nil ;};return _eagf (_decc ,_ebcb ,_afadc ,_agdeb );};

// TextTable represents a table.
// Cells are ordered top-to-bottom, left-to-right.
// Cells[y] is the (0-offset) y'th row in the table.
// Cells[y][x] is the (0-offset) x'th column in the table.
type TextTable struct{_d .PdfRectangle ;W ,H int ;Cells [][]TableCell ;};func _abdf (_cdbc *paraList )map[int ][]*textLine {_fddf :=map[int ][]*textLine {};for _ ,_fffb :=range *_cdbc {for _ ,_gafa :=range _fffb ._cbdb {if !_eeceb (_gafa ){_f .Log .Debug ("g\u0072\u006f\u0075p\u004c\u0069\u006e\u0065\u0073\u003a\u0020\u0054\u0068\u0065\u0020\u0074\u0065\u0078\u0074\u0020\u006c\u0069\u006e\u0065\u0020\u0063\u006f\u006e\u0074a\u0069\u006e\u0073 \u006d\u006f\u0072\u0065\u0020\u0074\u0068\u0061\u006e\u0020\u006f\u006e\u0065 \u006d\u0063\u0069\u0064 \u006e\u0075\u006d\u0062e\u0072\u002e\u0020\u0049\u0074\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0062\u0065\u0020\u0073p\u006c\u0069\u0074\u002e");
continue ;};_eacf :=_gafa ._bcfga [0]._bcaca [0]._gbgd ;_fddf [_eacf ]=append (_fddf [_eacf ],_gafa );};if _fffb ._cgbdg !=nil {_efgdf :=_fffb ._cgbdg ._ddagg ;for _ ,_ccdaca :=range _efgdf {for _ ,_accc :=range _ccdaca ._cbdb {if !_eeceb (_accc ){_f .Log .Debug ("g\u0072\u006f\u0075p\u004c\u0069\u006e\u0065\u0073\u003a\u0020\u0054\u0068\u0065\u0020\u0074\u0065\u0078\u0074\u0020\u006c\u0069\u006e\u0065\u0020\u0063\u006f\u006e\u0074a\u0069\u006e\u0073 \u006d\u006f\u0072\u0065\u0020\u0074\u0068\u0061\u006e\u0020\u006f\u006e\u0065 \u006d\u0063\u0069\u0064 \u006e\u0075\u006d\u0062e\u0072\u002e\u0020\u0049\u0074\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0062\u0065\u0020\u0073p\u006c\u0069\u0074\u002e");
continue ;};_febec :=_accc ._bcfga [0]._bcaca [0]._gbgd ;_fddf [_febec ]=append (_fddf [_febec ],_accc );};};};};return _fddf ;};func _cdef (_ffg *_gb .PdfObjectString ,_fdb string ,_gfe *_d .PdfFont ){_geae ,_dfeb :=_gfe .StringToCharcodeBytes (_fdb );
if _dfeb !=0{_f .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0073\u006fm\u0065\u0020\u0072un\u0065\u0073\u0020\u0063\u006f\u0075l\u0064\u0020\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u0065\u006e\u0063\u006f\u0064\u0065d\u002e\u000a\u0009\u0025\u0073\u0020\u002d\u003e \u0025\u0076",_fdb ,_geae );
};_dfg :=_gb .MakeStringFromBytes (_geae );*_ffg =*_dfg ;};func (_ddbe *textObject )setTextRenderMode (_bfeb int ){if _ddbe ==nil {return ;};_ddbe ._fceba ._gdfc =RenderMode (_bfeb );};func (_agfb rulingList )isActualGrid ()(rulingList ,bool ){_cegd ,_cbcfd :=_agfb .augmentGrid ();
if !(len (_cegd )>=_cbffc +1&&len (_cbcfd )>=_gaae +1){if _acf {_f .Log .Info ("\u0069s\u0041\u0063t\u0075\u0061\u006c\u0047r\u0069\u0064\u003a \u004e\u006f\u0074\u0020\u0061\u006c\u0069\u0067\u006eed\u002e\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u003c\u0020\u0025d\u0020\u0078 \u0025\u0064",len (_cegd ),len (_cbcfd ),_cbffc +1,_gaae +1);
};return nil ,false ;};if _acf {_f .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075a\u006c\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0073\u0020\u003a\u0020\u0025t\u0020\u0026\u0020\u0025\u0074\u0020\u2192 \u0025\u0074",_agfb ,len (_cegd )>=2,len (_cbcfd )>=2,len (_cegd )>=2&&len (_cbcfd )>=2);
for _gacbe ,_gegaf :=range _agfb {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0076\u000a",_gacbe ,_gegaf );};};if _ddfe {_bbbag ,_fdcg :=_cegd [0],_cegd [len (_cegd )-1];_ebcc ,_bdfcd :=_cbcfd [0],_cbcfd [len (_cbcfd )-1];if !(_gdddb (_bbbag ._aead -_ebcc ._ccag )&&_gdddb (_fdcg ._aead -_ebcc ._dbgda )&&_gdddb (_ebcc ._aead -_bbbag ._dbgda )&&_gdddb (_bdfcd ._aead -_bbbag ._ccag )){if _acf {_f .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069d\u003a\u0020\u0020N\u006f\u0074 \u0061\u006c\u0069\u0067\u006e\u0065d\u002e\n\t\u0076\u0030\u003d\u0025\u0073\u000a\u0009\u0076\u0031\u003d\u0025\u0073\u000a\u0009\u0068\u0030\u003d\u0025\u0073\u000a\u0009\u0068\u0031\u003d\u0025\u0073",_bbbag ,_fdcg ,_ebcc ,_bdfcd );
};return nil ,false ;};}else {if !_cegd .aligned (){if _gaeb {_f .Log .Info ("i\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069\u0064\u003a\u0020N\u006f\u0074\u0020\u0061\u006c\u0069\u0067n\u0065\u0064\u0020\u0076\u0065\u0072\u0074\u0073\u002e\u0020%\u0064",len (_cegd ));
};return nil ,false ;};if !_cbcfd .aligned (){if _acf {_f .Log .Info ("i\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069\u0064\u003a\u0020N\u006f\u0074\u0020\u0061\u006c\u0069\u0067n\u0065\u0064\u0020\u0068\u006f\u0072\u007a\u0073\u002e\u0020%\u0064",len (_cbcfd ));
};return nil ,false ;};};_bgeb :=append (_cegd ,_cbcfd ...);return _bgeb ,true ;};func _cfbbc (_ddfae []*textMark ,_egecb _d .PdfRectangle )*textWord {_gafaf :=_ddfae [0].PdfRectangle ;_bade :=_ddfae [0]._ffeg ;for _ ,_gece :=range _ddfae [1:]{_gafaf =_fgfdfc (_gafaf ,_gece .PdfRectangle );
if _gece ._ffeg > _bade {_bade =_gece ._ffeg ;};};return &textWord {PdfRectangle :_gafaf ,_bcaca :_ddfae ,_cgbe :_egecb .Ury -_gafaf .Lly ,_aecae :_bade };};func (_cafgc *textTable )subdivide ()*textTable {_cafgc .logComposite ("\u0073u\u0062\u0064\u0069\u0076\u0069\u0064e");
_ccfbe :=_cafgc .compositeRowCorridors ();_ecfdc :=_cafgc .compositeColCorridors ();if _eceb {_f .Log .Info ("\u0073u\u0062\u0064i\u0076\u0069\u0064\u0065:\u000a\u0009\u0072o\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s=\u0025\u0073\u000a\t\u0063\u006fl\u0043\u006f\u0072\u0072\u0069\u0064o\u0072\u0073=\u0025\u0073",_cgeeg (_ccfbe ),_cgeeg (_ecfdc ));
};if len (_ccfbe )==0||len (_ecfdc )==0{return _cafgc ;};_ababg (_ccfbe );_ababg (_ecfdc );if _eceb {_f .Log .Info ("\u0073\u0075\u0062\u0064\u0069\u0076\u0069\u0064\u0065\u0020\u0066\u0069\u0078\u0065\u0064\u003a\u000a\u0009r\u006f\u0077\u0043\u006f\u0072\u0072\u0069d\u006f\u0072\u0073\u003d\u0025\u0073\u000a\u0009\u0063\u006f\u006cC\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u003d\u0025\u0073",_cgeeg (_ccfbe ),_cgeeg (_ecfdc ));
};_cdbg ,_cdec :=_abfe (_cafgc ._ecdae ,_ccfbe );_gaebe ,_ebeg :=_abfe (_cafgc ._dafge ,_ecfdc );_eggf :=make (map[uint64 ]*textPara ,_ebeg *_cdec );_edfe :=&textTable {PdfRectangle :_cafgc .PdfRectangle ,_beced :_cafgc ._beced ,_ecdae :_cdec ,_dafge :_ebeg ,_ddagg :_eggf };
if _eceb {_f .Log .Info ("\u0073\u0075b\u0064\u0069\u0076\u0069\u0064\u0065\u003a\u0020\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u0020\u003d\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u0020\u0063\u0065\u006c\u006c\u0073\u003d\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u000a"+"\u0009\u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s\u003d\u0025\u0073\u000a"+"\u0009\u0063\u006f\u006c\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s\u003d\u0025\u0073\u000a"+"\u0009\u0079\u004f\u0066\u0066\u0073\u0065\u0074\u0073=\u0025\u002b\u0076\u000a"+"\u0009\u0078\u004f\u0066\u0066\u0073\u0065\u0074\u0073\u003d\u0025\u002b\u0076",_cafgc ._dafge ,_cafgc ._ecdae ,_ebeg ,_cdec ,_cgeeg (_ccfbe ),_cgeeg (_ecfdc ),_cdbg ,_gaebe );
};for _eacc :=0;_eacc < _cafgc ._ecdae ;_eacc ++{_cbcbb :=_cdbg [_eacc ];for _edfag :=0;_edfag < _cafgc ._dafge ;_edfag ++{_cfabe :=_gaebe [_edfag ];if _eceb {_ge .Printf ("\u0025\u0036\u0064\u002c %\u0032\u0064\u003a\u0020\u0078\u0030\u003d\u0025\u0064\u0020\u0079\u0030\u003d\u0025d\u000a",_edfag ,_eacc ,_cfabe ,_cbcbb );
};_cefa ,_bgcgaa :=_cafgc ._agdcc [_aaaeca (_edfag ,_eacc )];if !_bgcgaa {continue ;};_gcfa :=_cefa .split (_ccfbe [_eacc ],_ecfdc [_edfag ]);for _ccad :=0;_ccad < _gcfa ._ecdae ;_ccad ++{for _gcaee :=0;_gcaee < _gcfa ._dafge ;_gcaee ++{_aadfff :=_gcfa .get (_gcaee ,_ccad );
_edfe .put (_cfabe +_gcaee ,_cbcbb +_ccad ,_aadfff );if _eceb {_ge .Printf ("\u0025\u0038\u0064\u002c\u0020\u0025\u0032\u0064\u003a\u0020\u0025\u0073\u000a",_cfabe +_gcaee ,_cbcbb +_ccad ,_aadfff );};};};};};return _edfe ;};func (_edae intSet )add (_gaffb int ){_edae [_gaffb ]=struct{}{}};
func (_aage *shapesState )cubicTo (_adcc ,_daga ,_def ,_ebga ,_eeeg ,_cacbe float64 ){if _cbge {_f .Log .Info ("\u0063\u0075\u0062\u0069\u0063\u0054\u006f\u003a");};_aage .addPoint (_eeeg ,_cacbe );};type intSet map[int ]struct{};func (_gfdf *shapesState )clearPath (){_gfdf ._cbce =nil ;
_gfdf ._cffg =false ;if _cbge {_f .Log .Info ("\u0043\u004c\u0045A\u0052\u003a\u0020\u0073\u0073\u003d\u0025\u0073",_gfdf );};};

// PageTextOptions holds various options available in extraction process.
type PageTextOptions struct{_fdcb bool ;_cfae bool ;_fgd bool ;};

// ExtractPageImages returns the image contents of the page extractor, including data
// and position, size information for each image.
// A set of options to control page image extraction can be passed in. The options
// parameter can be nil for the default options. By default, inline stencil masks
// are not extracted.
func (_aeb *Extractor )ExtractPageImages (options *ImageExtractOptions )(*PageImages ,error ){_dbd :=&imageExtractContext {_edc :options };_bedg :=_dbd .extractContentStreamImages (_aeb ._ccd ,_aeb ._gfgb );if _bedg !=nil {return nil ,_bedg ;};return &PageImages {Images :_dbd ._dgb },nil ;
};func _befb (_gaab ,_eebba *textPara )bool {if _gaab ._dgba ||_eebba ._dgba {return true ;};return _eedbf (_gaab .depth ()-_eebba .depth ());};func (_daacd *textTable )putComposite (_efcccg ,_eaff int ,_agca paraList ,_dfbbd _d .PdfRectangle ){if len (_agca )==0{_f .Log .Error ("\u0074\u0065xt\u0054\u0061\u0062l\u0065\u0029\u0020\u0070utC\u006fmp\u006f\u0073\u0069\u0074\u0065\u003a\u0020em\u0070\u0074\u0079\u0020\u0070\u0061\u0072a\u0073");
return ;};_fdfga :=compositeCell {PdfRectangle :_dfbbd ,paraList :_agca };if _eceb {_ge .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0070\u0075\u0074\u0043\u006f\u006d\u0070o\u0073i\u0074\u0065\u0028\u0025\u0064\u002c\u0025\u0064\u0029\u003c\u002d\u0025\u0073\u000a",_efcccg ,_eaff ,_fdfga .String ());
};_fdfga .updateBBox ();_daacd ._agdcc [_aaaeca (_efcccg ,_eaff )]=_fdfga ;};

// PageFonts represents extracted fonts on a PDF page.
type PageFonts struct{Fonts []Font ;};func (_deaab *textTable )get (_gbfdf ,_cggeg int )*textPara {return _deaab ._ddagg [_aaaeca (_gbfdf ,_cggeg )];};func (_bcdbg *textObject )getFillColor ()_ce .Color {return _bgff (_bcdbg ._bgaa .ColorspaceNonStroking ,_bcdbg ._bgaa .ColorNonStroking );
};func (_ggag *ruling )encloses (_fdba ,_bfgd float64 )bool {return _ggag ._ccag -_becbg <=_fdba &&_bfgd <=_ggag ._dbgda +_becbg ;};func _dcc (_eab []int ,_cfb *TextMarkArray ,_gcaa string )(*TextMarkArray ,Box ,error ){_gae :=Box {};_bef :=_eab [0];_gbgc :=_eab [1];
_aef :=len (_gcaa )-len (_df .TrimLeft (_gcaa ,"\u0020"));_cfc :=len (_gcaa )-len (_df .TrimRight (_gcaa ,"\u0020\u000a"));_bef =_bef +_aef ;_gbgc =_gbgc -_cfc ;_daa ,_aec :=_cfb .RangeOffset (_bef ,_gbgc );if _aec !=nil {return nil ,_gae ,_aec ;};_gad ,_dfbb :=_daa .BBox ();
if !_dfbb {return nil ,_gae ,_ge .Errorf ("\u0073\u0070\u0061\u006e\u004d\u0061\u0072\u006bs\u002e\u0042\u0042ox\u0020\u0068\u0061\u0073\u0020\u006eo\u0020\u0062\u006f\u0075\u006e\u0064\u0069\u006e\u0067\u0020\u0062\u006f\u0078\u002e\u0020s\u0070\u0061\u006e\u004d\u0061\u0072\u006b\u0073=\u0025\u0073",_daa );
};_gae =Box {BBox :_gad };return _daa ,_gae ,nil ;};func _bffab (_cfebg ,_ccggg int )int {if _cfebg > _ccggg {return _cfebg ;};return _ccggg ;};var _ecbc =[]string {"\u2756","\u27a2","\u2713","\u2022","\uf0a7","\u25a1","\u2212","\u25a0","\u25aa","\u006f"};
func (_fdgda *ruling )intersects (_dbba *ruling )bool {_dfcba :=(_fdgda ._dcga ==_bbffc &&_dbba ._dcga ==_ddeae )||(_dbba ._dcga ==_bbffc &&_fdgda ._dcga ==_ddeae );_cgdf :=func (_bgdg ,_dbcee *ruling )bool {return _bgdg ._ccag -_becbg <=_dbcee ._aead &&_dbcee ._aead <=_bgdg ._dbgda +_becbg ;
};_abagd :=_cgdf (_fdgda ,_dbba );_gfgga :=_cgdf (_dbba ,_fdgda );if _acf {_ge .Printf ("\u0020\u0020\u0020\u0020\u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003a\u0020\u0020\u006fr\u0074\u0068\u006f\u0067\u006f\u006e\u0061l\u003d\u0025\u0074\u0020\u006f\u0031\u003d\u0025\u0074\u0020\u006f2\u003d\u0025\u0074\u0020\u2192\u0020\u0025\u0074\u000a"+"\u0020\u0020\u0020 \u0020\u0020\u0020\u0076\u003d\u0025\u0073\u000a"+" \u0020\u0020\u0020\u0020\u0020\u0077\u003d\u0025\u0073\u000a",_dfcba ,_abagd ,_gfgga ,_dfcba &&_abagd &&_gfgga ,_fdgda ,_dbba );
};return _dfcba &&_abagd &&_gfgga ;};

// String returns a description of `v`.
func (_aagee *ruling )String ()string {if _aagee ._dcga ==_ggbbc {return "\u004e\u004f\u0054\u0020\u0052\u0055\u004c\u0049\u004e\u0047";};_efff ,_faef :="\u0078","\u0079";if _aagee ._dcga ==_ddeae {_efff ,_faef ="\u0079","\u0078";};_degg :="";if _aagee ._febc !=0.0{_degg =_ge .Sprintf (" \u0077\u0069\u0064\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_aagee ._febc );
};return _ge .Sprintf ("\u0025\u00310\u0073\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0020\u0025\u0076\u0025\u0073",_aagee ._dcga ,_efff ,_aagee ._aead ,_faef ,_aagee ._ccag ,_aagee ._dbgda ,_aagee ._dbgda -_aagee ._ccag ,_aagee ._afcba ,_aagee .Color ,_degg );
};func (_aecd rulingList )findPrimSec (_eebbd ,_fbfef float64 )*ruling {for _ ,_gefdd :=range _aecd {if _eedbf (_gefdd ._aead -_eebbd )&&_gefdd ._ccag -_becbg <=_fbfef &&_fbfef <=_gefdd ._dbgda +_becbg {return _gefdd ;};};return nil ;};

// RenderMode specifies the text rendering mode (Tmode), which determines whether showing text shall cause
// glyph outlines to be  stroked, filled, used as a clipping boundary, or some combination of the three.
// Stroking, filling, and clipping shall have the same effects for a text object as they do for a path object
// (see 8.5.3, "Path-Painting Operators" and 8.5.4, "Clipping Path Operators").
type RenderMode int ;func (_dgcdf rulingList )secMinMax ()(float64 ,float64 ){_edfgd ,_ggbe :=_dgcdf [0]._ccag ,_dgcdf [0]._dbgda ;for _ ,_cafa :=range _dgcdf [1:]{if _cafa ._ccag < _edfgd {_edfgd =_cafa ._ccag ;};if _cafa ._dbgda > _ggbe {_ggbe =_cafa ._dbgda ;
};};return _edfgd ,_ggbe ;};func (_efdg *textObject )setFont (_cdda string ,_gffd float64 )error {if _efdg ==nil {return nil ;};_efdg ._fceba ._geed =_gffd ;_gffa ,_eaba :=_efdg .getFont (_cdda );if _eaba !=nil {return _eaba ;};_efdg ._fceba ._cbc =_gffa ;
return nil ;};func (_bcafd lineRuling )yMean ()float64 {return 0.5*(_bcafd ._bfaad .Y +_bcafd ._gbgg .Y )};func _abac (_daaad *_d .Image ,_cdafg _ce .Color )_aaf .Image {_ddac ,_bbfb :=int (_daaad .Width ),int (_daaad .Height );_egdg :=_aaf .NewRGBA (_aaf .Rect (0,0,_ddac ,_bbfb ));
for _fdfec :=0;_fdfec < _bbfb ;_fdfec ++{for _edgca :=0;_edgca < _ddac ;_edgca ++{_geeafg ,_fedac :=_daaad .ColorAt (_edgca ,_fdfec );if _fedac !=nil {_f .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_edgca ,_fdfec );
continue ;};_ccbcf ,_gdcdg ,_bfcb ,_ :=_geeafg .RGBA ();var _acdf _ce .Color ;if _ccbcf +_gdcdg +_bfcb ==0{_acdf =_cdafg ;}else {_acdf =_ce .Transparent ;};_egdg .Set (_edgca ,_fdfec ,_acdf );};};return _egdg ;};func (_dgabb *ruling )alignsSec (_aadd *ruling )bool {const _ebab =_efef +1.0;
return _dgabb ._ccag -_ebab <=_aadd ._dbgda &&_aadd ._ccag -_ebab <=_dgabb ._dbgda ;};

// ExtractText processes and extracts all text data in content streams and returns as a string.
// It takes into account character encodings in the PDF file, which are decoded by
// CharcodeBytesToUnicode.
// Characters that can't be decoded are replaced with MissingCodeRune ('\ufffd' = �).
func (_fbea *Extractor )ExtractText ()(string ,error ){_effc ,_ ,_ ,_daee :=_fbea .ExtractTextWithStats ();return _effc ,_daee ;};type cachedImage struct{_bcgc *_d .Image ;_dc _d .PdfColorspace ;};

// String returns a human readable description of `vecs`.
func (_adab rulingList )String ()string {if len (_adab )==0{return "\u007b \u0045\u004d\u0050\u0054\u0059\u0020}";};_dfac ,_ecdaa :=_adab .vertsHorzs ();_aaaec :=len (_dfac );_fbeea :=len (_ecdaa );if _aaaec ==0||_fbeea ==0{return _ge .Sprintf ("\u007b%\u0064\u0020\u0078\u0020\u0025\u0064}",_aaaec ,_fbeea );
};_faged :=_d .PdfRectangle {Llx :_dfac [0]._aead ,Urx :_dfac [_aaaec -1]._aead ,Lly :_ecdaa [_fbeea -1]._aead ,Ury :_ecdaa [0]._aead };return _ge .Sprintf ("\u007b\u0025d\u0020\u0078\u0020%\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u007d",_aaaec ,_fbeea ,_faged );
};type pathSection struct{_aca []*subpath ;_ce .Color ;};func _dff (_ecaf string )bool {if _fba .RuneCountInString (_ecaf )< _fdfa {return false ;};_facc ,_dgfeg :=_fba .DecodeLastRuneInString (_ecaf );if _dgfeg <=0||!_a .Is (_a .Hyphen ,_facc ){return false ;
};_facc ,_dgfeg =_fba .DecodeLastRuneInString (_ecaf [:len (_ecaf )-_dgfeg ]);return _dgfeg > 0&&!_a .IsSpace (_facc );};

// New returns an Extractor instance for extracting content from the input PDF page.
func New (page *_d .PdfPage )(*Extractor ,error ){return NewWithOptions (page ,nil )};func (_fccf rulingList )aligned ()bool {if len (_fccf )< 2{return false ;};_gead :=make (map[*ruling ]int );_gead [_fccf [0]]=0;for _ ,_dbfe :=range _fccf [1:]{_ebgf :=false ;
for _dccgb :=range _gead {if _dbfe .gridIntersecting (_dccgb ){_gead [_dccgb ]++;_ebgf =true ;break ;};};if !_ebgf {_gead [_dbfe ]=0;};};_cfbcc :=0;for _ ,_bfeg :=range _gead {if _bfeg ==0{_cfbcc ++;};};_abfge :=float64 (_cfbcc )/float64 (len (_fccf ));
_adcb :=_abfge <=1.0-_edgba ;if _acf {_f .Log .Info ("\u0061\u006c\u0069\u0067\u006e\u0065\u0064\u003d\u0025\u0074\u0020\u0075\u006em\u0061\u0074\u0063\u0068\u0065\u0064=\u0025\u002e\u0032\u0066\u003d\u0025\u0064\u002f\u0025\u0064\u0020\u0076\u0065c\u0073\u003d\u0025\u0073",_adcb ,_abfge ,_cfbcc ,len (_fccf ),_fccf .String ());
};return _adcb ;};func (_cgcbb *PageText )getText ()string {_gefa :="";_dcbe :=len (_cgcbb ._ccbg );for _gab :=0;_gab < 360&&_dcbe > 0;_gab +=90{_gacg :=make ([]*textMark ,0,len (_cgcbb ._ccbg )-_dcbe );for _ ,_aab :=range _cgcbb ._ccbg {if _aab ._cgaeg ==_gab {_gacg =append (_gacg ,_aab );
};};if len (_gacg )> 0{_gefa +=_dacd (_gacg ,_cgcbb ._dfeg );_dcbe -=len (_gacg );};};return _gefa ;};func _cfde (_bgcaf string )bool {for _ ,_edeg :=range _bgcaf {if !_a .IsSpace (_edeg ){return false ;};};return true ;};func (_gafg *textObject )showTextAdjusted (_cadc *_gb .PdfObjectArray ,_ccfd int ,_cgf string )error {_adgb :=false ;
for _ ,_ecc :=range _cadc .Elements (){switch _ecc .(type ){case *_gb .PdfObjectFloat ,*_gb .PdfObjectInteger :_gcde ,_eeadb :=_gb .GetNumberAsFloat (_ecc );if _eeadb !=nil {_f .Log .Debug ("\u0045\u0052\u0052\u004fR\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078t\u0041\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0042\u0061\u0064\u0020\u006e\u0075\u006d\u0065r\u0069\u0063\u0061\u006c\u0020a\u0072\u0067\u002e\u0020\u006f\u003d\u0025\u0073\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_ecc ,_cadc );
return _eeadb ;};_bdaba ,_eada :=-_gcde *0.001*_gafg ._fceba ._geed ,0.0;if _adgb {_eada ,_bdaba =_bdaba ,_eada ;};_cgac :=_fgaab (_db .Point {X :_bdaba ,Y :_eada });_gafg ._edgg .Concat (_cgac );case *_gb .PdfObjectString :_ddb :=_gb .TraceToDirectObject (_ecc );
_abfc ,_bbfa :=_gb .GetStringBytes (_ddb );if !_bbfa {_f .Log .Trace ("s\u0068\u006f\u0077\u0054\u0065\u0078\u0074\u0041\u0064j\u0075\u0073\u0074\u0065\u0064\u003a\u0020Ba\u0064\u0020\u0073\u0074r\u0069\u006e\u0067\u0020\u0061\u0072\u0067\u002e\u0020o=\u0025\u0073 \u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_ecc ,_cadc );
return _gb .ErrTypeError ;};_gafg .renderText (_ddb ,_abfc ,_ccfd ,_cgf );default:_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078\u0074A\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0055\u006e\u0065\u0078p\u0065\u0063\u0074\u0065\u0064\u0020\u0074\u0079\u0070\u0065\u0020\u0028%T\u0029\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_ecc ,_cadc );
return _gb .ErrTypeError ;};};return nil ;};var _cbbc =_bg .MustCompile ("\u005e\u005c\u0073\u002a\u0028\u005c\u0064\u002b\u005c\u002e\u003f|\u005b\u0049\u0069\u0076\u005d\u002b\u0029\u005c\u0073\u002a\\\u0029\u003f\u0024");func _afdb (_gbgf []*textLine )[]*textLine {_bebfc :=[]*textLine {};
for _ ,_dbbc :=range _gbgf {_cagg :=_dbbc .text ();_dfad :=_gaca .Find ([]byte (_cagg ));if _dfad !=nil {_bebfc =append (_bebfc ,_dbbc );};};return _bebfc ;};func (_bgeg *wordBag )text ()string {_fcdb :=_bgeg .allWords ();_ecec :=make ([]string ,len (_fcdb ));
for _gfea ,_efbde :=range _fcdb {_ecec [_gfea ]=_efbde ._bdea ;};return _df .Join (_ecec ,"\u0020");};func (_bcdbf *textTable )logComposite (_gcded string ){if !_eceb {return ;};_f .Log .Info ("\u007e~\u007eP\u0061\u0072\u0061\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0073",_bcdbf ._dafge ,_bcdbf ._ecdae ,_gcded );
_ge .Printf ("\u0025\u0035\u0073 \u007c","");for _gbaeg :=0;_gbaeg < _bcdbf ._dafge ;_gbaeg ++{_ge .Printf ("\u0025\u0033\u0064 \u007c",_gbaeg );};_ge .Println ("");_ge .Printf ("\u0025\u0035\u0073 \u002b","");for _ecbde :=0;_ecbde < _bcdbf ._dafge ;_ecbde ++{_ge .Printf ("\u0025\u0033\u0073 \u002b","\u002d\u002d\u002d");
};_ge .Println ("");for _gbfec :=0;_gbfec < _bcdbf ._ecdae ;_gbfec ++{_ge .Printf ("\u0025\u0035\u0064 \u007c",_gbfec );for _gbbf :=0;_gbbf < _bcdbf ._dafge ;_gbbf ++{_cdecf ,_ :=_bcdbf ._agdcc [_aaaeca (_gbbf ,_gbfec )].parasBBox ();_ge .Printf ("\u0025\u0033\u0064 \u007c",len (_cdecf ));
};_ge .Println ("");};_f .Log .Info ("\u007e~\u007eT\u0065\u0078\u0074\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0073",_bcdbf ._dafge ,_bcdbf ._ecdae ,_gcded );_ge .Printf ("\u0025\u0035\u0073 \u007c","");for _agafc :=0;_agafc < _bcdbf ._dafge ;
_agafc ++{_ge .Printf ("\u0025\u0031\u0032\u0064\u0020\u007c",_agafc );};_ge .Println ("");_ge .Printf ("\u0025\u0035\u0073 \u002b","");for _bfegf :=0;_bfegf < _bcdbf ._dafge ;_bfegf ++{_ge .Print ("\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d-\u002d\u002d\u002d\u002b");
};_ge .Println ("");for _degdf :=0;_degdf < _bcdbf ._ecdae ;_degdf ++{_ge .Printf ("\u0025\u0035\u0064 \u007c",_degdf );for _gcga :=0;_gcga < _bcdbf ._dafge ;_gcga ++{_bbbbd ,_ :=_bcdbf ._agdcc [_aaaeca (_gcga ,_degdf )].parasBBox ();_deff :="";_ffacb :=_bbbbd .merge ();
if _ffacb !=nil {_deff =_ffacb .text ();};_deff =_ge .Sprintf ("\u0025\u0071",_edde (_deff ,12));_deff =_deff [1:len (_deff )-1];_ge .Printf ("\u0025\u0031\u0032\u0073\u0020\u007c",_deff );};_ge .Println ("");};};func (_febgg rulingList )sort (){_b .Slice (_febgg ,_febgg .comp )};
var _cc =[]string {"\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0053","\u0042","\u0053","\u0057\u0053","\u0042","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042","\u0042","\u0042","\u0053","\u0057\u0053","\u004f\u004e","\u004f\u004e","\u0045\u0054","\u0045\u0054","\u0045\u0054","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u0045\u0053","\u0043\u0053","\u0045\u0053","\u0043\u0053","\u0043\u0053","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0045\u004e","\u0043\u0053","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0042\u004e","\u0043\u0053","\u004f\u004e","\u0045\u0054","\u0045\u0054","\u0045\u0054","\u0045\u0054","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004c","\u004f\u004e","\u004f\u004e","\u0042\u004e","\u004f\u004e","\u004f\u004e","\u0045\u0054","\u0045\u0054","\u0045\u004e","\u0045\u004e","\u004f\u004e","\u004c","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u0045\u004e","\u004c","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004f\u004e","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004f\u004e","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004f\u004e","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c","\u004c"};
func (_cbfa *textWord )appendMark (_gaccc *textMark ,_fabe _d .PdfRectangle ){_cbfa ._bcaca =append (_cbfa ._bcaca ,_gaccc );_cbfa .PdfRectangle =_fgfdfc (_cbfa .PdfRectangle ,_gaccc .PdfRectangle );if _gaccc ._ffeg > _cbfa ._aecae {_cbfa ._aecae =_gaccc ._ffeg ;
};_cbfa ._cgbe =_fabe .Ury -_cbfa .PdfRectangle .Lly ;};func (_gbggf intSet )has (_egfd int )bool {_ ,_eged :=_gbggf [_egfd ];return _eged };var _becff string ="\u005e\u005b\u0061\u002d\u007a\u0041\u002dZ\u005d\u0028\u005c)\u007c\u005c\u002e)\u007c\u005e[\u005c\u0064\u005d\u002b\u0028\u005c)\u007c\\.\u0029\u007c\u005e\u005c\u0028\u005b\u0061\u002d\u007a\u0041\u002d\u005a\u005d\u005c\u0029\u007c\u005e\u005c\u0028\u005b\u005c\u0064\u005d\u002b\u005c\u0029";
func (_cefd paraList )writeText (_bbadc _fb .Writer ){for _agag ,_gegg :=range _cefd {if _gegg ._dgba {continue ;};_gegg .writeText (_bbadc );if _agag !=len (_cefd )-1{if _befb (_gegg ,_cefd [_agag +1]){_bbadc .Write ([]byte ("\u0020"));}else {_bbadc .Write ([]byte ("\u000a"));
_bbadc .Write ([]byte ("\u000a"));};};};_bbadc .Write ([]byte ("\u000a"));_bbadc .Write ([]byte ("\u000a"));};func _gdgd (_aefcb float64 ,_eaegb int )int {if _eaegb ==0{_eaegb =1;};_ccfca :=float64 (_eaegb );return int (_e .Round (_aefcb /_ccfca )*_ccfca );
};func (_ddff rulingList )toGrids ()[]rulingList {if _acf {_f .Log .Info ("t\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0025\u0073",_ddff );};_aecf :=_ddff .intersections ();if _acf {_f .Log .Info ("\u0074\u006f\u0047r\u0069\u0064\u0073\u003a \u0076\u0065\u0063\u0073\u003d\u0025\u0064 \u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003d\u0025\u0064\u0020",len (_ddff ),len (_aecf ));
for _ ,_aebd :=range _befca (_aecf ){_ge .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_aebd ,_aecf [_aebd ]);};};_dgfge :=make (map[int ]intSet ,len (_ddff ));for _afecc :=range _ddff {_ccfdc :=_ddff .connections (_aecf ,_afecc );if len (_ccfdc )> 0{_dgfge [_afecc ]=_ccfdc ;
};};if _acf {_f .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0063\u006fn\u006e\u0065\u0063\u0074s=\u0025\u0064",len (_dgfge ));for _ ,_eeebf :=range _befca (_dgfge ){_ge .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_eeebf ,_dgfge [_eeebf ]);
};};_edcb :=_gfbec (len (_ddff ),func (_eafb ,_gcadg int )bool {_abeg ,_badc :=len (_dgfge [_eafb ]),len (_dgfge [_gcadg ]);if _abeg !=_badc {return _abeg > _badc ;};return _ddff .comp (_eafb ,_gcadg );});if _acf {_f .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u006f\u0072d\u0065\u0072\u0069\u006eg=\u0025\u0076",_edcb );
};_dggbg :=[][]int {{_edcb [0]}};_faabc :for _ ,_dfag :=range _edcb [1:]{for _eaga ,_bgaag :=range _dggbg {for _ ,_gdef :=range _bgaag {if _dgfge [_gdef ].has (_dfag ){_dggbg [_eaga ]=append (_bgaag ,_dfag );continue _faabc ;};};};_dggbg =append (_dggbg ,[]int {_dfag });
};if _acf {_f .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020i\u0067\u0072i\u0064\u0073\u003d\u0025\u0076",_dggbg );};_b .SliceStable (_dggbg ,func (_gfega ,_cgdc int )bool {return len (_dggbg [_gfega ])> len (_dggbg [_cgdc ])});for _ ,_acfcc :=range _dggbg {_b .Slice (_acfcc ,func (_adafb ,_edcdf int )bool {return _ddff .comp (_acfcc [_adafb ],_acfcc [_edcdf ])});
};_dgfcc :=make ([]rulingList ,len (_dggbg ));for _gbfb ,_aedf :=range _dggbg {_cbggg :=make (rulingList ,len (_aedf ));for _eaegg ,_agggf :=range _aedf {_cbggg [_eaegg ]=_ddff [_agggf ];};_dgfcc [_gbfb ]=_cbggg ;};if _acf {_f .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020g\u0072\u0069d\u0073\u003d\u0025\u002b\u0076",_dgfcc );
};var _cgbbc []rulingList ;for _ ,_dfgbf :=range _dgfcc {if _baedgc ,_edfg :=_dfgbf .isActualGrid ();_edfg {_dfgbf =_baedgc ;_dfgbf =_dfgbf .snapToGroups ();_cgbbc =append (_cgbbc ,_dfgbf );};};if _acf {_ffca ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0061\u0063t\u0075\u0061\u006c\u0047ri\u0064\u0073",_cgbbc );
_f .Log .Info ("\u0074\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0067\u0072\u0069\u0064\u0073\u003d%\u0064 \u0061\u0063\u0074\u0075\u0061\u006c\u0047\u0072\u0069\u0064\u0073\u003d\u0025\u0064",len (_dgfcc ),len (_cgbbc ));};return _cgbbc ;};func (_eaa *textObject )setTextMatrix (_fdbg []float64 ){if len (_fdbg )!=6{_f .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u006c\u0065\u006e\u0028\u0066\u0029\u0020\u0021\u003d\u0020\u0036\u0020\u0028\u0025\u0064\u0029",len (_fdbg ));
return ;};_faga ,_adg ,_gddf ,_efgee ,_edg ,_eeb :=_fdbg [0],_fdbg [1],_fdbg [2],_fdbg [3],_fdbg [4],_fdbg [5];_eaa ._edgg =_db .NewMatrix (_faga ,_adg ,_gddf ,_efgee ,_edg ,_eeb );_eaa ._fdaa =_eaa ._edgg ;};func _bge (_gdfd string ,_geb string )([][]int ,error ){_ecfdb ,_dee :=_bg .Compile (_gdfd );
if _dee !=nil {return nil ,_ge .Errorf ("\u0065\u0072\u0072\u006f\u0072\u0020c\u006f\u006d\u0070\u0069\u006c\u0069\u006e\u0067\u0020\u0072\u0065\u0067\u0065x\u0020\u0070\u0061\u0074\u0074\u0065\u0072n\u003a\u0020\u0025\u0077",_dee );};_dec :=_ecfdb .FindAllStringIndex (_geb ,-1);
return _dec ,nil ;};func (_bbdbg *textTable )growTable (){_gdbd :=func (_dadad paraList ){_bbdbg ._ecdae ++;for _gdcc :=0;_gdcc < _bbdbg ._dafge ;_gdcc ++{_ddbee :=_dadad [_gdcc ];_bbdbg .put (_gdcc ,_bbdbg ._ecdae -1,_ddbee );};};_beca :=func (_ebcbf paraList ){_bbdbg ._dafge ++;
for _eabg :=0;_eabg < _bbdbg ._ecdae ;_eabg ++{_bdbb :=_ebcbf [_eabg ];_bbdbg .put (_bbdbg ._dafge -1,_eabg ,_bdbb );};};if _abgeg {_bbdbg .log ("\u0067r\u006f\u0077\u0054\u0061\u0062\u006ce");};for _dgdba :=0;;_dgdba ++{_ffab :=false ;_dbdea :=_bbdbg .getDown ();
_ffcge :=_bbdbg .getRight ();if _abgeg {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_dgdba ,_bbdbg );_ge .Printf ("\u0020\u0020 \u0020\u0020\u0020 \u0020\u0064\u006f\u0077\u006e\u003d\u0025\u0073\u000a",_dbdea );_ge .Printf ("\u0020\u0020 \u0020\u0020\u0020 \u0072\u0069\u0067\u0068\u0074\u003d\u0025\u0073\u000a",_ffcge );
};if _dbdea !=nil &&_ffcge !=nil {_ddgfa :=_dbdea [len (_dbdea )-1];if !_ddgfa .taken ()&&_ddgfa ==_ffcge [len (_ffcge )-1]{_gdbd (_dbdea );if _ffcge =_bbdbg .getRight ();_ffcge !=nil {_beca (_ffcge );_bbdbg .put (_bbdbg ._dafge -1,_bbdbg ._ecdae -1,_ddgfa );
};_ffab =true ;};};if !_ffab &&_dbdea !=nil {_gdbd (_dbdea );_ffab =true ;};if !_ffab &&_ffcge !=nil {_beca (_ffcge );_ffab =true ;};if !_ffab {break ;};};};func (_fgag *PageText )computeViews (){if _fgag ._ceaa ._cfae {_fgag ._begf =_fgag .getText ();
return ;};_fbdg :=_fgag .getParagraphs ();_afdd :=new (_bd .Buffer );_fbdg .writeText (_afdd );_fgag ._begf =_afdd .String ();_fgag ._ccdac =_fbdg .toTextMarks ();_fgag ._dbcf =_fbdg .tables ();if _eceb {_f .Log .Info ("\u0063\u006f\u006dpu\u0074\u0065\u0056\u0069\u0065\u0077\u0073\u003a\u0020\u0074\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064",len (_fgag ._dbcf ));
};};func (_abec *textWord )addDiacritic (_aagc string ){_ebcd :=_abec ._bcaca [len (_abec ._bcaca )-1];_ebcd ._dfge +=_aagc ;_ebcd ._dfge =_g .NFKC .String (_ebcd ._dfge );};func (_ebda *stateStack )top ()*textState {if _ebda .empty (){return nil ;};return (*_ebda )[_ebda .size ()-1];
};func (_gebc rulingList )bbox ()_d .PdfRectangle {var _dbag _d .PdfRectangle ;if len (_gebc )==0{_f .Log .Error ("r\u0075\u006c\u0069\u006e\u0067\u004ci\u0073\u0074\u002e\u0062\u0062\u006f\u0078\u003a\u0020n\u006f\u0020\u0072u\u006ci\u006e\u0067\u0073");
return _d .PdfRectangle {};};if _gebc [0]._dcga ==_ddeae {_dbag .Llx ,_dbag .Urx =_gebc .secMinMax ();_dbag .Lly ,_dbag .Ury =_gebc .primMinMax ();}else {_dbag .Llx ,_dbag .Urx =_gebc .primMinMax ();_dbag .Lly ,_dbag .Ury =_gebc .secMinMax ();};return _dbag ;
};

// TextMarkArray is a collection of TextMarks.
type TextMarkArray struct{_ecdd []TextMark };func (_gagg *textLine )endsInHyphen ()bool {_dbcc :=_gagg ._bcfga [len (_gagg ._bcfga )-1];_afae :=_dbcc ._bdea ;_gdfcc ,_cbgg :=_fba .DecodeLastRuneInString (_afae );if _cbgg <=0||!_a .Is (_a .Hyphen ,_gdfcc ){return false ;
};if _dbcc ._bgcae &&_dff (_afae ){return true ;};return _dff (_gagg .text ());};func (_cdc *textObject )reset (){_cdc ._edgg =_db .IdentityMatrix ();_cdc ._fdaa =_db .IdentityMatrix ();_cdc ._faed =nil ;};func _gccd (_bdec byte )bool {for _ ,_defbd :=range _ecbc {if []byte (_defbd )[0]==_bdec {return true ;
};};return false ;};func (_faeaf intSet )del (_edbge int ){delete (_faeaf ,_edbge )};

// Editor represents a document editor object
type Editor struct{_bdf *_d .PdfReader };

// Match defines the structure for each match, including pattern, indexes, and locations.
type Match struct{Pattern string ;Indexes [][]int ;Locations []Box ;};

// ToText returns the page text as a single string.
// Deprecated: This function is deprecated and will be removed in a future major version. Please use
// Text() instead.
func (_fcff PageText )ToText ()string {return _fcff .Text ()};func (_gegb *textObject )setCharSpacing (_bffb float64 ){if _gegb ==nil {return ;};_gegb ._fceba ._bcf =_bffb ;if _gbbb {_f .Log .Info ("\u0073\u0065t\u0043\u0068\u0061\u0072\u0053\u0070\u0061\u0063\u0069\u006e\u0067\u003a\u0020\u0025\u002e\u0032\u0066\u0020\u0073\u0074\u0061\u0074e=\u0025\u0073",_bffb ,_gegb ._fceba .String ());
};};func _gda (_gecb []*TextMarkArray ,_bba ,_bfe string )(string ,error ){_bgee :=0;for _ ,_aeba :=range _gecb {_dbc :=_aeba ._ecdd [0].DirectObject ;if _dbc ==nil {continue ;};_agbb :=_dbc .String ();if len (_agbb )> 1{_edbd :=_gbf (_aeba ,&_bba ,&_bgee ,_bfe );
if _edbd !=nil {return _bba ,_edbd ;};}else if len (_agbb )==1{_bgdb :=_dfbg (_aeba ,&_bba ,&_bgee ,_bfe );if _bgdb !=nil {return _bba ,_bgdb ;};};};return _bba ,nil ;};var _ccfec =map[rulingKind ]string {_ggbbc :"\u006e\u006f\u006e\u0065",_ddeae :"\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_bbffc :"\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c"};
func _aacg (_gagbg []*textLine )map[float64 ][]*textLine {_b .Slice (_gagbg ,func (_gdabd ,_ebgb int )bool {return _gagbg [_gdabd ]._bdef < _gagbg [_ebgb ]._bdef });_aabc :=map[float64 ][]*textLine {};for _ ,_caba :=range _gagbg {_bdfd :=_cbeb (_caba );
_bdfd =_e .Round (_bdfd );_aabc [_bdfd ]=append (_aabc [_bdfd ],_caba );};return _aabc ;};type gridTile struct{_d .PdfRectangle ;_acbg ,_bccf ,_efbdg ,_eecf bool ;};type list struct{_aefg []*textLine ;_aefc string ;_babgb []*list ;_ddgc string ;};

// Text gets the extracted text contained in `l`.
func (_cdfb *list )Text ()string {_fdfd :=&_df .Builder {};_edfb :="";_gdab (_cdfb ,_fdfd ,&_edfb );return _fdfd .String ();};func _eggd (_cbeg _d .PdfRectangle )*ruling {return &ruling {_dcga :_ddeae ,_aead :_cbeg .Ury ,_ccag :_cbeg .Llx ,_dbgda :_cbeg .Urx };
};func (_gbfe *textLine )bbox ()_d .PdfRectangle {return _gbfe .PdfRectangle };func _fcbgd (_ebae []*textLine ,_egef map[float64 ][]*textLine ,_dece []float64 ,_bcbe int ,_ace ,_ebef float64 )[]*list {_fbge :=[]*list {};_abde :=_bcbe ;_bcbe =_bcbe +1;_cedfg :=_dece [_abde ];
_gdga :=_egef [_cedfg ];_aafc :=_gbcb (_gdga ,_ebef ,_ace );for _gfef ,_dcbc :=range _aafc {var _cfefg float64 ;_egdb :=[]*list {};_cgdd :=_dcbc ._bdef ;_egea :=_ebef ;if _gfef < len (_aafc )-1{_egea =_aafc [_gfef +1]._bdef ;};if _bcbe < len (_dece ){_egdb =_fcbgd (_ebae ,_egef ,_dece ,_bcbe ,_cgdd ,_egea );
};_cfefg =_egea ;if len (_egdb )> 0{_dega :=_egdb [0];if len (_dega ._aefg )> 0{_cfefg =_dega ._aefg [0]._bdef ;};};_beaf :=[]*textLine {_dcbc };_efea :=_gaccd (_dcbc ,_ebae ,_cgdd ,_cfefg );_beaf =append (_beaf ,_efea ...);_fbgeb :=_agded (_beaf ,"\u0062\u0075\u006c\u006c\u0065\u0074",_egdb );
_fbgeb ._ddgc =_ccbcd (_beaf ,"");_fbge =append (_fbge ,_fbgeb );};return _fbge ;};func _cgb (_bc []rune )BidiText {_dd :=-1;_fbe :=false ;_cgcb :=true ;_bag :=len (_bc );_acc :=make ([]string ,_bag );_fc :=make ([]string ,_bag );if _bag ==0||_fbe {return _ae (string (_bc ),_cgcb ,_fbe );
};_bgd :=0;for _abb ,_gfb :=range _bc {_acc [_abb ]=string (_gfb );_fcb :="\u004c";if _gfb <=0x00ff{_fcb =_cc [_gfb ];}else if 0x0590<=_gfb &&_gfb <=0x05f4{_fcb ="\u0052";}else if 0x0600<=_gfb &&_gfb <=0x06ff{_ff :=_gfb &0xff;if int (_ff )>=len (_afe ){_f .Log .Debug ("\u0042\u0069\u0064\u0069\u003a\u0020\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0055n\u0069c\u006f\u0064\u0065\u0020\u0063\u0068\u0061\u0072\u0061\u0063\u0074\u0065\u0072\u0020"+string (_gfb ));
};_fcb =_afe [_gfb &0xff];}else if (0x0700<=_gfb &&_gfb <=0x08ac)||(0xfb50<=_gfb &&_gfb <=0xfdff)||(0xfe70<=_gfb &&_gfb <=0xfeff){_fcb ="\u0041\u004c";};if _fcb =="\u0052"||_fcb =="\u0041\u004c"||_fcb =="\u0041\u004e"{_bgd ++;};_fc [_abb ]=_fcb ;};if _bgd ==0{_cgcb =true ;
return _ae (string (_bc ),_cgcb ,false );};if _dd ==-1{if float64 (_bgd )/float64 (_bag )< 0.3&&_bag > 4{_cgcb =true ;_dd =0;}else {_cgcb =false ;_dd =1;};};var _cd []int ;for range _bc {_cd =append (_cd ,_dd );};_ec :="\u004c";if _bf (_dd ){_ec ="\u0052";
};_abg :=_ec ;_dfb :=_abg ;_dbg :=_abg ;for _ece :=range _bc {if _fc [_ece ]=="\u004e\u0053\u004d"{_fc [_ece ]=_dbg ;}else {_dbg =_fc [_ece ];};};_dbg =_abg ;var _cdb string ;for _afc :=range _bc {_cdb =_fc [_afc ];if _cdb =="\u0045\u004e"{if _dbg =="\u0041\u004c"{_fc [_afc ]="\u0041\u004e";
}else {_fc [_afc ]="\u0045\u004e";};}else if _cdb =="\u0052"||_cdb =="\u004c"||_cdb =="\u0041\u004c"{_dbg =_cdb ;};};for _agd :=range _bc {_feb :=_fc [_agd ];if _feb =="\u0041\u004c"{_fc [_agd ]="\u0052";};};for _bga :=1;_bga < (len (_bc )-1);_bga ++{if _fc [_bga ]=="\u0045\u0053"&&_fc [_bga -1]=="\u0045\u004e"&&_fc [_bga +1]=="\u0045\u004e"{_fc [_bga ]="\u0045\u004e";
};if _fc [_bga ]=="\u0043\u0053"&&(_fc [_bga -1]=="\u0045\u004e"||_fc [_bga -1]=="\u0041\u004e")&&_fc [_bga +1]==_fc [_bga -1]{_fc [_bga ]=_fc [_bga -1];};};for _bcg :=range _bc {if _fc [_bcg ]=="\u0045\u004e"{for _ffb :=_bcg -1;_ffb >=0;_ffb --{if _fc [_ffb ]!="\u0045\u0054"{break ;
};_fc [_ffb ]="\u0045\u004e";};for _bbf :=_bcg +1;_bbf < _bag ;_bbf ++{if _fc [_bbf ]!="\u0045\u0054"{break ;};_fc [_bbf ]="\u0045\u004e";};};};for _aac :=range _bc {_caa :=_fc [_aac ];if _caa =="\u0057\u0053"||_caa =="\u0045\u0053"||_caa =="\u0045\u0054"||_caa =="\u0043\u0053"{_fc [_aac ]="\u004f\u004e";
};};_dbg ="\u0073\u006f\u0072";for _gbg :=range _bc {_bgdf :=_fc [_gbg ];if _bgdf =="\u0045\u004e"{if _dbg =="\u004c"{_fc [_gbg ]="\u004c";}else {_fc [_gbg ]="\u0045\u004e";};}else if _bgdf =="\u0052"||_bgdf =="\u004c"{_dbg =_bgdf ;};};for _cge :=0;_cge < len (_bc );
_cge ++{if _fc [_cge ]=="\u004f\u004e"{_abge :=_ca (_fc ,_cge +1,"\u004f\u004e");_aae :=_dfb ;if _cge > 0{_aae =_fc [_cge -1];};_eca :=_dfb ;if _abge +1< _bag {_eca =_fc [_abge +1];};if _aae !="\u004c"{_aae ="\u0052";};if _eca !="\u004c"{_eca ="\u0052";
};if _aae ==_eca {_ef (_fc ,_cge ,_abge ,_aae );};_cge =_abge -1;};};for _bca :=range _bc {if _fc [_bca ]=="\u004f\u004e"{_fc [_bca ]=_ec ;};};for _fged :=range _bc {_gd :=_fc [_fged ];if _cb (_cd [_fged ]){if _gd =="\u0052"{_cd [_fged ]++;}else if _gd =="\u0041\u004e"||_gd =="\u0045\u004e"{_cd [_fged ]+=2;
};}else if _gd =="\u004c"||_gd =="\u0041\u004e"||_gd =="\u0045\u004e"{_cd [_fged ]++;};};_cgg :=-1;_cda :=99;var _gg int ;for _fbee :=0;_fbee < len (_cd );_fbee ++{_gg =_cd [_fbee ];if _cgg < _gg {_cgg =_gg ;};if _cda > _gg &&_bf (_gg ){_cda =_gg ;};};
for _cfe :=_cgg ;_cfe >=_cda ;_cfe --{_bff :=-1;for _cfg :=0;_cfg < len (_cd );_cfg ++{if _cd [_cfg ]< _cfe {if _bff >=0{_fg (_acc ,_bff ,_cfg );_bff =-1;};}else if _bff < 0{_bff =_cfg ;};};if _bff >=0{_fg (_acc ,_bff ,len (_cd ));};};for _fee :=0;_fee < len (_acc );
_fee ++{_ee :=_acc [_fee ];if _ee =="\u003c"||_ee =="\u003e"{_acc [_fee ]="";};};return _ae (_df .Join (_acc ,""),_cgcb ,false );};func _dacd (_dgdc []*textMark ,_gccdf _d .PdfRectangle )string {_f .Log .Trace ("\u006d\u0061\u006b\u0065\u0053i\u006d\u0070\u006c\u0065\u0054\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020e\u006c\u0065\u006d\u0065\u006e\u0074\u0073\u0020\u0070\u0061\u0067\u0065\u0053\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066",len (_dgdc ),_gccdf );
_agff :="";if len (_dgdc )==0{return _agff ;};_dfcb :=_dabd (_dgdc ,_gccdf ,true );if len (_dfcb )==0{return _agff ;};_debea :=0.0;_egage :=true ;_eaae :="";for _ ,_accfc :=range _dfcb {_gbbe :=_accfc ._aecae ;if _gbbe > _fefdb {_gbbe =_fefdb ;};if (_accfc ._cgbe -_debea > _ecgg *_gbbe &&_debea !=0.0)||(_debea -_accfc ._cgbe > _gbbe *10){_ffbg :=_cgb ([]rune (_eaae ));
_eaae =_ffbg ._gf ;_eaae +="\u000a";_agff +=_eaae ;_eaae ="";}else {if !_egage {_eaae +="\u0020";};};_eaae +=_accfc ._bdea ;_egage =false ;_debea =_accfc ._cgbe ;};if _eaae !=""{_dgad :=_cgb ([]rune (_eaae ));_eaae =_dgad ._gf ;_eaae +="\u000a";_agff +=_eaae ;
};return _agff ;};func (_gcae paraList )findTables (_fcebb []gridTiling )[]*textTable {_gcae .addNeighbours ();_b .Slice (_gcae ,func (_dfffb ,_gdadf int )bool {return _bgeef (_gcae [_dfffb ],_gcae [_gdadf ])< 0});var _eeacc []*textTable ;if _ffe {_gbaac :=_gcae .findGridTables (_fcebb );
_eeacc =append (_eeacc ,_gbaac ...);};if _gdff {_egac :=_gcae .findTextTables ();_eeacc =append (_eeacc ,_egac ...);};return _eeacc ;};var (_daaag =map[rune ]string {0x0060:"\u0300",0x02CB:"\u0300",0x0027:"\u0301",0x00B4:"\u0301",0x02B9:"\u0301",0x02CA:"\u0301",0x005E:"\u0302",0x02C6:"\u0302",0x007E:"\u0303",0x02DC:"\u0303",0x00AF:"\u0304",0x02C9:"\u0304",0x02D8:"\u0306",0x02D9:"\u0307",0x00A8:"\u0308",0x00B0:"\u030a",0x02DA:"\u030a",0x02BA:"\u030b",0x02DD:"\u030b",0x02C7:"\u030c",0x02C8:"\u030d",0x0022:"\u030e",0x02BB:"\u0312",0x02BC:"\u0313",0x0486:"\u0313",0x055A:"\u0313",0x02BD:"\u0314",0x0485:"\u0314",0x0559:"\u0314",0x02D4:"\u031d",0x02D5:"\u031e",0x02D6:"\u031f",0x02D7:"\u0320",0x02B2:"\u0321",0x00B8:"\u0327",0x02CC:"\u0329",0x02B7:"\u032b",0x02CD:"\u0331",0x005F:"\u0332",0x204E:"\u0359"};
);func _cbdad (_dgedc []*textWord ,_fgcbc *textWord )[]*textWord {for _dfgdg ,_gbdd :=range _dgedc {if _gbdd ==_fgcbc {return _eccdc (_dgedc ,_dfgdg );};};_f .Log .Error ("\u0072\u0065\u006d\u006f\u0076e\u0057\u006f\u0072\u0064\u003a\u0020\u0077\u006f\u0072\u0064\u0073\u0020\u0064o\u0065\u0073\u006e\u0027\u0074\u0020\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0020\u0077\u006f\u0072\u0064\u003d\u0025\u0073",_fgcbc );
return nil ;};

// RangeOffset returns the TextMarks in `ma` that overlap text[start:end] in the extracted text.
// These are tm: `start` <= tm.Offset + len(tm.Text) && tm.Offset < `end` where
// `start` and `end` are offsets in the extracted text.
// NOTE: TextMarks can contain multiple characters. e.g. "ffi" for the ﬃ ligature so the first and
// last elements of the returned TextMarkArray may only partially overlap text[start:end].
func (_dabc *TextMarkArray )RangeOffset (start ,end int )(*TextMarkArray ,error ){if _dabc ==nil {return nil ,_eg .New ("\u006da\u003d\u003d\u006e\u0069\u006c");};if end < start {return nil ,_ge .Errorf ("\u0065\u006e\u0064\u0020\u003c\u0020\u0073\u0074\u0061\u0072\u0074\u002e\u0020\u0052\u0061n\u0067\u0065\u004f\u0066\u0066\u0073\u0065\u0074\u0020\u006e\u006f\u0074\u0020d\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020\u0073\u0074\u0061\u0072t=\u0025\u0064\u0020\u0065\u006e\u0064\u003d\u0025\u0064\u0020",start ,end );
};_abff :=len (_dabc ._ecdd );if _abff ==0{return _dabc ,nil ;};if start < _dabc ._ecdd [0].Offset {start =_dabc ._ecdd [0].Offset ;};if end > _dabc ._ecdd [_abff -1].Offset +1{end =_dabc ._ecdd [_abff -1].Offset +1;};_bface :=_b .Search (_abff ,func (_cfbc int )bool {return _dabc ._ecdd [_cfbc ].Offset +len (_dabc ._ecdd [_cfbc ].Text )-1>=start });
if !(0<=_bface &&_bface < _abff ){_ffa :=_ge .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020\u0072\u0061\u006e\u0067\u0065\u002e\u0020\u0073\u0074\u0061\u0072\u0074\u003d%\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009 \u006c\u0061\u0073\u0074\u003d%\u0076",start ,_bface ,_abff ,_dabc ._ecdd [0],_dabc ._ecdd [_abff -1]);
return nil ,_ffa ;};_gfgg :=_b .Search (_abff ,func (_gaed int )bool {return _dabc ._ecdd [_gaed ].Offset > end -1});if !(0<=_gfgg &&_gfgg < _abff ){_dggg :=_ge .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020r\u0061\u006e\u0067e\u002e\u0020\u0065n\u0064\u003d%\u0064\u0020\u0069\u0045\u006e\u0064=\u0025d \u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d\u0025\u0076",end ,_gfgg ,_abff ,_dabc ._ecdd [0],_dabc ._ecdd [_abff -1]);
return nil ,_dggg ;};if _gfgg <=_bface {return nil ,_ge .Errorf ("\u0069\u0045\u006e\u0064\u0020\u003c=\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003a\u0020\u0073\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u0065\u006ed\u003d\u0025\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020i\u0045n\u0064\u003d\u0025\u0064",start ,end ,_bface ,_gfgg );
};return &TextMarkArray {_ecdd :_dabc ._ecdd [_bface :_gfgg ]},nil ;};func _gfbec (_dcfb int ,_adbec func (int ,int )bool )[]int {_ddcb :=make ([]int ,_dcfb );for _bgbeg :=range _ddcb {_ddcb [_bgbeg ]=_bgbeg ;};_b .Slice (_ddcb ,func (_deab ,_dcedd int )bool {return _adbec (_ddcb [_deab ],_ddcb [_dcedd ])});
return _ddcb ;};func (_feg *textObject )checkOp (_ffba *_af .ContentStreamOperation ,_ggc int ,_gaef bool )(_eddd bool ,_ffge error ){if _feg ==nil {var _gdge []_gb .PdfObject ;if _ggc > 0{_gdge =_ffba .Params ;if len (_gdge )> _ggc {_gdge =_gdge [:_ggc ];
};};_f .Log .Debug ("\u0025\u0023q \u006f\u0070\u0065r\u0061\u006e\u0064\u0020out\u0073id\u0065\u0020\u0074\u0065\u0078\u0074\u002e p\u0061\u0072\u0061\u006d\u0073\u003d\u0025+\u0076",_ffba .Operand ,_gdge );};if _ggc >=0{if len (_ffba .Params )!=_ggc {if _gaef {_ffge =_eg .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");
};_f .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_ffba .Operand ,_ggc ,len (_ffba .Params ),_ffba .Params );
return false ,_ffge ;};};return true ,nil ;};func (_fcbg *wordBag )blocked (_feec *textWord )bool {if _feec .Urx < _fcbg .Llx {_gabg :=_abfag (_feec .PdfRectangle );_bfab :=_ededa (_fcbg .PdfRectangle );if _fcbg ._gddb .blocks (_gabg ,_bfab ){if _befc {_f .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0078\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_feec ,_fcbg );
};return true ;};}else if _fcbg .Urx < _feec .Llx {_gbga :=_abfag (_fcbg .PdfRectangle );_cfgdg :=_ededa (_feec .PdfRectangle );if _fcbg ._gddb .blocks (_gbga ,_cfgdg ){if _befc {_f .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0078\u2192\u0020:\u0020\u0025\u0073\u0020%s",_feec ,_fcbg );
};return true ;};};if _feec .Ury < _fcbg .Lly {_egcg :=_eggd (_feec .PdfRectangle );_dgbe :=_ebfdf (_fcbg .PdfRectangle );if _fcbg ._feaac .blocks (_egcg ,_dgbe ){if _befc {_f .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0079\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_feec ,_fcbg );
};return true ;};}else if _fcbg .Ury < _feec .Lly {_eabaf :=_eggd (_fcbg .PdfRectangle );_cfdc :=_ebfdf (_feec .PdfRectangle );if _fcbg ._feaac .blocks (_eabaf ,_cfdc ){if _befc {_f .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0079\u2192\u0020:\u0020\u0025\u0073\u0020%s",_feec ,_fcbg );
};return true ;};};return false ;};func _dce (_ggg string ,_cggd ,_aafb int ,_fbef string )string {if _aafb > len (_ggg )-1{return _ggg [:_cggd ]+_fbef ;};return _ggg [:_cggd ]+_fbef +_ggg [_aafb :];};func _ae (_agb string ,_cga bool ,_cgc bool )BidiText {_gfg :="\u006c\u0074\u0072";
if _cgc {_gfg ="\u0074\u0074\u0062";}else if !_cga {_gfg ="\u0072\u0074\u006c";};return BidiText {_gf :_agb ,_da :_gfg };};

// String returns a string descibing `i`.
func (_fbfad gridTile )String ()string {_acde :=func (_cadad bool ,_cebca string )string {if _cadad {return _cebca ;};return "\u005f";};return _ge .Sprintf ("\u00256\u002e2\u0066\u0020\u0025\u0031\u0073%\u0031\u0073%\u0031\u0073\u0025\u0031\u0073",_fbfad .PdfRectangle ,_acde (_fbfad ._bccf ,"\u004c"),_acde (_fbfad ._eecf ,"\u0052"),_acde (_fbfad ._efbdg ,"\u0042"),_acde (_fbfad ._acbg ,"\u0054"));
};func (_adef *wordBag )sort (){for _ ,_gbdb :=range _adef ._gfda {_b .Slice (_gbdb ,func (_dbgd ,_eceg int )bool {return _cccc (_gbdb [_dbgd ],_gbdb [_eceg ])< 0});};};func _bbag (_cfee *wordBag ,_feaag *textWord ,_dggcg float64 )bool {return _cfee .Urx <=_feaag .Llx &&_feaag .Llx < _cfee .Urx +_dggcg ;
};func (_bdfg *textPara )bbox ()_d .PdfRectangle {return _bdfg .PdfRectangle };func _abab (_dgeef []pathSection )rulingList {_fagca (_dgeef );if _acf {_f .Log .Info ("\u006da\u006b\u0065\u0046\u0069l\u006c\u0052\u0075\u006c\u0069n\u0067s\u003a \u0025\u0064\u0020\u0066\u0069\u006c\u006cs",len (_dgeef ));
};var _ggcgg rulingList ;for _ ,_adaa :=range _dgeef {for _ ,_faabg :=range _adaa ._aca {if !_faabg .isQuadrilateral (){if _acf {_f .Log .Error ("!\u0069s\u0051\u0075\u0061\u0064\u0072\u0069\u006c\u0061t\u0065\u0072\u0061\u006c: \u0025\u0073",_faabg );
};continue ;};if _bcbee ,_dgbf :=_faabg .makeRectRuling (_adaa .Color );_dgbf {_ggcgg =append (_ggcgg ,_bcbee );}else {if _ebbb {_f .Log .Error ("\u0021\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0073",_faabg );
};};};};if _acf {_f .Log .Info ("\u006d\u0061\u006b\u0065Fi\u006c\u006c\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0073",_ggcgg .String ());};return _ggcgg ;};func (_daaeb *textTable )toTextTable ()TextTable {if _eceb {_f .Log .Info ("t\u006fT\u0065\u0078\u0074\u0054\u0061\u0062\u006c\u0065:\u0020\u0025\u0064\u0020x \u0025\u0064",_daaeb ._dafge ,_daaeb ._ecdae );
};_ddgce :=make ([][]TableCell ,_daaeb ._ecdae );for _fcfg :=0;_fcfg < _daaeb ._ecdae ;_fcfg ++{_ddgce [_fcfg ]=make ([]TableCell ,_daaeb ._dafge );for _bfccg :=0;_bfccg < _daaeb ._dafge ;_bfccg ++{_fgddb :=_daaeb .get (_bfccg ,_fcfg );if _fgddb ==nil {continue ;
};_ecbb (_fgddb ._cbdb );if _eceb {_ge .Printf ("\u0025\u0034\u0064 \u0025\u0032\u0064\u003a\u0020\u0025\u0073\u000a",_bfccg ,_fcfg ,_fgddb );};_ddgce [_fcfg ][_bfccg ].Text =_fgddb .text ();_eagdf :=0;_ddgce [_fcfg ][_bfccg ].Marks ._ecdd =_fgddb .toTextMarks (&_eagdf );
};};_eaeb :=TextTable {W :_daaeb ._dafge ,H :_daaeb ._ecdae ,Cells :_ddgce };_eaeb .PdfRectangle =_daaeb .bbox ();return _eaeb ;};func _dgbc (_aeedb ,_fecda _db .Point )bool {return _aeedb .X ==_fecda .X &&_aeedb .Y ==_fecda .Y };func (_ggga *textObject )showText (_ecfa _gb .PdfObject ,_fdbd []byte ,_dggd int ,_cbfc string )error {return _ggga .renderText (_ecfa ,_fdbd ,_dggd ,_cbfc );
};

// List returns all the list objects detected on the page.
// It detects all the bullet point Lists from a given pdf page and builds a slice of bullet list objects.
// A given bullet list object has a tree structure.
// Each bullet point list is extracted with the text content it contains and all the sub lists found under it as children in the tree.
// The rest content of the pdf is ignored and only text in the bullet point lists are extracted.
// The list extraction is done in two ways.
// 1. If the document is tagged then the lists are extracted using the tags provided in the document.
// 2. Otherwise the bullet lists are extracted from the raw text using regex matching.
// By default the document tag is used if available.
// However this can be disabled using `DisableDocumentTags` in the `Options` object.
// Sometimes disabling document tags option might give a better bullet list extraction if the document was tagged incorrectly.
//
//	    options := &Options{
//		     DisableDocumentTags: false, // this means use document tag if available
//	    }
//	    ex, err := NewWithOptions(page, options)
//	    // handle error
//	    pageText, _, _, err := ex.ExtractPageText()
//	    // handle error
//	    lists := pageText.List()
//	    txt := lists.Text()
func (_abdc PageText )List ()lists {_fgbga :=!_abdc ._ceaa ._fdcb ;_bbcf :=_abdc .getParagraphs ();_gbaa :=_bbcf .list ();if _abdc ._gbff !=nil &&_fgbga {_daae :=_abdf (&_bbcf );if len (_abdc ._gbff .K )==0{_f .Log .Debug ("\u004c\u0069\u0073\u0074\u003a\u0020\u0073t\u0072\u0075\u0063\u0074\u0054\u0072\u0065\u0065\u0052\u006f\u006f\u0074\u0020\u0064\u006f\u0065\u0073\u006e'\u0074\u0020\u0068\u0061\u0076e\u0020\u0061\u006e\u0079\u0020\u0063\u006f\u006e\u0074e\u006e\u0074\u002c\u0020\u0075\u0073\u0069\u006e\u0067\u0020\u0074\u0065\u0078\u0074\u0020\u006d\u0061\u0074\u0063\u0068\u0069\u006e\u0067\u0020\u006d\u0065\u0074\u0068\u006f\u0064\u0020\u0069\u006e\u0073\u0074\u0065\u0061\u0064\u002e");
return _gbaa ;};_gbaa =_fdab (_abdc ._gbff ,_daae ,_abdc ._bagc );};return _gbaa ;};func (_dgbb *wordBag )highestWord (_aege int ,_ffde ,_cdbfb float64 )*textWord {for _ ,_eedg :=range _dgbb ._gfda [_aege ]{if _ffde <=_eedg ._cgbe &&_eedg ._cgbe <=_cdbfb {return _eedg ;
};};return nil ;};func (_cfeg *textPara )depth ()float64 {if _cfeg ._dgba {return -1.0;};if len (_cfeg ._cbdb )> 0{return _cfeg ._cbdb [0]._bdef ;};return _cfeg ._cgbdg .depth ();};

// Replace takes a pattern and replaces all the texts that much the pattern with `replacement`.
func (_bcdb *Editor )Replace (pattern string ,replacement string ,pages []int )error {_gee :=map[int ]Match {};for _ ,_bgag :=range pages {_gdfe ,_efeg :=_bcdb ._bdf .GetPage (_bgag );if _efeg !=nil {return _efeg ;};_ged ,_efeg :=New (_gdfe );if _efeg !=nil {return _efeg ;
};_fcbf ,_ ,_ ,_efeg :=_ged .ExtractPageText ();if _efeg !=nil {return _efeg ;};_efcg :="";_caf :=_fcbf .Text ();_dbea ,_efeg :=_bge (pattern ,_caf );if _efeg !=nil {return _efeg ;};_edbe :=_fcbf .Marks ();_fdfb :=[]Box {};for _ ,_fae :=range _dbea {_aff ,_fdg ,_adda :=_dcc (_fae ,_edbe ,pattern );
if _adda !=nil {return _adda ;};_ecg :=_afef (_aff );_fdfb =append (_fdfb ,_fdg );replacement ,_adda =_gda (_ecg ,replacement ,pattern );if _adda !=nil {return _adda ;};};_efcg =_fcbf .GetContentStreamOps ().String ();_becb :=Match {Pattern :pattern ,Indexes :_dbea ,Locations :_fdfb };
_gdfe .SetContentStreams ([]string {_efcg },_gb .NewFlateEncoder ());_gee [_bgag ]=_becb ;};return nil ;};var _cgbf =TextMark {Text :"\u005b\u0058\u005d",Original :"\u0020",Meta :true ,FillColor :_ce .White ,StrokeColor :_ce .White };func (_becg *textTable )computeBbox ()_d .PdfRectangle {var _feda _d .PdfRectangle ;
_gaccbe :=false ;for _dbca :=0;_dbca < _becg ._ecdae ;_dbca ++{for _dabgd :=0;_dabgd < _becg ._dafge ;_dabgd ++{_gbda :=_becg .get (_dabgd ,_dbca );if _gbda ==nil {continue ;};if !_gaccbe {_feda =_gbda .PdfRectangle ;_gaccbe =true ;}else {_feda =_fgfdfc (_feda ,_gbda .PdfRectangle );
};};};return _feda ;};func _bddb (_cdad ,_adbbb bounded )float64 {_bbac :=_bfc (_cdad ,_adbbb );if !_eedbf (_bbac ){return _bbac ;};return _cccc (_cdad ,_adbbb );};func _fagef (_fgaae float64 )int {var _ebgad int ;if _fgaae >=0{_ebgad =int (_fgaae /_bgca );
}else {_ebgad =int (_fgaae /_bgca )-1;};return _ebgad ;};func (_gadg *shapesState )quadraticTo (_dgdb ,_dgef ,_ccde ,_cddf float64 ){if _cbge {_f .Log .Info ("\u0071\u0075\u0061d\u0072\u0061\u0074\u0069\u0063\u0054\u006f\u003a");};_gadg .addPoint (_ccde ,_cddf );
};

// String returns a description of `k`.
func (_egee rulingKind )String ()string {_ccfb ,_afce :=_ccfec [_egee ];if !_afce {return _ge .Sprintf ("\u004e\u006ft\u0020\u0061\u0020r\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0064",_egee );};return _ccfb ;};

// Append appends `mark` to the mark array.
func (_gafb *TextMarkArray )Append (mark TextMark ){_gafb ._ecdd =append (_gafb ._ecdd ,mark )};func (_bed *PageFonts )extractPageResourcesToFont (_efc *_d .PdfPageResources )error {if _efc .Font ==nil {return _eg .New (_bdb );};_cea ,_fbda :=_gb .GetDict (_efc .Font );
if !_fbda {return _eg .New (_cba );};for _ ,_bad :=range _cea .Keys (){var (_gcb =true ;_fag []byte ;_bcd string ;);_eeg ,_ebf :=_efc .GetFontByName (_bad );if !_ebf {return _eg .New (_aad );};_dde ,_cec :=_d .NewPdfFontFromPdfObject (_eeg );if _cec !=nil {return _cec ;
};_afcd :=_dde .FontDescriptor ();_ddeg :=_dde .FontDescriptor ().FontName .String ();_ga :=_dde .Subtype ();if _agde (_bed .Fonts ,_ddeg ){continue ;};if len (_dde .ToUnicode ())==0{_gcb =false ;};if _afcd .FontFile !=nil {if _ccda ,_ecf :=_gb .GetStream (_afcd .FontFile );
_ecf {_fag ,_cec =_gb .DecodeStream (_ccda );if _cec !=nil {return _cec ;};_bcd =_ddeg +"\u002e\u0070\u0066\u0062";};}else if _afcd .FontFile2 !=nil {if _beb ,_dda :=_gb .GetStream (_afcd .FontFile2 );_dda {_fag ,_cec =_gb .DecodeStream (_beb );if _cec !=nil {return _cec ;
};_bcd =_ddeg +"\u002e\u0074\u0074\u0066";};}else if _afcd .FontFile3 !=nil {if _cff ,_aea :=_gb .GetStream (_afcd .FontFile3 );_aea {_fag ,_cec =_gb .DecodeStream (_cff );if _cec !=nil {return _cec ;};_bcd =_ddeg +"\u002e\u0063\u0066\u0066";};};if len (_bcd )< 1{_f .Log .Debug (_afeb );
};_gdc :=Font {FontName :_ddeg ,PdfFont :_dde ,IsCID :_dde .IsCID (),IsSimple :_dde .IsSimple (),ToUnicode :_gcb ,FontType :_ga ,FontData :_fag ,FontFileName :_bcd ,FontDescriptor :_afcd };_bed .Fonts =append (_bed .Fonts ,_gdc );};return nil ;};func (_efac *wordBag )maxDepth ()float64 {return _efac ._dfaa -_efac .Lly };
func (_gcagb rectRuling )checkWidth (_facg ,_abcg float64 )(float64 ,bool ){_gacgg :=_abcg -_facg ;_cege :=_gacgg <=_efef ;return _gacgg ,_cege ;};

// String returns a description of `k`.
func (_dfggd markKind )String ()string {_fdagg ,_bcdaf :=_afaf [_dfggd ];if !_bcdaf {return _ge .Sprintf ("\u004e\u006f\u0074\u0020\u0061\u0020\u006d\u0061\u0072k\u003a\u0020\u0025\u0064",_dfggd );};return _fdagg ;};

// NewWithOptions an Extractor instance for extracting content from the input PDF page with options.
func NewWithOptions (page *_d .PdfPage ,options *Options )(*Extractor ,error ){const _gfbf ="\u0065x\u0074\u0072\u0061\u0063\u0074\u006f\u0072\u002e\u004e\u0065\u0077W\u0069\u0074\u0068\u004f\u0070\u0074\u0069\u006f\u006e\u0073";_fbag ,_gec :=page .GetAllContentStreams ();
if _gec !=nil {return nil ,_gec ;};var _bgdfe *_d .StructTreeRoot ;_cdg ,_edd :=page .GetStructTreeRoot ();if !_edd {_f .Log .Debug ("T\u0068\u0065\u0020\u0070\u0064\u0066\u0020\u0064\u006f\u0063\u0075\u006d\u0065\u006e\u0074\u0020\u0069\u0073\u0020\u006e\u006f\u0074\u0020\u0074\u0061\u0067g\u0065d\u002e\u0020\u0053\u0074r\u0075\u0063t\u0054\u0072\u0065\u0065\u0052\u006f\u006f\u0074\u0020\u0064\u006f\u0065\u0073\u006e\u0027\u0074\u0020\u0065\u0078\u0069\u0073\u0074\u002e");
}else {_bgdfe ,_gec =_d .NewStructTreeRootFromPdfObject (*_cdg );if _gec !=nil {return nil ,_ge .Errorf ("\u0065\u0072\u0072or\u0020\u006c\u006f\u0061\u0064\u0069\u006e\u0067\u0020s\u0074r\u0075c\u0074 \u0074\u0072\u0065\u0065\u0020\u0072\u006f\u006f\u0074\u003a\u0020\u0025\u0076",_gec );
};};_ccba :=page .GetContainingPdfObject ();_fedb ,_gec :=page .GetMediaBox ();if _gec !=nil {return nil ,_ge .Errorf ("\u0065\u0078\u0074r\u0061\u0063\u0074\u006fr\u0020\u0072\u0065\u0071\u0075\u0069\u0072e\u0073\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u002e\u0020\u0025\u0076",_gec );
};_edb :=&Extractor {_ccd :_fbag ,_gfgb :page .Resources ,_agc :*_fedb ,_bab :page .CropBox ,_bece :page .GetStructParentsKey (),_caaf :map[string ]fontEntry {},_ege :map[string ]textResult {},_ed :map[string ]textResult {},_cacf :options ,_afb :_bgdfe ,_ffc :_ccba };
if _edb ._agc .Llx > _edb ._agc .Urx {_f .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0058\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_edb ._agc );
_edb ._agc .Llx ,_edb ._agc .Urx =_edb ._agc .Urx ,_edb ._agc .Llx ;};if _edb ._agc .Lly > _edb ._agc .Ury {_f .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0059\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_edb ._agc );
_edb ._agc .Lly ,_edb ._agc .Ury =_edb ._agc .Ury ,_edb ._agc .Lly ;};if _edb ._cacf !=nil {if _edb ._cacf .IncludeAnnotations {_edb ._fbd ,_gec =page .GetAnnotations ();if _gec !=nil {_f .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0067\u0065\u0074\u0074\u0069\u006e\u0067\u0020\u0061\u006e\u006e\u006f\u0074\u0061\u0074\u0069\u006f\u006e\u0073: \u0025\u0076",_gec );
};};};_ba .TrackUse (_gfbf );return _edb ,nil ;};func (_fcabb rulingList )removeDuplicates ()rulingList {if len (_fcabb )==0{return nil ;};_fcabb .sort ();_deeff :=rulingList {_fcabb [0]};for _ ,_caec :=range _fcabb [1:]{if _caec .equals (_deeff [len (_deeff )-1]){continue ;
};_deeff =append (_deeff ,_caec );};return _deeff ;};func (_fgfa paraList )tables ()[]TextTable {var _bagge []TextTable ;if _eceb {_f .Log .Info ("\u0070\u0061\u0072\u0061\u0073\u002e\u0074\u0061\u0062\u006c\u0065\u0073\u003a");};for _ ,_edcac :=range _fgfa {_cgad :=_edcac ._cgbdg ;
if _cgad !=nil &&_cgad .isExportable (){_bagge =append (_bagge ,_cgad .toTextTable ());};};return _bagge ;};func (_fdec *textLine )appendWord (_eagg *textWord ){_fdec ._bcfga =append (_fdec ._bcfga ,_eagg );_fdec .PdfRectangle =_fgfdfc (_fdec .PdfRectangle ,_eagg .PdfRectangle );
if _eagg ._aecae > _fdec ._caad {_fdec ._caad =_eagg ._aecae ;};if _eagg ._cgbe > _fdec ._bdef {_fdec ._bdef =_eagg ._cgbe ;};};func (_bebef *textTable )markCells (){for _gfdg :=0;_gfdg < _bebef ._ecdae ;_gfdg ++{for _ffbd :=0;_ffbd < _bebef ._dafge ;_ffbd ++{_bcgce :=_bebef .get (_ffbd ,_gfdg );
if _bcgce !=nil {_bcgce ._agbfd =true ;};};};};func (_gcfeg *textTable )newTablePara ()*textPara {_bcggge :=_gcfeg .computeBbox ();_febce :=&textPara {PdfRectangle :_bcggge ,_gdeb :_bcggge ,_cgbdg :_gcfeg };if _eceb {_f .Log .Info ("\u006e\u0065w\u0054\u0061\u0062l\u0065\u0050\u0061\u0072\u0061\u003a\u0020\u0025\u0073",_febce );
};return _febce ;};func (_aedb *textTable )compositeColCorridors ()map[int ][]float64 {_cadf :=make (map[int ][]float64 ,_aedb ._dafge );if _eceb {_f .Log .Info ("\u0063\u006f\u006d\u0070o\u0073\u0069\u0074\u0065\u0043\u006f\u006c\u0043\u006f\u0072r\u0069d\u006f\u0072\u0073\u003a\u0020\u0077\u003d%\u0064\u0020",_aedb ._dafge );
};for _cdafc :=0;_cdafc < _aedb ._dafge ;_cdafc ++{_cadf [_cdafc ]=nil ;};return _cadf ;};func (_ffgad paraList )applyTables (_ecbfe []*textTable )paraList {var _beabc paraList ;for _ ,_gfbg :=range _ecbfe {_beabc =append (_beabc ,_gfbg .newTablePara ());
};for _ ,_eafd :=range _ffgad {if _eafd ._agbfd {continue ;};_beabc =append (_beabc ,_eafd );};return _beabc ;};func (_gdae *compositeCell )updateBBox (){for _ ,_fcag :=range _gdae .paraList {_gdae .PdfRectangle =_fgfdfc (_gdae .PdfRectangle ,_fcag .PdfRectangle );
};};func _gdca (_acda _gb .PdfObject ,_dafgdb _ce .Color )(_aaf .Image ,error ){_fdeg ,_cbdcdf :=_gb .GetStream (_acda );if !_cbdcdf {return nil ,nil ;};_facf ,_caadf :=_d .NewXObjectImageFromStream (_fdeg );if _caadf !=nil {return nil ,_caadf ;};_ccfcb ,_caadf :=_facf .ToImage ();
if _caadf !=nil {return nil ,_caadf ;};return _aggac (_ccfcb ,_dafgdb ),nil ;};func (_dafgeb *textTable )reduce ()*textTable {_agge :=make ([]int ,0,_dafgeb ._ecdae );_afde :=make ([]int ,0,_dafgeb ._dafge );for _baedc :=0;_baedc < _dafgeb ._ecdae ;_baedc ++{if !_dafgeb .emptyCompositeRow (_baedc ){_agge =append (_agge ,_baedc );
};};for _agdca :=0;_agdca < _dafgeb ._dafge ;_agdca ++{if !_dafgeb .emptyCompositeColumn (_agdca ){_afde =append (_afde ,_agdca );};};if len (_agge )==_dafgeb ._ecdae &&len (_afde )==_dafgeb ._dafge {return _dafgeb ;};_acfd :=textTable {_beced :_dafgeb ._beced ,_dafge :len (_afde ),_ecdae :len (_agge ),_ddagg :make (map[uint64 ]*textPara ,len (_afde )*len (_agge ))};
if _eceb {_f .Log .Info ("\u0072\u0065\u0064\u0075ce\u003a\u0020\u0025\u0064\u0078\u0025\u0064\u0020\u002d\u003e\u0020\u0025\u0064\u0078%\u0064",_dafgeb ._dafge ,_dafgeb ._ecdae ,len (_afde ),len (_agge ));_f .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_afde );
_f .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_agge );};for _ceeag ,_adaca :=range _agge {for _dcdb ,_cggb :=range _afde {_bfbca ,_dfggg :=_dafgeb .getComposite (_cggb ,_adaca );if _bfbca ==nil {continue ;
};if _eceb {_ge .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_dcdb ,_ceeag ,_cggb ,_adaca ,_edde (_bfbca .merge ().text (),50));};_acfd .putComposite (_dcdb ,_ceeag ,_bfbca ,_dfggg );
};};return &_acfd ;};func (_bagcd *textWord )bbox ()_d .PdfRectangle {return _bagcd .PdfRectangle };func (_dfcge rulingList )sortStrict (){_b .Slice (_dfcge ,func (_febcc ,_fddec int )bool {_cebgc ,_fbca :=_dfcge [_febcc ],_dfcge [_fddec ];_ddecd ,_bacae :=_cebgc ._dcga ,_fbca ._dcga ;
if _ddecd !=_bacae {return _ddecd > _bacae ;};_ccgg ,_dcdag :=_cebgc ._aead ,_fbca ._aead ;if !_eedbf (_ccgg -_dcdag ){return _ccgg < _dcdag ;};_ccgg ,_dcdag =_cebgc ._ccag ,_fbca ._ccag ;if _ccgg !=_dcdag {return _ccgg < _dcdag ;};return _cebgc ._dbgda < _fbca ._dbgda ;
});};func _acgc (_fgecc float64 )float64 {return _cbgb *_e .Round (_fgecc /_cbgb )};const _dbdg =10;func (_gagc rulingList )merge ()*ruling {_cdcdc :=_gagc [0]._aead ;_aeafb :=_gagc [0]._ccag ;_gbggc :=_gagc [0]._dbgda ;for _ ,_dfffd :=range _gagc [1:]{_cdcdc +=_dfffd ._aead ;
if _dfffd ._ccag < _aeafb {_aeafb =_dfffd ._ccag ;};if _dfffd ._dbgda > _gbggc {_gbggc =_dfffd ._dbgda ;};};_beffc :=&ruling {_dcga :_gagc [0]._dcga ,_afcba :_gagc [0]._afcba ,Color :_gagc [0].Color ,_aead :_cdcdc /float64 (len (_gagc )),_ccag :_aeafb ,_dbgda :_gbggc };
if _gaeb {_f .Log .Info ("\u006de\u0072g\u0065\u003a\u0020\u0025\u0032d\u0020\u0076e\u0063\u0073\u0020\u0025\u0073",len (_gagc ),_beffc );for _cacbg ,_gdbcg :=range _gagc {_ge .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_cacbg ,_gdbcg );
};};return _beffc ;};func (_egbecf *textMark )bbox ()_d .PdfRectangle {return _egbecf .PdfRectangle };func (_aebbe *shapesState )establishSubpath ()*subpath {_ffdc ,_gdda :=_aebbe .lastpointEstablished ();if !_gdda {_aebbe ._cbce =append (_aebbe ._cbce ,_baeebb (_ffdc ));
};if len (_aebbe ._cbce )==0{return nil ;};_aebbe ._cffg =false ;return _aebbe ._cbce [len (_aebbe ._cbce )-1];};func (_acae *subpath )clear (){*_acae =subpath {}};func (_afd *textObject )moveText (_fagec ,_aeff float64 ){_afd .moveLP (_fagec ,_aeff )};
func _eccdc (_cdae []*textWord ,_gfdad int )[]*textWord {_cbfbg :=len (_cdae );copy (_cdae [_gfdad :],_cdae [_gfdad +1:]);return _cdae [:_cbfbg -1];};func (_bbad *shapesState )newSubPath (){_bbad .clearPath ();if _cbge {_f .Log .Info ("\u006e\u0065\u0077\u0053\u0075\u0062\u0050\u0061\u0074h\u003a\u0020\u0025\u0073",_bbad );
};};const (_fffe markKind =iota ;_dgafa ;_afea ;_adcfe ;);func _bgff (_cdbe _d .PdfColorspace ,_dgecc _d .PdfColor )_ce .Color {if _cdbe ==nil ||_dgecc ==nil {return _ce .Black ;};_eaec ,_dbeed :=_cdbe .ColorToRGB (_dgecc );if _dbeed !=nil {_f .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006fu\u006c\u0064\u0020no\u0074\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0025\u0076\u0020\u0028\u0025\u0076)\u0020\u0074\u006f\u0020\u0052\u0047\u0042\u003a \u0025\u0073",_dgecc ,_cdbe ,_dbeed );
return _ce .Black ;};_egcb ,_cgfce :=_eaec .(*_d .PdfColorDeviceRGB );if !_cgfce {_f .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0065\u0064 \u0063\u006f\u006c\u006f\u0072\u0020\u0069\u0073\u0020\u006e\u006f\u0074\u0020i\u006e\u0020\u0074\u0068\u0065\u0020\u0052\u0047\u0042\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u003a\u0020\u0025\u0076",_eaec );
return _ce .Black ;};return _ce .NRGBA {R :uint8 (_egcb .R ()*255),G :uint8 (_egcb .G ()*255),B :uint8 (_egcb .B ()*255),A :uint8 (255)};};type textLine struct{_d .PdfRectangle ;_bdef float64 ;_bcfga []*textWord ;_caad float64 ;};func _gede (_afcgf []*textMark ,_eaag _d .PdfRectangle ,_dfgec rulingList ,_ffgfd []gridTiling ,_bgddd bool )paraList {_f .Log .Trace ("\u006d\u0061\u006b\u0065\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065\u003a \u0025\u0064\u0020\u0065\u006c\u0065m\u0065\u006e\u0074\u0073\u0020\u0070\u0061\u0067\u0065\u0053\u0069\u007a\u0065=\u0025\u002e\u0032\u0066",len (_afcgf ),_eaag );
if len (_afcgf )==0{return nil ;};_faff :=_dabd (_afcgf ,_eaag ,false );if len (_faff )==0{return nil ;};_dfgec .log ("\u006d\u0061\u006be\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065");_edfbg ,_cbdf :=_dfgec .vertsHorzs ();_bddgg :=_aace (_faff ,_eaag .Ury ,_edfbg ,_cbdf );
_fffdg :=_aggd (_bddgg ,_eaag .Ury ,_edfbg ,_cbdf ,_bgddd );_fffdg =_bgfg (_fffdg );_cfbdd :=make (paraList ,0,len (_fffdg ));for _ ,_gbab :=range _fffdg {_dfde :=_gbab .arrangeText (_bgddd );if _dfde !=nil {_cfbdd =append (_cfbdd ,_dfde );};};if len (_cfbdd )>=_adea {_cfbdd =_cfbdd .extractTables (_ffgfd );
};_cfbdd .sortReadingOrder ();_cfbdd .sortTopoOrder ();_cfbdd .log ("\u0073\u006f\u0072te\u0064\u0020\u0069\u006e\u0020\u0072\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u006f\u0072\u0064\u0065\u0072");return _cfbdd ;};type bounded interface{bbox ()_d .PdfRectangle };
func _agbcd (_eegf []TextMark ,_fafgf *TextTable )[]TextMark {var _defbe []TextMark ;for _ ,_bbgg :=range _eegf {_bbgg ._gcbba =true ;_bbgg ._gcfe =_fafgf ;_defbe =append (_defbe ,_bbgg );};return _defbe ;};func _aaaeca (_fbgg ,_fdabf int )uint64 {return uint64 (_fbgg )*0x1000000+uint64 (_fdabf )};
func (_bbgc *stateStack )push (_aaeb *textState ){_fcac :=*_aaeb ;*_bbgc =append (*_bbgc ,&_fcac )};func _fgaab (_fgeb _db .Point )_db .Matrix {return _db .TranslationMatrix (_fgeb .X ,_fgeb .Y )};func (_ceaaa paraList )yNeighbours (_cfed float64 )map[*textPara ][]int {_dccd :=make ([]event ,2*len (_ceaaa ));
if _cfed ==0{for _fdbbg ,_egbc :=range _ceaaa {_dccd [2*_fdbbg ]=event {_egbc .Lly ,true ,_fdbbg };_dccd [2*_fdbbg +1]=event {_egbc .Ury ,false ,_fdbbg };};}else {for _bcecg ,_cafad :=range _ceaaa {_dccd [2*_bcecg ]=event {_cafad .Lly -_cfed *_cafad .fontsize (),true ,_bcecg };
_dccd [2*_bcecg +1]=event {_cafad .Ury +_cfed *_cafad .fontsize (),false ,_bcecg };};};return _ceaaa .eventNeighbours (_dccd );};type textWord struct{_d .PdfRectangle ;_cgbe float64 ;_bdea string ;_bcaca []*textMark ;_aecae float64 ;_bgcae bool ;};func _fgac (_gdag []float64 ,_dbfa ,_fgfdd float64 )[]float64 {_daab ,_bfgbc :=_dbfa ,_fgfdd ;
if _bfgbc < _daab {_daab ,_bfgbc =_bfgbc ,_daab ;};_gefb :=make ([]float64 ,0,len (_gdag )+2);_gefb =append (_gefb ,_dbfa );for _ ,_accab :=range _gdag {if _accab <=_daab {continue ;}else if _accab >=_bfgbc {break ;};_gefb =append (_gefb ,_accab );};_gefb =append (_gefb ,_fgfdd );
return _gefb ;};func (_ecdfe *textTable )compositeRowCorridors ()map[int ][]float64 {_fcge :=make (map[int ][]float64 ,_ecdfe ._ecdae );if _eceb {_f .Log .Info ("c\u006f\u006d\u0070\u006f\u0073\u0069t\u0065\u0052\u006f\u0077\u0043\u006f\u0072\u0072\u0069d\u006f\u0072\u0073:\u0020h\u003d\u0025\u0064",_ecdfe ._ecdae );
};for _fcdeaa :=1;_fcdeaa < _ecdfe ._ecdae ;_fcdeaa ++{var _gefab []compositeCell ;for _adad :=0;_adad < _ecdfe ._dafge ;_adad ++{if _ccbca ,_bcef :=_ecdfe ._agdcc [_aaaeca (_adad ,_fcdeaa )];_bcef {_gefab =append (_gefab ,_ccbca );};};if len (_gefab )==0{continue ;
};_gccg :=_bbcb (_gefab );_fcge [_fcdeaa ]=_gccg ;if _eceb {_ge .Printf ("\u0020\u0020\u0020\u0025\u0032\u0064\u003a\u0020\u00256\u002e\u0032\u0066\u000a",_fcdeaa ,_gccg );};};return _fcge ;};

// String returns a human readable description of `s`.
func (_ffdg intSet )String ()string {var _agba []int ;for _cgde :=range _ffdg {if _ffdg .has (_cgde ){_agba =append (_agba ,_cgde );};};_b .Ints (_agba );return _ge .Sprintf ("\u0025\u002b\u0076",_agba );};func _bf (_be int )bool {return (_be &1)!=0};const _eacg =20;
