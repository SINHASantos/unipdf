//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package svg ;import (_ca "encoding/xml";_a "fmt";_cf "github.com/unidoc/unipdf/v3/common";_eb "github.com/unidoc/unipdf/v3/contentstream";_gc "github.com/unidoc/unipdf/v3/contentstream/draw";_dde "github.com/unidoc/unipdf/v3/internal/graphic2d";_dd "golang.org/x/net/html/charset";
_f "io";_b "math";_e "os";_g "strconv";_cb "strings";_d "unicode";);type pathParserError struct{_dbge string };func _eagd (_bdc *_ca .Decoder )(*GraphicSVG ,error ){for {_fbf ,_eccg :=_bdc .Token ();if _fbf ==nil &&_eccg ==_f .EOF {break ;};if _eccg !=nil {return nil ,_eccg ;
};switch _ggg :=_fbf .(type ){case _ca .StartElement :return _afd (_ggg ),nil ;};};return &GraphicSVG {},nil ;};func _eca (_cab *GraphicSVG ,_efg *_eb .ContentCreator ){_efg .Add_q ();_cab .Style .toContentStream (_efg );_caa ,_ebdd :=_bef (_cab .Attributes ["\u0063\u0078"],64);
if _ebdd !=nil {_cf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_ebdd .Error ());};_ed ,_ebdd :=_bef (_cab .Attributes ["\u0063\u0079"],64);
if _ebdd !=nil {_cf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_ebdd .Error ());};_eaf ,_ebdd :=_bef (_cab .Attributes ["\u0072"],64);
if _ebdd !=nil {_cf .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0072\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_ebdd .Error ());};_abe :=_eaf *_cab ._fge ;
_dc :=_eaf *_cab ._fge ;_gca :=_abe *_bf ;_ae :=_dc *_bf ;_cgg :=_gc .NewCubicBezierPath ();_cgg =_cgg .AppendCurve (_gc .NewCubicBezierCurve (-_abe ,0,-_abe ,_ae ,-_gca ,_dc ,0,_dc ));_cgg =_cgg .AppendCurve (_gc .NewCubicBezierCurve (0,_dc ,_gca ,_dc ,_abe ,_ae ,_abe ,0));
_cgg =_cgg .AppendCurve (_gc .NewCubicBezierCurve (_abe ,0,_abe ,-_ae ,_gca ,-_dc ,0,-_dc ));_cgg =_cgg .AppendCurve (_gc .NewCubicBezierCurve (0,-_dc ,-_gca ,-_dc ,-_abe ,-_ae ,-_abe ,0));_cgg =_cgg .Offset (_caa *_cab ._fge ,_ed *_cab ._fge );if _cab .Style .StrokeWidth > 0{_cgg =_cgg .Offset (_cab .Style .StrokeWidth /2,_cab .Style .StrokeWidth /2);
};_gc .DrawBezierPathWithCreator (_cgg ,_efg );if _cab .Style .FillColor !=""&&_cab .Style .StrokeColor !=""{_efg .Add_B ();}else if _cab .Style .FillColor !=""{_efg .Add_f ();}else if _cab .Style .StrokeColor !=""{_efg .Add_S ();};_efg .Add_h ();_efg .Add_Q ();
};func _aea (_gcbb []*Command )*Path {_faf :=&Path {};var _bca []*Command ;for _caba ,_ddb :=range _gcbb {switch _cb .ToLower (_ddb .Symbol ){case _ede ._gcfa :if len (_bca )> 0{_faf .Subpaths =append (_faf .Subpaths ,&Subpath {_bca });};_bca =[]*Command {_ddb };
case _ede ._gge :_bca =append (_bca ,_ddb );_faf .Subpaths =append (_faf .Subpaths ,&Subpath {_bca });_bca =[]*Command {};default:_bca =append (_bca ,_ddb );if len (_gcbb )==_caba +1{_faf .Subpaths =append (_faf .Subpaths ,&Subpath {_bca });};};};return _faf ;
};func _eaef (_dba *GraphicSVG ,_gae *_eb .ContentCreator ){_gae .Add_q ();_dba .Style .toContentStream (_gae );_gee ,_cd :=_bef (_dba .Attributes ["\u0078\u0031"],64);if _cd !=nil {_cf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cd .Error ());
};_ddea ,_cd :=_bef (_dba .Attributes ["\u0079\u0031"],64);if _cd !=nil {_cf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cd .Error ());
};_afc ,_cd :=_bef (_dba .Attributes ["\u0078\u0032"],64);if _cd !=nil {_cf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cd .Error ());
};_ffdg ,_cd :=_bef (_dba .Attributes ["\u0079\u0032"],64);if _cd !=nil {_cf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cd .Error ());
};_gae .Add_m (_gee *_dba ._fge ,_ddea *_dba ._fge );_gae .Add_l (_afc *_dba ._fge ,_ffdg *_dba ._fge );if _dba .Style .FillColor !=""&&_dba .Style .StrokeColor !=""{_gae .Add_B ();}else if _dba .Style .FillColor !=""{_gae .Add_f ();}else if _dba .Style .StrokeColor !=""{_gae .Add_S ();
};_gae .Add_h ();_gae .Add_Q ();};func (_cga *GraphicSVG )SetScaling (xFactor ,yFactor float64 ){_bge :=_cga .Width /_cga .ViewBox .W ;_cdf :=_cga .Height /_cga .ViewBox .H ;_cga .setDefaultScaling (_b .Max (_bge ,_cdf ));for _ ,_fcf :=range _cga .Children {_fcf .SetScaling (xFactor ,yFactor );
};};func (_edcf *Command )compare (_ece *Command )bool {if _edcf .Symbol !=_ece .Symbol {return false ;};for _acb ,_cbc :=range _edcf .Params {if _cbc !=_ece .Params [_acb ]{return false ;};};return true ;};func _cgf (_cgge string )([]float64 ,error ){_fafg :=-1;
var _fcc []float64 ;_dgbd :=' ';for _bae ,_bgfc :=range _cgge {if !_d .IsNumber (_bgfc )&&_bgfc !='.'&&!(_bgfc =='-'&&_dgbd =='e')&&_bgfc !='e'{if _fafg !=-1{_geee ,_dedd :=_gaf (_cgge [_fafg :_bae ]);if _dedd !=nil {return _fcc ,_dedd ;};_fcc =append (_fcc ,_geee ...);
};if _bgfc =='-'{_fafg =_bae ;}else {_fafg =-1;};}else if _fafg ==-1{_fafg =_bae ;};_dgbd =_bgfc ;};if _fafg !=-1&&_fafg !=len (_cgge ){_cbb ,_gfde :=_gaf (_cgge [_fafg :]);if _gfde !=nil {return _fcc ,_gfde ;};_fcc =append (_fcc ,_cbb ...);};return _fcc ,nil ;
};func _gaa (_eae *GraphicSVG ,_bag *_eb .ContentCreator ){_bag .Add_q ();_eae .Style .toContentStream (_bag );_bfe ,_dad :=_cgf (_eae .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);if _dad !=nil {_cf .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_dad );
return ;};if len (_bfe )%2> 0{_cf .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _ecd :=0;_ecd < len (_bfe );{if _ecd ==0{_bag .Add_m (_bfe [_ecd ]*_eae ._fge ,_bfe [_ecd +1]*_eae ._fge );}else {_bag .Add_l (_bfe [_ecd ]*_eae ._fge ,_bfe [_ecd +1]*_eae ._fge );};_ecd +=2;};if _eae .Style .FillColor !=""&&_eae .Style .StrokeColor !=""{_bag .Add_B ();
}else if _eae .Style .FillColor !=""{_bag .Add_f ();}else if _eae .Style .StrokeColor !=""{_bag .Add_S ();};_bag .Add_h ();_bag .Add_Q ();};func (_cdca pathParserError )Error ()string {return _cdca ._dbge };func (_dce *GraphicSVG )toContentStream (_aa *_eb .ContentCreator ){_dbf ,_cee :=_cgc (_dce .Attributes ,_dce ._fge );
if _cee !=nil {_cf .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0073\u0074\u0079\u006c\u0065\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_cee );};_dce .Style =_dbf ;switch _dce .Name {case "\u0070\u0061\u0074\u0068":_ge (_dce ,_aa );
for _ ,_dfec :=range _dce .Children {_dfec .toContentStream (_aa );};case "\u0072\u0065\u0063\u0074":_fda (_dce ,_aa );for _ ,_gcg :=range _dce .Children {_gcg .toContentStream (_aa );};case "\u0063\u0069\u0072\u0063\u006c\u0065":_eca (_dce ,_aa );for _ ,_ggaa :=range _dce .Children {_ggaa .toContentStream (_aa );
};case "\u0065l\u006c\u0069\u0070\u0073\u0065":_eafg (_dce ,_aa );for _ ,_dab :=range _dce .Children {_dab .toContentStream (_aa );};case "\u0070\u006f\u006c\u0079\u006c\u0069\u006e\u0065":_gaa (_dce ,_aa );for _ ,_fdf :=range _dce .Children {_fdf .toContentStream (_aa );
};case "\u0070o\u006c\u0079\u0067\u006f\u006e":_defc (_dce ,_aa );for _ ,_ged :=range _dce .Children {_ged .toContentStream (_aa );};case "\u006c\u0069\u006e\u0065":_eaef (_dce ,_aa );for _ ,_ecaf :=range _dce .Children {_ecaf .toContentStream (_aa );};
case "\u0067":_cfff ,_eaab :=_dce .Attributes ["\u0066\u0069\u006c\u006c"];_geda ,_be :=_dce .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];_ddfc ,_age :=_dce .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];for _ ,_ac :=range _dce .Children {if _ ,_ced :=_ac .Attributes ["\u0066\u0069\u006c\u006c"];
!_ced &&_eaab {_ac .Attributes ["\u0066\u0069\u006c\u006c"]=_cfff ;};if _ ,_dbg :=_ac .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];!_dbg &&_be {_ac .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"]=_geda ;};if _ ,_adfc :=_ac .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];
!_adfc &&_age {_ac .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"]=_ddfc ;};_ac .toContentStream (_aa );};};};func _beb ()commands {var _dga =map[string ]int {"\u006d":2,"\u007a":0,"\u006c":2,"\u0068":1,"\u0076":1,"\u0063":6,"\u0073":4,"\u0071":4,"\u0074":2,"\u0061":7};
var _cbab []string ;for _dcf :=range _dga {_cbab =append (_cbab ,_dcf );};return commands {_cbab ,_dga ,"\u006d","\u007a"};};func _afd (_dgf _ca .StartElement )*GraphicSVG {_cdb :=&GraphicSVG {};_cdaf :=make (map[string ]string );for _ ,_gagf :=range _dgf .Attr {_cdaf [_gagf .Name .Local ]=_gagf .Value ;
};_cdb .Name =_dgf .Name .Local ;_cdb .Attributes =_cdaf ;_cdb ._fge =1;if _cdb .Name =="\u0073\u0076\u0067"{_ebaf ,_gdb :=_cgf (_cdaf ["\u0076i\u0065\u0077\u0042\u006f\u0078"]);if _gdb !=nil {_cf .Log .Debug ("\u0055\u006ea\u0062\u006c\u0065\u0020t\u006f\u0020p\u0061\u0072\u0073\u0065\u0020\u0076\u0069\u0065w\u0042\u006f\u0078\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074e\u003a\u0020\u0025\u0076",_gdb );
return nil ;};_cdb .ViewBox .X =_ebaf [0];_cdb .ViewBox .Y =_ebaf [1];_cdb .ViewBox .W =_ebaf [2];_cdb .ViewBox .H =_ebaf [3];_cdb .Width =_cdb .ViewBox .W ;_cdb .Height =_cdb .ViewBox .H ;if _fgf ,_cca :=_cdaf ["\u0077\u0069\u0064t\u0068"];_cca {_cdc ,_bad :=_bef (_fgf ,64);
if _bad !=nil {_cf .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0077\u0069\u0064\u0074\u0068\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_bad );return nil ;};_cdb .Width =_cdc ;
};if _eafa ,_fdg :=_cdaf ["\u0068\u0065\u0069\u0067\u0068\u0074"];_fdg {_fgeg ,_cba :=_bef (_eafa ,64);if _cba !=nil {_cf .Log .Debug ("\u0055\u006eab\u006c\u0065\u0020t\u006f\u0020\u0070\u0061rse\u0020he\u0069\u0067\u0068\u0074\u0020\u0061\u0074tr\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_cba );
return nil ;};_cdb .Height =_fgeg ;};if _cdb .Width > 0&&_cdb .Height > 0{_cdb ._fge =_cdb .Width /_cdb .ViewBox .W ;};};return _cdb ;};func (_gbe *Command )isAbsolute ()bool {return _gbe .Symbol ==_cb .ToUpper (_gbe .Symbol )};func _ddc ()*GraphicSVGStyle {return &GraphicSVGStyle {FillColor :"\u00230\u0030\u0030\u0030\u0030\u0030",StrokeColor :"",StrokeWidth :0};
};func (_cbdd *Path )compare (_edg *Path )bool {if len (_cbdd .Subpaths )!=len (_edg .Subpaths ){return false ;};for _dac ,_cec :=range _cbdd .Subpaths {if !_cec .compare (_edg .Subpaths [_dac ]){return false ;};};return true ;};func _aaf (_ceee float64 ,_acd int )float64 {_abaf :=_b .Pow (10,float64 (_acd ));
return float64 (_bcc (_ceee *_abaf ))/_abaf ;};func _aad (_bcf string )(_deda ,_abb ,_gadf float64 ){if (len (_bcf )!=4&&len (_bcf )!=7)||_bcf [0]!='#'{_cf .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_bcf );
return _deda ,_abb ,_gadf ;};var _cad ,_beg ,_fgb int ;if len (_bcf )==4{var _bdce ,_dgd ,_bbfa int ;_adde ,_bdcf :=_a .Sscanf (_bcf ,"\u0023\u0025\u0031\u0078\u0025\u0031\u0078\u0025\u0031\u0078",&_bdce ,&_dgd ,&_bbfa );if _bdcf !=nil {_cf .Log .Debug ("\u0049\u006e\u0076a\u006c\u0069\u0064\u0020h\u0065\u0078\u0020\u0063\u006f\u0064\u0065:\u0020\u0025\u0073\u002c\u0020\u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_bcf ,_bdcf );
return _deda ,_abb ,_gadf ;};if _adde !=3{_cf .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_bcf );return _deda ,_abb ,_gadf ;};_cad =_bdce *16+_bdce ;_beg =_dgd *16+_dgd ;_fgb =_bbfa *16+_bbfa ;
}else {_cdab ,_dge :=_a .Sscanf (_bcf ,"\u0023\u0025\u0032\u0078\u0025\u0032\u0078\u0025\u0032\u0078",&_cad ,&_beg ,&_fgb );if _dge !=nil {_cf .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_bcf );
return _deda ,_abb ,_gadf ;};if _cdab !=3{_cf .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069d\u0020\u0068\u0065\u0078\u0020\u0063\u006f\u0064\u0065\u003a\u0020\u0025\u0073,\u0020\u006e\u0020\u0021\u003d\u0020\u0033 \u0028\u0025\u0064\u0029",_bcf ,_cdab );
return _deda ,_abb ,_gadf ;};};_aeb :=float64 (_cad )/255.0;_ceeg :=float64 (_beg )/255.0;_ddbf :=float64 (_fgb )/255.0;return _aeb ,_ceeg ,_ddbf ;};type token struct{_aac string ;_adfg bool ;};func _cgc (_ee map[string ]string ,_bgf float64 )(*GraphicSVGStyle ,error ){_fae :=_ddc ();
_bfb ,_addf :=_ee ["\u0066\u0069\u006c\u006c"];if _addf {_fae .FillColor =_bfb ;if _bfb =="\u006e\u006f\u006e\u0065"{_fae .FillColor ="";};};_ddfb ,_gbg :=_ee ["\u0073\u0074\u0072\u006f\u006b\u0065"];if _gbg {_fae .StrokeColor =_ddfb ;if _ddfb =="\u006e\u006f\u006e\u0065"{_fae .StrokeColor ="";
};};_gfb ,_dead :=_ee ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];if _dead {_afa ,_adgd :=_bef (_gfb ,64);if _adgd !=nil {return nil ,_adgd ;};_fae .StrokeWidth =_afa *_bgf ;};return _fae ,nil ;};type Path struct{Subpaths []*Subpath ;
};func _bcc (_egf float64 )int {return int (_egf +_b .Copysign (0.5,_egf ))};func _gaf (_ccae string )(_aga []float64 ,_deed error ){var _ecb float64 ;_eff :=0;_bcee :=true ;for _dcef ,_caaf :=range _ccae {if _caaf =='.'{if _bcee {_bcee =false ;continue ;
};_ecb ,_deed =_bef (_ccae [_eff :_dcef ],64);if _deed !=nil {return ;};_aga =append (_aga ,_ecb );_eff =_dcef ;};};_ecb ,_deed =_bef (_ccae [_eff :],64);if _deed !=nil {return ;};_aga =append (_aga ,_ecb );return ;};func _dfb (_cbaa []token ,_aedg string )([]token ,string ){if _aedg !=""{_cbaa =append (_cbaa ,token {_aedg ,false });
_aedg ="";};return _cbaa ,_aedg ;};func (_fga *GraphicSVG )ToContentCreator (cc *_eb .ContentCreator ,scaleX ,scaleY ,translateX ,translateY float64 )*_eb .ContentCreator {if _fga .Name =="\u0073\u0076\u0067"{_fga .SetScaling (scaleX ,scaleY );cc .Add_cm (1,0,0,1,translateX ,translateY );
_fga .setDefaultScaling (_fga ._fge );cc .Add_q ();_egdg :=_b .Max (scaleX ,scaleY );cc .Add_re (_fga .ViewBox .X *_egdg ,_fga .ViewBox .Y *_egdg ,_fga .ViewBox .W *_egdg ,_fga .ViewBox .H *_egdg );cc .Add_W ();cc .Add_n ();for _ ,_bfeb :=range _fga .Children {_bfeb .ViewBox =_fga .ViewBox ;
_bfeb .toContentStream (cc );};cc .Add_Q ();return cc ;};return nil ;};func ParseFromFile (path string )(*GraphicSVG ,error ){_aec ,_dcc :=_e .Open (path );if _dcc !=nil {return nil ,_dcc ;};defer _aec .Close ();return ParseFromStream (_aec );};func _defc (_af *GraphicSVG ,_cfd *_eb .ContentCreator ){_cfd .Add_q ();
_af .Style .toContentStream (_cfd );_edc ,_egd :=_cgf (_af .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);if _egd !=nil {_cf .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_egd );
return ;};if len (_edc )%2> 0{_cf .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _abc :=0;_abc < len (_edc );{if _abc ==0{_cfd .Add_m (_edc [_abc ]*_af ._fge ,_edc [_abc +1]*_af ._fge );}else {_cfd .Add_l (_edc [_abc ]*_af ._fge ,_edc [_abc +1]*_af ._fge );};_abc +=2;};_cfd .Add_l (_edc [0]*_af ._fge ,_edc [1]*_af ._fge );if _af .Style .FillColor !=""&&_af .Style .StrokeColor !=""{_cfd .Add_B ();
}else if _af .Style .FillColor !=""{_cfd .Add_f ();}else if _af .Style .StrokeColor !=""{_cfd .Add_S ();};_cfd .Add_h ();_cfd .Add_Q ();};func _ge (_gga *GraphicSVG ,_cff *_eb .ContentCreator ){_cff .Add_q ();_gga .Style .toContentStream (_cff );_ec ,_cbf :=_aeg (_gga .Attributes ["\u0064"]);
if _cbf !=nil {_cf .Log .Error ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025s",_cbf .Error ());};var (_ad ,_ce =0.0,0.0;_cg ,_eba =0.0,0.0;_de *Command ;);for _ ,_ebg :=range _ec .Subpaths {for _ ,_cc :=range _ebg .Commands {switch _cb .ToLower (_cc .Symbol ){case "\u006d":_cg ,_eba =_cc .Params [0]*_gga ._fge ,_cc .Params [1]*_gga ._fge ;
if !_cc .isAbsolute (){_cg ,_eba =_ad +_cg -_gga .ViewBox .X ,_ce +_eba -_gga .ViewBox .Y ;};_cff .Add_m (_aaf (_cg ,3),_aaf (_eba ,3));_ad ,_ce =_cg ,_eba ;case "\u0063":_fbd ,_fe ,_fa ,_gd ,_ebgc ,_bg :=_cc .Params [0]*_gga ._fge ,_cc .Params [1]*_gga ._fge ,_cc .Params [2]*_gga ._fge ,_cc .Params [3]*_gga ._fge ,_cc .Params [4]*_gga ._fge ,_cc .Params [5]*_gga ._fge ;
if !_cc .isAbsolute (){_fbd ,_fe ,_fa ,_gd ,_ebgc ,_bg =_ad +_fbd ,_ce +_fe ,_ad +_fa ,_ce +_gd ,_ad +_ebgc ,_ce +_bg ;};_cff .Add_c (_aaf (_fbd ,3),_aaf (_fe ,3),_aaf (_fa ,3),_aaf (_gd ,3),_aaf (_ebgc ,3),_aaf (_bg ,3));_ad ,_ce =_ebgc ,_bg ;case "\u0073":_ecc ,_fec ,_ff ,_faa :=_cc .Params [0]*_gga ._fge ,_cc .Params [1]*_gga ._fge ,_cc .Params [2]*_gga ._fge ,_cc .Params [3]*_gga ._fge ;
if !_cc .isAbsolute (){_ecc ,_fec ,_ff ,_faa =_ad +_ecc ,_ce +_fec ,_ad +_ff ,_ce +_faa ;};_cff .Add_c (_aaf (_ad ,3),_aaf (_ce ,3),_aaf (_ecc ,3),_aaf (_fec ,3),_aaf (_ff ,3),_aaf (_faa ,3));_ad ,_ce =_ff ,_faa ;case "\u006c":_fg ,_deb :=_cc .Params [0]*_gga ._fge ,_cc .Params [1]*_gga ._fge ;
if !_cc .isAbsolute (){_fg ,_deb =_ad +_fg ,_ce +_deb ;};_cff .Add_l (_aaf (_fg ,3),_aaf (_deb ,3));_ad ,_ce =_fg ,_deb ;case "\u0068":_gcf :=_cc .Params [0]*_gga ._fge ;if !_cc .isAbsolute (){_gcf =_ad +_gcf ;};_cff .Add_l (_aaf (_gcf ,3),_aaf (_ce ,3));
_ad =_gcf ;case "\u0076":_ba :=_cc .Params [0]*_gga ._fge ;if !_cc .isAbsolute (){_ba =_ce +_ba ;};_cff .Add_l (_aaf (_ad ,3),_aaf (_ba ,3));_ce =_ba ;case "\u0071":_gfc ,_db ,_ebd ,_gcd :=_cc .Params [0]*_gga ._fge ,_cc .Params [1]*_gga ._fge ,_cc .Params [2]*_gga ._fge ,_cc .Params [3]*_gga ._fge ;
if !_cc .isAbsolute (){_gfc ,_db ,_ebd ,_gcd =_ad +_gfc ,_ce +_db ,_ad +_ebd ,_ce +_gcd ;};_fc ,_cbd :=_dde .QuadraticToCubicBezier (_ad ,_ce ,_gfc ,_db ,_ebd ,_gcd );_cff .Add_c (_aaf (_fc .X ,3),_aaf (_fc .Y ,3),_aaf (_cbd .X ,3),_aaf (_cbd .Y ,3),_aaf (_ebd ,3),_aaf (_gcd ,3));
_ad ,_ce =_ebd ,_gcd ;case "\u0074":var _fd ,_bgg _dde .Point ;_bd ,_ga :=_cc .Params [0]*_gga ._fge ,_cc .Params [1]*_gga ._fge ;if !_cc .isAbsolute (){_bd ,_ga =_ad +_bd ,_ce +_ga ;};if _de !=nil &&_cb .ToLower (_de .Symbol )=="\u0071"{_adg :=_dde .Point {X :_de .Params [0]*_gga ._fge ,Y :_de .Params [1]*_gga ._fge };
_ddf :=_dde .Point {X :_de .Params [2]*_gga ._fge ,Y :_de .Params [3]*_gga ._fge };_fag :=_ddf .Mul (2.0).Sub (_adg );_fd ,_bgg =_dde .QuadraticToCubicBezier (_ad ,_ce ,_fag .X ,_fag .Y ,_bd ,_ga );};_cff .Add_c (_aaf (_fd .X ,3),_aaf (_fd .Y ,3),_aaf (_bgg .X ,3),_aaf (_bgg .Y ,3),_aaf (_bd ,3),_aaf (_ga ,3));
_ad ,_ce =_bd ,_ga ;case "\u0061":_ffe ,_efd :=_cc .Params [0]*_gga ._fge ,_cc .Params [1]*_gga ._fge ;_ag :=_cc .Params [2];_ddfg :=_cc .Params [3]> 0;_adf :=_cc .Params [4]> 0;_ab ,_gfd :=_cc .Params [5]*_gga ._fge ,_cc .Params [6]*_gga ._fge ;if !_cc .isAbsolute (){_ab ,_gfd =_ad +_ab ,_ce +_gfd ;
};_ceb :=_dde .EllipseToCubicBeziers (_ad ,_ce ,_ffe ,_efd ,_ag ,_ddfg ,_adf ,_ab ,_gfd );for _ ,_bgb :=range _ceb {_cff .Add_c (_aaf (_bgb [1].X ,3),_aaf ((_bgb [1].Y ),3),_aaf ((_bgb [2].X ),3),_aaf ((_bgb [2].Y ),3),_aaf ((_bgb [3].X ),3),_aaf ((_bgb [3].Y ),3));
};_ad ,_ce =_ab ,_gfd ;case "\u007a":_cff .Add_h ();};_de =_cc ;};};if _gga .Style .FillColor !=""&&_gga .Style .StrokeColor !=""{_cff .Add_B ();}else if _gga .Style .FillColor !=""{_cff .Add_f ();}else if _gga .Style .StrokeColor !=""{_cff .Add_S ();};
_cff .Add_h ();_cff .Add_Q ();};type GraphicSVG struct{ViewBox struct{X ,Y ,W ,H float64 ;};Name string ;Attributes map[string ]string ;Children []*GraphicSVG ;Content string ;Style *GraphicSVGStyle ;Width float64 ;Height float64 ;_fge float64 ;};func _fda (_ea *GraphicSVG ,_def *_eb .ContentCreator ){_def .Add_q ();
_ea .Style .toContentStream (_def );_gag ,_fcd :=_bef (_ea .Attributes ["\u0078"],64);if _fcd !=nil {_cf .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0078\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_fcd .Error ());
};_gff ,_fcd :=_bef (_ea .Attributes ["\u0079"],64);if _fcd !=nil {_cf .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0079\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_fcd .Error ());
};_eaa ,_fcd :=_bef (_ea .Attributes ["\u0077\u0069\u0064t\u0068"],64);if _fcd !=nil {_cf .Log .Debug ("\u0045\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0077\u0069\u0064\u0074\u0068\u0020v\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_fcd .Error ());
};_ddg ,_fcd :=_bef (_ea .Attributes ["\u0068\u0065\u0069\u0067\u0068\u0074"],64);if _fcd !=nil {_cf .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077h\u0069\u006c\u0065 \u0070\u0061\u0072\u0073i\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0068\u0065\u0069\u0067\u0068\u0074\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_fcd .Error ());
};_def .Add_re (_gag *_ea ._fge ,_gff *_ea ._fge ,_eaa *_ea ._fge ,_ddg *_ea ._fge );if _ea .Style .FillColor !=""&&_ea .Style .StrokeColor !=""{_def .Add_B ();}else if _ea .Style .FillColor !=""{_def .Add_f ();}else if _ea .Style .StrokeColor !=""{_def .Add_S ();
};_def .Add_Q ();};type Command struct{Symbol string ;Params []float64 ;};type GraphicSVGStyle struct{FillColor string ;StrokeColor string ;StrokeWidth float64 ;};const (_gg =0.72;_ggb =28.3464;_da =_ggb /10;_bf =0.551784;);func _eafg (_ega *GraphicSVG ,_eaag *_eb .ContentCreator ){_eaag .Add_q ();
_ega .Style .toContentStream (_eaag );_cfc ,_ffd :=_bef (_ega .Attributes ["\u0063\u0078"],64);if _ffd !=nil {_cf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_ffd .Error ());
};_ebf ,_ffd :=_bef (_ega .Attributes ["\u0063\u0079"],64);if _ffd !=nil {_cf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_ffd .Error ());
};_dbe ,_ffd :=_bef (_ega .Attributes ["\u0072\u0078"],64);if _ffd !=nil {_cf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_ffd .Error ());
};_efa ,_ffd :=_bef (_ega .Attributes ["\u0072\u0079"],64);if _ffd !=nil {_cf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_ffd .Error ());
};_fde :=_dbe *_ega ._fge ;_gcc :=_efa *_ega ._fge ;_gea :=_cfc *_ega ._fge ;_edf :=_ebf *_ega ._fge ;_baa :=_fde *_bf ;_deg :=_gcc *_bf ;_agb :=_gc .NewCubicBezierPath ();_agb =_agb .AppendCurve (_gc .NewCubicBezierCurve (-_fde ,0,-_fde ,_deg ,-_baa ,_gcc ,0,_gcc ));
_agb =_agb .AppendCurve (_gc .NewCubicBezierCurve (0,_gcc ,_baa ,_gcc ,_fde ,_deg ,_fde ,0));_agb =_agb .AppendCurve (_gc .NewCubicBezierCurve (_fde ,0,_fde ,-_deg ,_baa ,-_gcc ,0,-_gcc ));_agb =_agb .AppendCurve (_gc .NewCubicBezierCurve (0,-_gcc ,-_baa ,-_gcc ,-_fde ,-_deg ,-_fde ,0));
_agb =_agb .Offset (_gea ,_edf );if _ega .Style .StrokeWidth > 0{_agb =_agb .Offset (_ega .Style .StrokeWidth /2,_ega .Style .StrokeWidth /2);};_gc .DrawBezierPathWithCreator (_agb ,_eaag );if _ega .Style .FillColor !=""&&_ega .Style .StrokeColor !=""{_eaag .Add_B ();
}else if _ega .Style .FillColor !=""{_eaag .Add_f ();}else if _ega .Style .StrokeColor !=""{_eaag .Add_S ();};_eaag .Add_h ();_eaag .Add_Q ();};var (_gf =[]string {"\u0063\u006d","\u006d\u006d","\u0070\u0078","\u0070\u0074"};_fb =map[string ]float64 {"\u0063\u006d":_ggb ,"\u006d\u006d":_da ,"\u0070\u0078":_gg ,"\u0070\u0074":1};
);func _dgfg (_geg []token )([]*Command ,error ){var (_cef []*Command ;_fagd []float64 ;);for _dgb :=len (_geg )-1;_dgb >=0;_dgb --{_gcb :=_geg [_dgb ];if _gcb ._adfg {_ceg :=_ede ._gfce [_cb .ToLower (_gcb ._aac )];_bce :=len (_fagd );if _ceg ==0&&_bce ==0{_faga :=&Command {Symbol :_gcb ._aac };
_cef =append ([]*Command {_faga },_cef ...);}else if _ceg !=0&&_bce %_ceg ==0{_bcg :=_bce /_ceg ;for _bdfc :=0;_bdfc < _bcg ;_bdfc ++{_gad :=_gcb ._aac ;if _gad =="\u006d"&&_bdfc < _bcg -1{_gad ="\u006c";};if _gad =="\u004d"&&_bdfc < _bcg -1{_gad ="\u004c";
};_gfe :=&Command {_gad ,_efb (_fagd [:_ceg ])};_cef =append ([]*Command {_gfe },_cef ...);_fagd =_fagd [_ceg :];};}else {_bbf :=pathParserError {"I\u006e\u0063\u006f\u0072\u0072\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072\u0020\u006f\u0066\u0020\u0070\u0061r\u0061\u006d\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006fr\u0020"+_gcb ._aac };
return nil ,_bbf ;};}else {_gec ,_gfff :=_bef (_gcb ._aac ,64);if _gfff !=nil {return nil ,_gfff ;};_fagd =append (_fagd ,_gec );};};return _cef ,nil ;};func _bga (_cabb string )(_dddg ,_gbgf string ){if _cabb ==""||(_cabb [len (_cabb )-1]>='0'&&_cabb [len (_cabb )-1]<='9'){return _cabb ,"";
};_dddg =_cabb ;for _ ,_bba :=range _gf {if _cb .Contains (_dddg ,_bba ){_gbgf =_bba ;};_dddg =_cb .TrimSuffix (_dddg ,_bba );};return ;};func (_dfd *GraphicSVG )setDefaultScaling (_bdf float64 ){_dfd ._fge =_bdf ;if _dfd .Style !=nil &&_dfd .Style .StrokeWidth > 0{_dfd .Style .StrokeWidth =_dfd .Style .StrokeWidth *_dfd ._fge ;
};for _ ,_eab :=range _dfd .Children {_eab .setDefaultScaling (_bdf );};};func (_egg *GraphicSVG )Decode (decoder *_ca .Decoder )error {for {_df ,_faaf :=decoder .Token ();if _df ==nil &&_faaf ==_f .EOF {break ;};if _faaf !=nil {return _faaf ;};switch _ddd :=_df .(type ){case _ca .StartElement :_ccd :=_afd (_ddd );
_add :=_ccd .Decode (decoder );if _add !=nil {return _add ;};_egg .Children =append (_egg .Children ,_ccd );case _ca .CharData :_gdd :=_cb .TrimSpace (string (_ddd ));if _gdd !=""{_egg .Content =string (_ddd );};case _ca .EndElement :if _ddd .Name .Local ==_egg .Name {return nil ;
};};};return nil ;};func (_bgbe *Subpath )compare (_fdff *Subpath )bool {if len (_bgbe .Commands )!=len (_fdff .Commands ){return false ;};for _bc ,_adgf :=range _bgbe .Commands {if !_adgf .compare (_fdff .Commands [_bc ]){return false ;};};return true ;
};func _efb (_gcda []float64 )[]float64 {for _ded ,_eacb :=0,len (_gcda )-1;_ded < _eacb ;_ded ,_eacb =_ded +1,_eacb -1{_gcda [_ded ],_gcda [_eacb ]=_gcda [_eacb ],_gcda [_ded ];};return _gcda ;};func ParseFromString (svgStr string )(*GraphicSVG ,error ){return ParseFromStream (_cb .NewReader (svgStr ));
};func (_bea *GraphicSVGStyle )toContentStream (_fdgf *_eb .ContentCreator ){if _bea ==nil {return ;};if _bea .FillColor !=""{var _fgea ,_dgfa ,_bb float64 ;if _dfc ,_gb :=_dde .ColorMap [_bea .FillColor ];_gb {_fed ,_adfd ,_agg ,_ :=_dfc .RGBA ();_fgea ,_dgfa ,_bb =float64 (_fed ),float64 (_adfd ),float64 (_agg );
}else {_fgea ,_dgfa ,_bb =_aad (_bea .FillColor );};_fdgf .Add_rg (_fgea ,_dgfa ,_bb );};if _bea .StrokeColor !=""{var _cde ,_gde ,_edb float64 ;if _ccc ,_efaa :=_dde .ColorMap [_bea .StrokeColor ];_efaa {_eag ,_baag ,_ceeb ,_ :=_ccc .RGBA ();_cde ,_gde ,_edb =float64 (_eag )/255.0,float64 (_baag )/255.0,float64 (_ceeb )/255.0;
}else {_cde ,_gde ,_edb =_aad (_bea .StrokeColor );};_fdgf .Add_RG (_cde ,_gde ,_edb );};if _bea .StrokeWidth > 0{_fdgf .Add_w (_bea .StrokeWidth );};};type commands struct{_eac []string ;_gfce map[string ]int ;_gcfa string ;_gge string ;};func ParseFromStream (source _f .Reader )(*GraphicSVG ,error ){_dcd :=_ca .NewDecoder (source );
_dcd .CharsetReader =_dd .NewReaderLabel ;_afcb ,_bfeg :=_eagd (_dcd );if _bfeg !=nil {return nil ,_bfeg ;};if _ggd :=_afcb .Decode (_dcd );_ggd !=nil &&_ggd !=_f .EOF {return nil ,_ggd ;};return _afcb ,nil ;};func (_dcce *commands )isCommand (_ffb string )bool {for _ ,_cbfg :=range _dcce ._eac {if _cb .ToLower (_ffb )==_cbfg {return true ;
};};return false ;};func _aeg (_adfa string )(*Path ,error ){_ede =_beb ();_afe ,_dff :=_dgfg (_abg (_adfa ));if _dff !=nil {return nil ,_dff ;};return _aea (_afe ),nil ;};func _bef (_adb string ,_cege int )(float64 ,error ){_ecdf ,_dec :=_bga (_adb );
_gdf ,_gbb :=_g .ParseFloat (_ecdf ,_cege );if _gbb !=nil {return 0,_gbb ;};if _bada ,_geea :=_fb [_dec ];_geea {_gdf =_gdf *_bada ;}else {_gdf =_gdf *_gg ;};return _gdf ,nil ;};func _abg (_aaa string )[]token {var (_gba []token ;_bfec string ;);for _ ,_ccf :=range _aaa {_gac :=string (_ccf );
switch {case _ede .isCommand (_gac ):_gba ,_bfec =_dfb (_gba ,_bfec );_gba =append (_gba ,token {_gac ,true });case _gac =="\u002e":if _bfec ==""{_bfec ="\u0030";};if _cb .Contains (_bfec ,_gac ){_gba =append (_gba ,token {_bfec ,false });_bfec ="\u0030";
};fallthrough;case _gac >="\u0030"&&_gac <="\u0039"||_gac =="\u0065":_bfec +=_gac ;case _gac =="\u002d":if _cb .HasSuffix (_bfec ,"\u0065"){_bfec +=_gac ;}else {_gba ,_ =_dfb (_gba ,_bfec );_bfec =_gac ;};default:_gba ,_bfec =_dfb (_gba ,_bfec );};};_gba ,_ =_dfb (_gba ,_bfec );
return _gba ;};var _ede commands ;type Subpath struct{Commands []*Command ;};