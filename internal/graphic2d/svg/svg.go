//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package svg ;import (_e "encoding/xml";_a "fmt";_bb "github.com/unidoc/unipdf/v3/common";_eb "github.com/unidoc/unipdf/v3/contentstream";_eg "github.com/unidoc/unipdf/v3/contentstream/draw";_cg "github.com/unidoc/unipdf/v3/core";_cc "github.com/unidoc/unipdf/v3/internal/graphic2d";
_ef "github.com/unidoc/unipdf/v3/model";_gf "golang.org/x/net/html/charset";_d "io";_c "math";_fb "os";_gc "strconv";_g "strings";_b "unicode";);var _fdbc commands ;var (_fe =[]string {"\u0063\u006d","\u006d\u006d","\u0070\u0078","\u0070\u0074"};_ae =map[string ]float64 {"\u0063\u006d":_ba ,"\u006d\u006d":_gde ,"\u0070\u0078":_gd ,"\u0070\u0074":1};
);const (_gd =0.72;_ba =28.3464;_gde =_ba /10;_ee =0.551784;_dc =96;_ege =16.0;_fa float64 =72;);func (_dbfa *GraphicSVG )setDefaultScaling (_fced float64 ){_dbfa ._bfcd =_fced ;if _dbfa .Style !=nil &&_dbfa .Style .StrokeWidth > 0{_dbfa .Style .StrokeWidth =_dbfa .Style .StrokeWidth *_dbfa ._bfcd ;
};for _ ,_deaa :=range _dbfa .Children {_deaa .setDefaultScaling (_fced );};};type Path struct{Subpaths []*Subpath ;};func _aaff (_ffd string )([]float64 ,error ){_beed :=-1;var _aaee []float64 ;_cbe :=' ';for _dbg ,_feb :=range _ffd {if !_b .IsNumber (_feb )&&_feb !='.'&&!(_feb =='-'&&_cbe =='e')&&_feb !='e'{if _beed !=-1{_ggab ,_daag :=_fdcd (_ffd [_beed :_dbg ]);
if _daag !=nil {return _aaee ,_daag ;};_aaee =append (_aaee ,_ggab ...);};if _feb =='-'{_beed =_dbg ;}else {_beed =-1;};}else if _beed ==-1{_beed =_dbg ;};_cbe =_feb ;};if _beed !=-1&&_beed !=len (_ffd ){_cdcc ,_gbe :=_fdcd (_ffd [_beed :]);if _gbe !=nil {return _aaee ,_gbe ;
};_aaee =append (_aaee ,_cdcc ...);};return _aaee ,nil ;};type commands struct{_acg []string ;_fcbc map[string ]int ;_fab string ;_fgd string ;};type GraphicSVG struct{ViewBox struct{X ,Y ,W ,H float64 ;};Name string ;Attributes map[string ]string ;Children []*GraphicSVG ;
Content string ;Style *GraphicSVGStyle ;Width float64 ;Height float64 ;_bfcd float64 ;};func (_ebae *GraphicSVGStyle )fillStroke (_cdc *_eb .ContentCreator ){if _ebae .FillColor !=""&&_ebae .StrokeColor !=""{_cdc .Add_B ();}else if _ebae .FillColor !=""{_cdc .Add_f ();
}else if _ebae .StrokeColor !=""{_cdc .Add_S ();};};func _cgea (_dcca float64 )int {return int (_dcca +_c .Copysign (0.5,_dcca ))};type pathParserError struct{_dbbe string };func (_dcbd *GraphicSVG )Decode (decoder *_e .Decoder )error {for {_cfgb ,_fdb :=decoder .Token ();
if _cfgb ==nil &&_fdb ==_d .EOF {break ;};if _fdb !=nil {return _fdb ;};switch _dgg :=_cfgb .(type ){case _e .StartElement :_deeb :=_abg (_dgg );_fbb :=_deeb .Decode (decoder );if _fbb !=nil {return _fbb ;};_dcbd .Children =append (_dcbd .Children ,_deeb );
case _e .CharData :_ddd :=_g .TrimSpace (string (_dgg ));if _ddd !=""{_dcbd .Content =string (_dgg );};case _e .EndElement :if _dgg .Name .Local ==_dcbd .Name {return nil ;};};};return nil ;};func _bab (_dccc string )(float64 ,float64 ,float64 ){_gbb :=_g .TrimPrefix (_dccc ,"\u0072\u0067\u0062\u0028");
_gbb =_g .TrimSuffix (_gbb ,"\u0029");_feaa :=_g .Split (_gbb ,"\u002c");if len (_feaa )!=3{_bb .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u0072\u0067\u0062\u0020\u0063\u006fl\u006f\u0072\u0020\u0073\u0070\u0065\u0063i\u0066\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u003a\u0020%\u0073",_dccc );
return 0,0,0;};var _ecd ,_baff ,_gggb float64 ;_ecd ,_gaeg :=_dad (_feaa [0]);if _gaeg !=nil {_bb .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u0072\u0067\u0062\u0020\u0063\u006fl\u006f\u0072\u0020\u0073\u0070\u0065\u0063i\u0066\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u003a\u0020%\u0073",_dccc );
return 0,0,0;};_baff ,_gaeg =_dad (_feaa [1]);if _gaeg !=nil {_bb .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u0072\u0067\u0062\u0020\u0063\u006fl\u006f\u0072\u0020\u0073\u0070\u0065\u0063i\u0066\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u003a\u0020%\u0073",_dccc );
return 0,0,0;};_gggb ,_gaeg =_dad (_feaa [2]);if _gaeg !=nil {_bb .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u0072\u0067\u0062\u0020\u0063\u006fl\u006f\u0072\u0020\u0073\u0070\u0065\u0063i\u0066\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u003a\u0020%\u0073",_dccc );
return 0,0,0;};_dfcb :=_ecd /255.0;_afg :=_baff /255.0;_bddb :=_gggb /255.0;return _dfcb ,_afg ,_bddb ;};func _gfdc (_dcb *GraphicSVG ,_dee *_eb .ContentCreator ,_dgb *_ef .PdfPageResources ){_dee .Add_q ();_dcb .Style .toContentStream (_dee ,_dgb );_cfg ,_ceb :=_aaff (_dcb .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);
if _ceb !=nil {_bb .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_ceb );
return ;};if len (_cfg )%2> 0{_bb .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _dfa :=0;_dfa < len (_cfg );{if _dfa ==0{_dee .Add_m (_cfg [_dfa ]*_dcb ._bfcd ,_cfg [_dfa +1]*_dcb ._bfcd );}else {_dee .Add_l (_cfg [_dfa ]*_dcb ._bfcd ,_cfg [_dfa +1]*_dcb ._bfcd );};_dfa +=2;};_dee .Add_l (_cfg [0]*_dcb ._bfcd ,_cfg [1]*_dcb ._bfcd );
_dcb .Style .fillStroke (_dee );_dee .Add_h ();_dee .Add_Q ();};func (_aec *GraphicSVG )toContentStream (_bge *_eb .ContentCreator ,_cbc *_ef .PdfPageResources ){_baab ,_gcfc :=_dacd (_aec .Attributes ,_aec ._bfcd );if _gcfc !=nil {_bb .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0073\u0074\u0079\u006c\u0065\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_gcfc );
};_aec .Style =_baab ;switch _aec .Name {case "\u0070\u0061\u0074\u0068":_ad (_aec ,_bge ,_cbc );for _ ,_gggc :=range _aec .Children {_gggc .toContentStream (_bge ,_cbc );};case "\u0072\u0065\u0063\u0074":_cb (_aec ,_bge ,_cbc );for _ ,_cgf :=range _aec .Children {_cgf .toContentStream (_bge ,_cbc );
};case "\u0063\u0069\u0072\u0063\u006c\u0065":_ea (_aec ,_bge ,_cbc );for _ ,_baf :=range _aec .Children {_baf .toContentStream (_bge ,_cbc );};case "\u0065l\u006c\u0069\u0070\u0073\u0065":_bf (_aec ,_bge ,_cbc );for _ ,_dgae :=range _aec .Children {_dgae .toContentStream (_bge ,_cbc );
};case "\u0070\u006f\u006c\u0079\u006c\u0069\u006e\u0065":_eaa (_aec ,_bge ,_cbc );for _ ,_ggb :=range _aec .Children {_ggb .toContentStream (_bge ,_cbc );};case "\u0070o\u006c\u0079\u0067\u006f\u006e":_gfdc (_aec ,_bge ,_cbc );for _ ,_ega :=range _aec .Children {_ega .toContentStream (_bge ,_cbc );
};case "\u006c\u0069\u006e\u0065":_eae (_aec ,_bge ,_cbc );for _ ,_cfge :=range _aec .Children {_cfge .toContentStream (_bge ,_cbc );};case "\u0074\u0065\u0078\u0074":_dgc (_aec ,_bge ,_cbc );for _ ,_dca :=range _aec .Children {_dca .toContentStream (_bge ,_cbc );
};case "\u0067":_ebba ,_cdf :=_aec .Attributes ["\u0066\u0069\u006c\u006c"];_cgc ,_eeg :=_aec .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];_gae ,_ggba :=_aec .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];_cede ,_acd :=_aec .Attributes ["\u0074r\u0061\u006e\u0073\u0066\u006f\u0072m"];
for _ ,_fbbc :=range _aec .Children {if _ ,_bcd :=_fbbc .Attributes ["\u0066\u0069\u006c\u006c"];!_bcd &&_cdf {_fbbc .Attributes ["\u0066\u0069\u006c\u006c"]=_ebba ;};if _ ,_aaf :=_fbbc .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];!_aaf &&_eeg {_fbbc .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"]=_cgc ;
};if _ ,_feea :=_fbbc .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];!_feea &&_ggba {_fbbc .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"]=_gae ;};if _ ,_dea :=_fbbc .Attributes ["\u0074r\u0061\u006e\u0073\u0066\u006f\u0072m"];
!_dea &&_acd {_fbbc .Attributes ["\u0074r\u0061\u006e\u0073\u0066\u006f\u0072m"]=_cede ;};_fbbc .toContentStream (_bge ,_cbc );};};};func _badb (_fbe string )(float64 ,error ){_fbe =_g .TrimSpace (_fbe );var _ffeg float64 ;if _g .HasSuffix (_fbe ,"\u0025"){_cbgb ,_ebe :=_gc .ParseFloat (_g .TrimSuffix (_fbe ,"\u0025"),64);
if _ebe !=nil {return 0,_ebe ;};_ffeg =_cbgb /100.0;}else {_ffb ,_bfce :=_gc .ParseFloat (_fbe ,64);if _bfce !=nil {return 0,_bfce ;};_ffeg =_ffb ;};return _ffeg ,nil ;};func _ad (_fee *GraphicSVG ,_fg *_eb .ContentCreator ,_efa *_ef .PdfPageResources ){_fg .Add_q ();
_fee .Style .toContentStream (_fg ,_efa );_dbd (_fee ,_fg );_be ,_gce :=_gcgg (_fee .Attributes ["\u0064"]);if _gce !=nil {_bb .Log .Error ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025s",_gce .Error ());};var (_dcd ,_ebg =0.0,0.0;_da ,_ce =0.0,0.0;_fc *Command ;
);for _ ,_cee :=range _be .Subpaths {for _ ,_ec :=range _cee .Commands {switch _g .ToLower (_ec .Symbol ){case "\u006d":_da ,_ce =_ec .Params [0]*_fee ._bfcd ,_ec .Params [1]*_fee ._bfcd ;if !_ec .isAbsolute (){_da ,_ce =_dcd +_da -_fee .ViewBox .X ,_ebg +_ce -_fee .ViewBox .Y ;
};_fg .Add_m (_fdcc (_da ,3),_fdcc (_ce ,3));_dcd ,_ebg =_da ,_ce ;case "\u0063":_ag ,_ab ,_cd ,_fbf ,_bdd ,_egd :=_ec .Params [0]*_fee ._bfcd ,_ec .Params [1]*_fee ._bfcd ,_ec .Params [2]*_fee ._bfcd ,_ec .Params [3]*_fee ._bfcd ,_ec .Params [4]*_fee ._bfcd ,_ec .Params [5]*_fee ._bfcd ;
if !_ec .isAbsolute (){_ag ,_ab ,_cd ,_fbf ,_bdd ,_egd =_dcd +_ag ,_ebg +_ab ,_dcd +_cd ,_ebg +_fbf ,_dcd +_bdd ,_ebg +_egd ;};_fg .Add_c (_fdcc (_ag ,3),_fdcc (_ab ,3),_fdcc (_cd ,3),_fdcc (_fbf ,3),_fdcc (_bdd ,3),_fdcc (_egd ,3));_dcd ,_ebg =_bdd ,_egd ;
case "\u0073":_dg ,_ac ,_df ,_cf :=_ec .Params [0]*_fee ._bfcd ,_ec .Params [1]*_fee ._bfcd ,_ec .Params [2]*_fee ._bfcd ,_ec .Params [3]*_fee ._bfcd ;if !_ec .isAbsolute (){_dg ,_ac ,_df ,_cf =_dcd +_dg ,_ebg +_ac ,_dcd +_df ,_ebg +_cf ;};_fg .Add_c (_fdcc (_dcd ,3),_fdcc (_ebg ,3),_fdcc (_dg ,3),_fdcc (_ac ,3),_fdcc (_df ,3),_fdcc (_cf ,3));
_dcd ,_ebg =_df ,_cf ;case "\u006c":_fce ,_gcc :=_ec .Params [0]*_fee ._bfcd ,_ec .Params [1]*_fee ._bfcd ;if !_ec .isAbsolute (){_fce ,_gcc =_dcd +_fce ,_ebg +_gcc ;};_fg .Add_l (_fdcc (_fce ,3),_fdcc (_gcc ,3));_dcd ,_ebg =_fce ,_gcc ;case "\u0068":_eec :=_ec .Params [0]*_fee ._bfcd ;
if !_ec .isAbsolute (){_eec =_dcd +_eec ;};_fg .Add_l (_fdcc (_eec ,3),_fdcc (_ebg ,3));_dcd =_eec ;case "\u0076":_aeg :=_ec .Params [0]*_fee ._bfcd ;if !_ec .isAbsolute (){_aeg =_ebg +_aeg ;};_fg .Add_l (_fdcc (_dcd ,3),_fdcc (_aeg ,3));_ebg =_aeg ;case "\u0071":_fga ,_fbg ,_dga ,_af :=_ec .Params [0]*_fee ._bfcd ,_ec .Params [1]*_fee ._bfcd ,_ec .Params [2]*_fee ._bfcd ,_ec .Params [3]*_fee ._bfcd ;
if !_ec .isAbsolute (){_fga ,_fbg ,_dga ,_af =_dcd +_fga ,_ebg +_fbg ,_dcd +_dga ,_ebg +_af ;};_efe ,_baa :=_cc .QuadraticToCubicBezier (_dcd ,_ebg ,_fga ,_fbg ,_dga ,_af );_fg .Add_c (_fdcc (_efe .X ,3),_fdcc (_efe .Y ,3),_fdcc (_baa .X ,3),_fdcc (_baa .Y ,3),_fdcc (_dga ,3),_fdcc (_af ,3));
_dcd ,_ebg =_dga ,_af ;case "\u0074":var _abe ,_db _cc .Point ;_aga ,_cea :=_ec .Params [0]*_fee ._bfcd ,_ec .Params [1]*_fee ._bfcd ;if !_ec .isAbsolute (){_aga ,_cea =_dcd +_aga ,_ebg +_cea ;};if _fc !=nil &&_g .ToLower (_fc .Symbol )=="\u0071"{_gcg :=_cc .Point {X :_fc .Params [0]*_fee ._bfcd ,Y :_fc .Params [1]*_fee ._bfcd };
_acf :=_cc .Point {X :_fc .Params [2]*_fee ._bfcd ,Y :_fc .Params [3]*_fee ._bfcd };_dfd :=_acf .Mul (2.0).Sub (_gcg );_abe ,_db =_cc .QuadraticToCubicBezier (_dcd ,_ebg ,_dfd .X ,_dfd .Y ,_aga ,_cea );};_fg .Add_c (_fdcc (_abe .X ,3),_fdcc (_abe .Y ,3),_fdcc (_db .X ,3),_fdcc (_db .Y ,3),_fdcc (_aga ,3),_fdcc (_cea ,3));
_dcd ,_ebg =_aga ,_cea ;case "\u0061":_bdc ,_bee :=_ec .Params [0]*_fee ._bfcd ,_ec .Params [1]*_fee ._bfcd ;_ccb :=_ec .Params [2];_beb :=_ec .Params [3]> 0;_feec :=_ec .Params [4]> 0;_cdb ,_gfg :=_ec .Params [5]*_fee ._bfcd ,_ec .Params [6]*_fee ._bfcd ;
if !_ec .isAbsolute (){_cdb ,_gfg =_dcd +_cdb ,_ebg +_gfg ;};_bc :=_cc .EllipseToCubicBeziers (_dcd ,_ebg ,_bdc ,_bee ,_ccb ,_beb ,_feec ,_cdb ,_gfg );for _ ,_ca :=range _bc {_fg .Add_c (_fdcc (_ca [1].X ,3),_fdcc ((_ca [1].Y ),3),_fdcc ((_ca [2].X ),3),_fdcc ((_ca [2].Y ),3),_fdcc ((_ca [3].X ),3),_fdcc ((_ca [3].Y ),3));
};_dcd ,_ebg =_cdb ,_gfg ;case "\u007a":_fg .Add_h ();};_fc =_ec ;};};_fee .Style .fillStroke (_fg );_fg .Add_h ();_fg .Add_Q ();};func (_ggc *GraphicSVG )ToContentCreator (cc *_eb .ContentCreator ,res *_ef .PdfPageResources ,scaleX ,scaleY ,translateX ,translateY float64 )*_eb .ContentCreator {if _ggc .Name =="\u0073\u0076\u0067"{_ggc .SetScaling (scaleX ,scaleY );
cc .Add_cm (1,0,0,1,translateX ,translateY );_ggc .setDefaultScaling (_ggc ._bfcd );cc .Add_q ();_gaf :=_c .Max (scaleX ,scaleY );cc .Add_re (_ggc .ViewBox .X *_gaf ,_ggc .ViewBox .Y *_gaf ,_ggc .ViewBox .W *_gaf ,_ggc .ViewBox .H *_gaf );cc .Add_W ();
cc .Add_n ();for _ ,_ageg :=range _ggc .Children {_ageg .ViewBox =_ggc .ViewBox ;_ageg .toContentStream (cc ,res );};cc .Add_Q ();return cc ;};return nil ;};func _bcac ()commands {var _cde =map[string ]int {"\u006d":2,"\u007a":0,"\u006c":2,"\u0068":1,"\u0076":1,"\u0063":6,"\u0073":4,"\u0071":4,"\u0074":2,"\u0061":7};
var _aca []string ;for _gdaa :=range _cde {_aca =append (_aca ,_gdaa );};return commands {_aca ,_cde ,"\u006d","\u007a"};};type GraphicSVGStyle struct{FillColor string ;StrokeColor string ;StrokeWidth float64 ;FillOpacity float64 ;};func _gcf (_bfg string )(*_ef .PdfFont ,error ){_ada ,_dcg :=map[string ]_ef .StdFontName {"\u0063o\u0075\u0072\u0069\u0065\u0072":_ef .CourierName ,"\u0063\u006f\u0075r\u0069\u0065\u0072\u002d\u0062\u006f\u006c\u0064":_ef .CourierBoldName ,"\u0063o\u0075r\u0069\u0065\u0072\u002d\u006f\u0062\u006c\u0069\u0071\u0075\u0065":_ef .CourierObliqueName ,"c\u006fu\u0072\u0069\u0065\u0072\u002d\u0062\u006f\u006cd\u002d\u006f\u0062\u006ciq\u0075\u0065":_ef .CourierBoldObliqueName ,"\u0068e\u006c\u0076\u0065\u0074\u0069\u0063a":_ef .HelveticaName ,"\u0068\u0065\u006c\u0076\u0065\u0074\u0069\u0063\u0061-\u0062\u006f\u006c\u0064":_ef .HelveticaBoldName ,"\u0068\u0065\u006c\u0076\u0065\u0074\u0069\u0063\u0061\u002d\u006f\u0062l\u0069\u0071\u0075\u0065":_ef .HelveticaObliqueName ,"\u0068\u0065\u006c\u0076et\u0069\u0063\u0061\u002d\u0062\u006f\u006c\u0064\u002d\u006f\u0062\u006c\u0069\u0071u\u0065":_ef .HelveticaBoldObliqueName ,"\u0073\u0079\u006d\u0062\u006f\u006c":_ef .SymbolName ,"\u007a\u0061\u0070\u0066\u002d\u0064\u0069\u006e\u0067\u0062\u0061\u0074\u0073":_ef .ZapfDingbatsName ,"\u0074\u0069\u006de\u0073":_ef .TimesRomanName ,"\u0074\u0069\u006d\u0065\u0073\u002d\u0062\u006f\u006c\u0064":_ef .TimesBoldName ,"\u0074\u0069\u006de\u0073\u002d\u0069\u0074\u0061\u006c\u0069\u0063":_ef .TimesItalicName ,"\u0074\u0069\u006d\u0065\u0073\u002d\u0062\u006f\u006c\u0064\u002d\u0069t\u0061\u006c\u0069\u0063":_ef .TimesBoldItalicName }[_bfg ];
if !_dcg {return nil ,_a .Errorf ("\u0066\u006f\u006e\u0074\u002df\u0061\u006d\u0069\u006c\u0079\u0020\u0025\u0073\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064\u0020\u0069\u006e\u0020\u0074\u0068\u0065\u0020\u0073\u0074\u0061\u006e\u0064\u0061\u0072\u0064\u0020\u0066\u006f\u006e\u0074\u0073\u0020\u006c\u0069\u0073t",_bfg );
};_ddc ,_bdcb :=_ef .NewStandard14Font (_ada );if _bdcb !=nil {return nil ,_bdcb ;};return _ddc ,nil ;};func _gcab (_bfgc []float64 )[]float64 {for _dgag ,_fcag :=0,len (_bfgc )-1;_dgag < _fcag ;_dgag ,_fcag =_dgag +1,_fcag -1{_bfgc [_dgag ],_bfgc [_fcag ]=_bfgc [_fcag ],_bfgc [_dgag ];
};return _bfgc ;};func _fdcc (_efdgf float64 ,_eca int )float64 {_ecbg :=_c .Pow (10,float64 (_eca ));return float64 (_cgea (_efdgf *_ecbg ))/_ecbg ;};func _dad (_eeaf string )(float64 ,error ){_eeaf =_g .TrimSpace (_eeaf );var _fegf float64 ;if _g .HasSuffix (_eeaf ,"\u0025"){_egefd ,_dec :=_gc .ParseFloat (_g .TrimSuffix (_eeaf ,"\u0025"),64);
if _dec !=nil {return 0,_dec ;};_fegf =(_egefd *255.0)/100.0;}else {_fdce ,_fgb :=_gc .Atoi (_eeaf );if _fgb !=nil {return 0,_fgb ;};_fegf =float64 (_fdce );};return _fegf ,nil ;};func _aaga (_gdeb string )[]token {var (_cfc []token ;_cabe string ;);for _ ,_cce :=range _gdeb {_bfdf :=string (_cce );
switch {case _fdbc .isCommand (_bfdf ):_cfc ,_cabe =_cace (_cfc ,_cabe );_cfc =append (_cfc ,token {_bfdf ,true });case _bfdf =="\u002e":if _cabe ==""{_cabe ="\u0030";};if _g .Contains (_cabe ,_bfdf ){_cfc =append (_cfc ,token {_cabe ,false });_cabe ="\u0030";
};fallthrough;case _bfdf >="\u0030"&&_bfdf <="\u0039"||_bfdf =="\u0065":_cabe +=_bfdf ;case _bfdf =="\u002d":if _g .HasSuffix (_cabe ,"\u0065"){_cabe +=_bfdf ;}else {_cfc ,_ =_cace (_cfc ,_cabe );_cabe =_bfdf ;};default:_cfc ,_cabe =_cace (_cfc ,_cabe );
};};_cfc ,_ =_cace (_cfc ,_cabe );return _cfc ;};type Command struct{Symbol string ;Params []float64 ;};type Subpath struct{Commands []*Command ;};func _bf (_ebd *GraphicSVG ,_fae *_eb .ContentCreator ,_dgf *_ef .PdfPageResources ){_fae .Add_q ();_ebd .Style .toContentStream (_fae ,_dgf );
_daa ,_agc :=_gdfe (_ebd .Attributes ["\u0063\u0078"],64);if _agc !=nil {_bb .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_agc .Error ());
};_bg ,_agc :=_gdfe (_ebd .Attributes ["\u0063\u0079"],64);if _agc !=nil {_bb .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_agc .Error ());
};_dgaa ,_agc :=_gdfe (_ebd .Attributes ["\u0072\u0078"],64);if _agc !=nil {_bb .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_agc .Error ());
};_fcec ,_agc :=_gdfe (_ebd .Attributes ["\u0072\u0079"],64);if _agc !=nil {_bb .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_agc .Error ());
};_cca :=_dgaa *_ebd ._bfcd ;_fba :=_fcec *_ebd ._bfcd ;_gdg :=_daa *_ebd ._bfcd ;_efd :=_bg *_ebd ._bfcd ;_efdg :=_cca *_ee ;_cge :=_fba *_ee ;_caf :=_eg .NewCubicBezierPath ();_caf =_caf .AppendCurve (_eg .NewCubicBezierCurve (-_cca ,0,-_cca ,_cge ,-_efdg ,_fba ,0,_fba ));
_caf =_caf .AppendCurve (_eg .NewCubicBezierCurve (0,_fba ,_efdg ,_fba ,_cca ,_cge ,_cca ,0));_caf =_caf .AppendCurve (_eg .NewCubicBezierCurve (_cca ,0,_cca ,-_cge ,_efdg ,-_fba ,0,-_fba ));_caf =_caf .AppendCurve (_eg .NewCubicBezierCurve (0,-_fba ,-_efdg ,-_fba ,-_cca ,-_cge ,-_cca ,0));
_caf =_caf .Offset (_gdg ,_efd );if _ebd .Style .StrokeWidth > 0{_caf =_caf .Offset (_ebd .Style .StrokeWidth /2,_ebd .Style .StrokeWidth /2);};_eg .DrawBezierPathWithCreator (_caf ,_fae );_ebd .Style .fillStroke (_fae );_fae .Add_h ();_fae .Add_Q ();};
func (_eaae *Subpath )compare (_cac *Subpath )bool {if len (_eaae .Commands )!=len (_cac .Commands ){return false ;};for _bcae ,_ffe :=range _eaae .Commands {if !_ffe .compare (_cac .Commands [_bcae ]){return false ;};};return true ;};func _bdbg (_bgeb []token )([]*Command ,error ){var (_gafa []*Command ;
_bfbd []float64 ;);for _ebda :=len (_bgeb )-1;_ebda >=0;_ebda --{_dgcc :=_bgeb [_ebda ];if _dgcc ._ebc {_fgaa :=_fdbc ._fcbc [_g .ToLower (_dgcc ._cdff )];_ceab :=len (_bfbd );if _fgaa ==0&&_ceab ==0{_bda :=&Command {Symbol :_dgcc ._cdff };_gafa =append ([]*Command {_bda },_gafa ...);
}else if _fgaa !=0&&_ceab %_fgaa ==0{_fegc :=_ceab /_fgaa ;for _dgeg :=0;_dgeg < _fegc ;_dgeg ++{_ccd :=_dgcc ._cdff ;if _ccd =="\u006d"&&_dgeg < _fegc -1{_ccd ="\u006c";};if _ccd =="\u004d"&&_dgeg < _fegc -1{_ccd ="\u004c";};_bbae :=&Command {_ccd ,_gcab (_bfbd [:_fgaa ])};
_gafa =append ([]*Command {_bbae },_gafa ...);_bfbd =_bfbd [_fgaa :];};}else {_acgg :=pathParserError {"I\u006e\u0063\u006f\u0072\u0072\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072\u0020\u006f\u0066\u0020\u0070\u0061r\u0061\u006d\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006fr\u0020"+_dgcc ._cdff };
return nil ,_acgg ;};}else {_bbdg ,_gggca :=_gdfe (_dgcc ._cdff ,64);if _gggca !=nil {return nil ,_gggca ;};_bfbd =append (_bfbd ,_bbdg );};};return _gafa ,nil ;};func (_cdg pathParserError )Error ()string {return _cdg ._dbbe };func (_daea *Path )compare (_bba *Path )bool {if len (_daea .Subpaths )!=len (_bba .Subpaths ){return false ;
};for _fege ,_afd :=range _daea .Subpaths {if !_afd .compare (_bba .Subpaths [_fege ]){return false ;};};return true ;};type token struct{_cdff string ;_ebc bool ;};func _bebge ()*GraphicSVGStyle {return &GraphicSVGStyle {FillColor :"\u00230\u0030\u0030\u0030\u0030\u0030",StrokeColor :"",StrokeWidth :0,FillOpacity :1.0};
};func _dbd (_aged *GraphicSVG ,_aag *_eb .ContentCreator ){_bga ,_fca :=_aged .Attributes ["\u0074r\u0061\u006e\u0073\u0066\u006f\u0072m"];if _fca {_ebfe :=_g .Fields (_bga );for _ ,_add :=range _ebfe {_affa :=_g .FieldsFunc (_add ,_baaa );if len (_affa )< 3{_bb .Log .Debug ("\u0063\u0061\u006e't\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0074\u0072a\u006es\u0066o\u0072m\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u0025\u0076",_bga );
return ;};_cba ,_ace :=_gdfe (_affa [1],64);if _ace !=nil {_bb .Log .Debug ("\u0063\u0061\u006e't\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0074\u0072a\u006es\u0066o\u0072m\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u0025\u0076",_bga );
return ;};_dde ,_ace :=_gdfe (_affa [2],64);if _ace !=nil {_bb .Log .Debug ("\u0063\u0061\u006e't\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0074\u0072a\u006es\u0066o\u0072m\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u0025\u0076",_bga );
return ;};if _affa [0]=="\u0074r\u0061\u006e\u0073\u006c\u0061\u0074e"{_aag .Translate (_cba ,_dde );}else if _affa [0]=="\u0073\u0063\u0061l\u0065"{_aag .Scale (_cba ,_dde );}else {_bb .Log .Debug ("\u0063\u0061\u006e't\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0074\u0072a\u006es\u0066o\u0072m\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u0025\u0076",_bga );
return ;};};};};func _acff (_ebce string )(_gccg ,_dfac string ){if _ebce ==""||(_ebce [len (_ebce )-1]>='0'&&_ebce [len (_ebce )-1]<='9'){return _ebce ,"";};_gccg =_ebce ;for _ ,_fgc :=range _fe {if _g .Contains (_gccg ,_fgc ){_dfac =_fgc ;};_gccg =_g .TrimSuffix (_gccg ,_fgc );
};return ;};func (_aebf *Command )isAbsolute ()bool {return _aebf .Symbol ==_g .ToUpper (_aebf .Symbol )};func _dacd (_adgg map[string ]string ,_cecc float64 )(*GraphicSVGStyle ,error ){_baaag :=_bebge ();_bcg ,_acfe :=_adgg ["\u0066\u0069\u006c\u006c"];
if _acfe {_baaag .FillColor =_bcg ;if _bcg =="\u006e\u006f\u006e\u0065"{_baaag .FillColor ="";};};_gad ,_aede :=_adgg ["\u0066\u0069\u006cl\u002d\u006f\u0070\u0061\u0063\u0069\u0074\u0079"];if _aede {_fedf ,_cef :=_badb (_gad );if _cef !=nil {return nil ,_cef ;
};_baaag .FillOpacity =_fedf ;};_afee ,_dacg :=_adgg ["\u0073\u0074\u0072\u006f\u006b\u0065"];if _dacg {_baaag .StrokeColor =_afee ;if _afee =="\u006e\u006f\u006e\u0065"{_baaag .StrokeColor ="";};};_afbd ,_dbbf :=_adgg ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];
if _dbbf {_ade ,_dfe :=_gdfe (_afbd ,64);if _dfe !=nil {return nil ,_dfe ;};_baaag .StrokeWidth =_ade *_cecc ;};return _baaag ,nil ;};func _cb (_dd *GraphicSVG ,_cda *_eb .ContentCreator ,_dcc *_ef .PdfPageResources ){_cda .Add_q ();_dd .Style .toContentStream (_cda ,_dcc );
_efc ,_eba :=_gdfe (_dd .Attributes ["\u0078"],64);if _eba !=nil {_bb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0078\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_eba .Error ());
};_ced ,_eba :=_gdfe (_dd .Attributes ["\u0079"],64);if _eba !=nil {_bb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0079\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_eba .Error ());
};_daf ,_eba :=_gdfe (_dd .Attributes ["\u0077\u0069\u0064t\u0068"],64);if _eba !=nil {_bb .Log .Debug ("\u0045\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0077\u0069\u0064\u0074\u0068\u0020v\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_eba .Error ());
};_bea ,_eba :=_gdfe (_dd .Attributes ["\u0068\u0065\u0069\u0067\u0068\u0074"],64);if _eba !=nil {_bb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077h\u0069\u006c\u0065 \u0070\u0061\u0072\u0073i\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0068\u0065\u0069\u0067\u0068\u0074\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_eba .Error ());
};_cda .Add_re (_efc *_dd ._bfcd ,_ced *_dd ._bfcd ,_daf *_dd ._bfcd ,_bea *_dd ._bfcd );_dd .Style .fillStroke (_cda );_cda .Add_Q ();};func _gdfe (_dcea string ,_efdf int )(float64 ,error ){_fggc ,_aea :=_acff (_dcea );_eea ,_aac :=_gc .ParseFloat (_fggc ,_efdf );
if _aac !=nil {return 0,_aac ;};if _abge ,_eab :=_ae [_aea ];_eab {_eea =_eea *_abge ;}else {_eea =_eea *_gd ;};return _eea ,nil ;};func ParseFromFile (path string )(*GraphicSVG ,error ){_adg ,_daeg :=_fb .Open (path );if _daeg !=nil {return nil ,_daeg ;
};defer _adg .Close ();return ParseFromStream (_adg );};func _abg (_ecb _e .StartElement )*GraphicSVG {_gaa :=&GraphicSVG {};_fcaa :=make (map[string ]string );for _ ,_feaf :=range _ecb .Attr {_fcaa [_feaf .Name .Local ]=_feaf .Value ;};_gaa .Name =_ecb .Name .Local ;
_gaa .Attributes =_fcaa ;_gaa ._bfcd =1;if _gaa .Name =="\u0073\u0076\u0067"{_degf ,_aeb :=_aaff (_fcaa ["\u0076i\u0065\u0077\u0042\u006f\u0078"]);if _aeb !=nil {_bb .Log .Debug ("\u0055\u006ea\u0062\u006c\u0065\u0020t\u006f\u0020p\u0061\u0072\u0073\u0065\u0020\u0076\u0069\u0065w\u0042\u006f\u0078\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074e\u003a\u0020\u0025\u0076",_aeb );
return nil ;};if len (_degf )>=4{_gaa .ViewBox .X =_degf [0];_gaa .ViewBox .Y =_degf [1];_gaa .ViewBox .W =_degf [2];_gaa .ViewBox .H =_degf [3];};_gaa .Width =_gaa .ViewBox .W ;_gaa .Height =_gaa .ViewBox .H ;if _efb ,_gcaf :=_fcaa ["\u0077\u0069\u0064t\u0068"];
_gcaf {if _g .HasSuffix (_efb ,"\u0025"){_gcge ,_bddcf :=_gc .ParseFloat (_g .TrimSuffix (_efb ,"\u0025"),64);if _bddcf !=nil {_bb .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0077\u0069\u0064\u0074\u0068\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_bddcf );
return nil ;};_gaa .Width =_gcge *_gaa .ViewBox .W ;}else {_fgg ,_bfb :=_gdfe (_efb ,64);if _bfb !=nil {_bb .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0077\u0069\u0064\u0074\u0068\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_bfb );
return nil ;};_gaa .Width =_fgg ;if len (_degf )< 4{_gaa .ViewBox .W =_fgg ;};};};if _aaa ,_bca :=_fcaa ["\u0068\u0065\u0069\u0067\u0068\u0074"];_bca {if _g .HasSuffix (_aaa ,"\u0025"){_acdd ,_dbb :=_gc .ParseFloat (_g .TrimSuffix (_aaa ,"\u0025"),64);
if _dbb !=nil {_bb .Log .Debug ("\u0055\u006eab\u006c\u0065\u0020t\u006f\u0020\u0070\u0061rse\u0020he\u0069\u0067\u0068\u0074\u0020\u0061\u0074tr\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_dbb );return nil ;};_gaa .Height =_acdd *_gaa .ViewBox .H ;
}else {_caef ,_gfga :=_gdfe (_aaa ,64);if _gfga !=nil {_bb .Log .Debug ("\u0055\u006eab\u006c\u0065\u0020t\u006f\u0020\u0070\u0061rse\u0020he\u0069\u0067\u0068\u0074\u0020\u0061\u0074tr\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_gfga );return nil ;
};_gaa .Height =_caef ;if len (_degf )< 4{_gaa .ViewBox .H =_caef ;};};};if _gaa .Width > 0&&_gaa .Height > 0{_gaa ._bfcd =_gaa .Width /_gaa .ViewBox .W ;};};return _gaa ;};func _cace (_cgg []token ,_eegf string )([]token ,string ){if _eegf !=""{_cgg =append (_cgg ,token {_eegf ,false });
_eegf ="";};return _cgg ,_eegf ;};func _eaa (_cag *GraphicSVG ,_fea *_eb .ContentCreator ,_abed *_ef .PdfPageResources ){_fea .Add_q ();_cag .Style .toContentStream (_fea ,_abed );_efac ,_age :=_aaff (_cag .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);
if _age !=nil {_bb .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_age );
return ;};if len (_efac )%2> 0{_bb .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _eag :=0;_eag < len (_efac );{if _eag ==0{_fea .Add_m (_efac [_eag ]*_cag ._bfcd ,_efac [_eag +1]*_cag ._bfcd );}else {_fea .Add_l (_efac [_eag ]*_cag ._bfcd ,_efac [_eag +1]*_cag ._bfcd );};_eag +=2;};_cag .Style .fillStroke (_fea );_fea .Add_h ();
_fea .Add_Q ();};func _ea (_egb *GraphicSVG ,_bbb *_eb .ContentCreator ,_adc *_ef .PdfPageResources ){_bbb .Add_q ();_egb .Style .toContentStream (_bbb ,_adc );_gfd ,_gdf :=_gdfe (_egb .Attributes ["\u0063\u0078"],64);if _gdf !=nil {_bb .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_gdf .Error ());
};_cdbe ,_gdf :=_gdfe (_egb .Attributes ["\u0063\u0079"],64);if _gdf !=nil {_bb .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_gdf .Error ());
};_bad ,_gdf :=_gdfe (_egb .Attributes ["\u0072"],64);if _gdf !=nil {_bb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0072\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_gdf .Error ());
};_ebb :=_bad *_egb ._bfcd ;_de :=_bad *_egb ._bfcd ;_gg :=_ebb *_ee ;_dff :=_de *_ee ;_cab :=_eg .NewCubicBezierPath ();_cab =_cab .AppendCurve (_eg .NewCubicBezierCurve (-_ebb ,0,-_ebb ,_dff ,-_gg ,_de ,0,_de ));_cab =_cab .AppendCurve (_eg .NewCubicBezierCurve (0,_de ,_gg ,_de ,_ebb ,_dff ,_ebb ,0));
_cab =_cab .AppendCurve (_eg .NewCubicBezierCurve (_ebb ,0,_ebb ,-_dff ,_gg ,-_de ,0,-_de ));_cab =_cab .AppendCurve (_eg .NewCubicBezierCurve (0,-_de ,-_gg ,-_de ,-_ebb ,-_dff ,-_ebb ,0));_cab =_cab .Offset (_gfd *_egb ._bfcd ,_cdbe *_egb ._bfcd );if _egb .Style .StrokeWidth > 0{_cab =_cab .Offset (_egb .Style .StrokeWidth /2,_egb .Style .StrokeWidth /2);
};_eg .DrawBezierPathWithCreator (_cab ,_bbb );_egb .Style .fillStroke (_bbb );_bbb .Add_h ();_bbb .Add_Q ();};func _gcgg (_ecc string )(*Path ,error ){_fdbc =_bcac ();_ccc ,_aaea :=_bdbg (_aaga (_ecc ));if _aaea !=nil {return nil ,_aaea ;};return _eggc (_ccc ),nil ;
};func (_gaac *commands )isCommand (_ggca string )bool {for _ ,_cfb :=range _gaac ._acg {if _g .ToLower (_ggca )==_cfb {return true ;};};return false ;};func _baaa (_fgf rune )bool {return _fgf =='('||_fgf ==','||_fgf ==')'};func _fdcd (_dfcf string )(_bage []float64 ,_beee error ){var _agag float64 ;
_efcg :=0;_gcag :=true ;for _fdf ,_fabf :=range _dfcf {if _fabf =='.'{if _gcag {_gcag =false ;continue ;};_agag ,_beee =_gdfe (_dfcf [_efcg :_fdf ],64);if _beee !=nil {return ;};_bage =append (_bage ,_agag );_efcg =_fdf ;};};_agag ,_beee =_gdfe (_dfcf [_efcg :],64);
if _beee !=nil {return ;};_bage =append (_bage ,_agag );return ;};func (_fbc *GraphicSVG )SetScaling (xFactor ,yFactor float64 ){_dbce :=_fbc .Width /_fbc .ViewBox .W ;_gb :=_fbc .Height /_fbc .ViewBox .H ;_fbc .setDefaultScaling (_c .Max (_dbce ,_gb ));
for _ ,_aecg :=range _fbc .Children {_aecg .SetScaling (xFactor ,yFactor );};};func _eae (_cae *GraphicSVG ,_gfc *_eb .ContentCreator ,_fd *_ef .PdfPageResources ){_gfc .Add_q ();_cae .Style .toContentStream (_gfc ,_fd );_dbc ,_bddc :=_gdfe (_cae .Attributes ["\u0078\u0031"],64);
if _bddc !=nil {_bb .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_bddc .Error ());};_gca ,_bddc :=_gdfe (_cae .Attributes ["\u0079\u0031"],64);
if _bddc !=nil {_bb .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_bddc .Error ());};_egg ,_bddc :=_gdfe (_cae .Attributes ["\u0078\u0032"],64);
if _bddc !=nil {_bb .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_bddc .Error ());};_bfc ,_bddc :=_gdfe (_cae .Attributes ["\u0079\u0032"],64);
if _bddc !=nil {_bb .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_bddc .Error ());};_gfc .Add_m (_dbc *_cae ._bfcd ,_gca *_cae ._bfcd );
_gfc .Add_l (_egg *_cae ._bfcd ,_bfc *_cae ._bfcd );_cae .Style .fillStroke (_gfc );_gfc .Add_h ();_gfc .Add_Q ();};func ParseFromString (svgStr string )(*GraphicSVG ,error ){return ParseFromStream (_g .NewReader (svgStr ));};func _agg (_eege *_e .Decoder )(*GraphicSVG ,error ){for {_bfd ,_ceg :=_eege .Token ();
if _bfd ==nil &&_ceg ==_d .EOF {break ;};if _ceg !=nil {return nil ,_ceg ;};switch _efaf :=_bfd .(type ){case _e .StartElement :return _abg (_efaf ),nil ;};};return &GraphicSVG {},nil ;};func _dgc (_ded *GraphicSVG ,_dda *_eb .ContentCreator ,_faa *_ef .PdfPageResources ){_dda .Add_BT ();
_ed ,_fac :=_gdfe (_ded .Attributes ["\u0078"],64);if _fac !=nil {_bb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0078\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_fac .Error ());
};_cafb ,_fac :=_gdfe (_ded .Attributes ["\u0079"],64);if _fac !=nil {_bb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0079\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_fac .Error ());
};_aed :=_ded .Attributes ["\u0066\u0069\u006c\u006c"];var _ggg ,_dae ,_bac float64 ;if _ebf ,_egef :=_cc .ColorMap [_aed ];_egef {_egea ,_ede ,_cfe ,_ :=_ebf .RGBA ();_ggg ,_dae ,_bac =float64 (_egea ),float64 (_ede ),float64 (_cfe );}else if _g .HasPrefix (_aed ,"\u0072\u0067\u0062\u0028"){_ggg ,_dae ,_bac =_bab (_aed );
}else {_ggg ,_dae ,_bac =_bgga (_aed );};_dda .Add_rg (_ggg ,_dae ,_bac );_bec :=_ege ;if _ece ,_ebdf :=_ded .Attributes ["\u0066o\u006e\u0074\u002d\u0073\u0069\u007ae"];_ebdf {_bec ,_fac =_gc .ParseFloat (_ece ,64);if _fac !=nil {_bb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072 \u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067 \u0060\u0066\u006f\u006e\u0074\u002d\u0073\u0069\u007a\u0065\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_fac .Error ());
_bec =_ege ;};};_bdb :=_ded ._bfcd *_bec *_fa /_dc ;_bff :=_cg .PdfObjectName ("\u0053\u0046\u006fn\u0074");_aff :=_ef .DefaultFont ();_deg ,_faef :=_ded .Attributes ["f\u006f\u006e\u0074\u002d\u0066\u0061\u006d\u0069\u006c\u0079"];if _faef {if _daab ,_aa :=_gcf (_deg );
_aa ==nil {_aff =_daab ;_dba :=1;for _faa .HasFontByName (_bff ){_bff =_cg .PdfObjectName ("\u0053\u0046\u006fn\u0074"+_gc .Itoa (_dba ));_dba ++;};};};_fed :=0.0;_bebf ,_faef :=_ded .Attributes ["t\u0065\u0078\u0074\u002d\u0061\u006e\u0063\u0068\u006f\u0072"];
if _faef &&_bebf !="\u0073\u0074\u0061r\u0074"{var _fdc float64 ;for _ ,_dcbb :=range _ded .Content {_adb ,_dab :=_aff .GetRuneMetrics (_dcbb );if !_dab {_bb .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0075\u006e\u0073\u0075\u0070\u0070\u006fr\u0074e\u0064 \u0072u\u006e\u0065\u0020\u0025\u0076\u0020\u0069\u006e\u0020\u0066\u006f\u006e\u0074",_dcbb );
};_fdc +=_adb .Wx ;};_fdc =_fdc *_bdb /1000.0;if _bebf =="\u006d\u0069\u0064\u0064\u006c\u0065"{_fed =-_fdc /2;}else if _bebf =="\u0065\u006e\u0064"{_fed =-_fdc ;};};_dda .Add_Tm (1,0,0,-1,_ed *_ded ._bfcd +_fed ,_cafb *_ded ._bfcd );_faa .SetFontByName (_bff ,_aff .ToPdfObject ());
_dda .Add_Tf (_bff ,_bdb );_edd :=_ded .Content ;_gac :=_cg .MakeString (_edd );_dda .Add_Tj (*_gac );_dda .Add_ET ();};func ParseFromStream (source _d .Reader )(*GraphicSVG ,error ){_cec :=_e .NewDecoder (source );_cec .CharsetReader =_gf .NewReaderLabel ;
_dfc ,_dac :=_agg (_cec );if _dac !=nil {return nil ,_dac ;};if _eda :=_dfc .Decode (_cec );_eda !=nil &&_eda !=_d .EOF {return nil ,_eda ;};return _dfc ,nil ;};func _bgga (_afec string )(_gfgd ,_faeg ,_bfcb float64 ){if (len (_afec )!=4&&len (_afec )!=7)||_afec [0]!='#'{_bb .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_afec );
return _gfgd ,_faeg ,_bfcb ;};var _acef ,_bdg ,_facb int ;if len (_afec )==4{var _dafa ,_agcg ,_gagb int ;_fbad ,_ecg :=_a .Sscanf (_afec ,"\u0023\u0025\u0031\u0078\u0025\u0031\u0078\u0025\u0031\u0078",&_dafa ,&_agcg ,&_gagb );if _ecg !=nil {_bb .Log .Debug ("\u0049\u006e\u0076a\u006c\u0069\u0064\u0020h\u0065\u0078\u0020\u0063\u006f\u0064\u0065:\u0020\u0025\u0073\u002c\u0020\u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_afec ,_ecg );
return _gfgd ,_faeg ,_bfcb ;};if _fbad !=3{_bb .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_afec );return _gfgd ,_faeg ,_bfcb ;};_acef =_dafa *16+_dafa ;_bdg =_agcg *16+_agcg ;_facb =_gagb *16+_gagb ;
}else {_beag ,_ead :=_a .Sscanf (_afec ,"\u0023\u0025\u0032\u0078\u0025\u0032\u0078\u0025\u0032\u0078",&_acef ,&_bdg ,&_facb );if _ead !=nil {_bb .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_afec );
return _gfgd ,_faeg ,_bfcb ;};if _beag !=3{_bb .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069d\u0020\u0068\u0065\u0078\u0020\u0063\u006f\u0064\u0065\u003a\u0020\u0025\u0073,\u0020\u006e\u0020\u0021\u003d\u0020\u0033 \u0028\u0025\u0064\u0029",_afec ,_beag );
return _gfgd ,_faeg ,_bfcb ;};};_bae :=float64 (_acef )/255.0;_efcf :=float64 (_bdg )/255.0;_bbf :=float64 (_facb )/255.0;return _bae ,_efcf ,_bbf ;};func (_gfa *GraphicSVGStyle )toContentStream (_bddd *_eb .ContentCreator ,_ceeb *_ef .PdfPageResources ){if _gfa ==nil {return ;
};if _gfa .FillColor !=""{var _gea ,_cabg ,_afe float64 ;if _feg ,_dabc :=_cc .ColorMap [_gfa .FillColor ];_dabc {_ddf ,_deac ,_gfcg ,_ :=_feg .RGBA ();_gea ,_cabg ,_afe =float64 (_ddf ),float64 (_deac ),float64 (_gfcg );}else if _g .HasPrefix (_gfa .FillColor ,"\u0072\u0067\u0062\u0028"){_gea ,_cabg ,_afe =_bab (_gfa .FillColor );
}else {_gea ,_cabg ,_afe =_bgga (_gfa .FillColor );};_bddd .Add_rg (_gea ,_cabg ,_afe );};if _gfa .FillOpacity < 1.0{_gaaf :=0;_efbb :=_cg .PdfObjectName (_a .Sprintf ("\u0047\u0053\u0025\u0064",_gaaf ));for {_ ,_gedd :=_ceeb .GetExtGState (_efbb );if !_gedd {break ;
};_gaaf ++;_efbb =_cg .PdfObjectName (_a .Sprintf ("\u0047\u0053\u0025\u0064",_gaaf ));};_fcb :=_cg .MakeDict ();_fcb .Set ("\u0063\u0061",_cg .MakeFloat (_gfa .FillOpacity ));_fcd :=_ceeb .AddExtGState (_efbb ,_cg .MakeIndirectObject (_fcb ));if _fcd !=nil {_bb .Log .Debug (_fcd .Error ());
return ;};_bddd .Add_gs (_efbb );};if _gfa .StrokeColor !=""{var _fegb ,_cfec ,_gab float64 ;if _gga ,_abedd :=_cc .ColorMap [_gfa .StrokeColor ];_abedd {_ddb ,_gfdb ,_eaee ,_ :=_gga .RGBA ();_fegb ,_cfec ,_gab =float64 (_ddb )/255.0,float64 (_gfdb )/255.0,float64 (_eaee )/255.0;
}else if _g .HasPrefix (_gfa .FillColor ,"\u0072\u0067\u0062\u0028"){_fegb ,_cfec ,_gab =_bab (_gfa .FillColor );}else {_fegb ,_cfec ,_gab =_bgga (_gfa .StrokeColor );};_bddd .Add_RG (_fegb ,_cfec ,_gab );};if _gfa .StrokeWidth > 0{_bddd .Add_w (_gfa .StrokeWidth );
};};func _eggc (_fega []*Command )*Path {_dcaa :=&Path {};var _fef []*Command ;for _ccg ,_fec :=range _fega {switch _g .ToLower (_fec .Symbol ){case _fdbc ._fab :if len (_fef )> 0{_dcaa .Subpaths =append (_dcaa .Subpaths ,&Subpath {_fef });};_fef =[]*Command {_fec };
case _fdbc ._fgd :_fef =append (_fef ,_fec );_dcaa .Subpaths =append (_dcaa .Subpaths ,&Subpath {_fef });_fef =[]*Command {};default:_fef =append (_fef ,_fec );if len (_fega )==_ccg +1{_dcaa .Subpaths =append (_dcaa .Subpaths ,&Subpath {_fef });};};};return _dcaa ;
};func (_gfe *Command )compare (_bgg *Command )bool {if _gfe .Symbol !=_bgg .Symbol {return false ;};for _aef ,_bgd :=range _gfe .Params {if _bgd !=_bgg .Params [_aef ]{return false ;};};return true ;};