//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package svg ;import (_bc "encoding/xml";_g "fmt";_bf "github.com/unidoc/unipdf/v3/common";_a "github.com/unidoc/unipdf/v3/contentstream";_gd "github.com/unidoc/unipdf/v3/contentstream/draw";_dfd "github.com/unidoc/unipdf/v3/core";_c "github.com/unidoc/unipdf/v3/internal/graphic2d";
_dd "github.com/unidoc/unipdf/v3/model";_be "golang.org/x/net/html/charset";_daa "io";_da "math";_gg "os";_df "strconv";_f "strings";_d "unicode";);func _gbb (_dbaf []token ,_aded string )([]token ,string ){if _aded !=""{_dbaf =append (_dbaf ,token {_aded ,false });
_aded ="";};return _dbaf ,_aded ;};func _bbab (_adc string ,_bddf int )(float64 ,error ){_dabc ,_fdf :=_babae (_adc );_cdca ,_cee :=_df .ParseFloat (_dabc ,_bddf );if _cee !=nil {return 0,_cee ;};if _ffbf ,_dcee :=_af [_fdf ];_dcee {_cdca =_cdca *_ffbf ;
}else {_cdca =_cdca *_fc ;};return _cdca ,nil ;};func (_babd pathParserError )Error ()string {return _babd ._eea };func _abf (_gced *GraphicSVG ,_cae *_a .ContentCreator ,_agb *_dd .PdfPageResources ){_cae .Add_q ();_gced .Style .toContentStream (_cae ,_agb );
_gdf ,_caa :=_bbab (_gced .Attributes ["\u0063\u0078"],64);if _caa !=nil {_bf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_caa .Error ());
};_bcc ,_caa :=_bbab (_gced .Attributes ["\u0063\u0079"],64);if _caa !=nil {_bf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_caa .Error ());
};_gee ,_caa :=_bbab (_gced .Attributes ["\u0072\u0078"],64);if _caa !=nil {_bf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_caa .Error ());
};_cb ,_caa :=_bbab (_gced .Attributes ["\u0072\u0079"],64);if _caa !=nil {_bf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_caa .Error ());
};_ga :=_gee *_gced ._ffd ;_dee :=_cb *_gced ._ffd ;_gdbf :=_gdf *_gced ._ffd ;_ggee :=_bcc *_gced ._ffd ;_fffg :=_ga *_bd ;_eag :=_dee *_bd ;_caeg :=_gd .NewCubicBezierPath ();_caeg =_caeg .AppendCurve (_gd .NewCubicBezierCurve (-_ga ,0,-_ga ,_eag ,-_fffg ,_dee ,0,_dee ));
_caeg =_caeg .AppendCurve (_gd .NewCubicBezierCurve (0,_dee ,_fffg ,_dee ,_ga ,_eag ,_ga ,0));_caeg =_caeg .AppendCurve (_gd .NewCubicBezierCurve (_ga ,0,_ga ,-_eag ,_fffg ,-_dee ,0,-_dee ));_caeg =_caeg .AppendCurve (_gd .NewCubicBezierCurve (0,-_dee ,-_fffg ,-_dee ,-_ga ,-_eag ,-_ga ,0));
_caeg =_caeg .Offset (_gdbf ,_ggee );if _gced .Style .StrokeWidth > 0{_caeg =_caeg .Offset (_gced .Style .StrokeWidth /2,_gced .Style .StrokeWidth /2);};_gd .DrawBezierPathWithCreator (_caeg ,_cae );_gced .Style .fillStroke (_cae );_cae .Add_h ();_cae .Add_Q ();
};func _ggd (_adgb _bc .StartElement )*GraphicSVG {_dgfb :=&GraphicSVG {};_age :=make (map[string ]string );for _ ,_aaag :=range _adgb .Attr {_age [_aaag .Name .Local ]=_aaag .Value ;};_dgfb .Name =_adgb .Name .Local ;_dgfb .Attributes =_age ;_dgfb ._ffd =1;
if _dgfb .Name =="\u0073\u0076\u0067"{_aefa ,_dbc :=_ead (_age ["\u0076i\u0065\u0077\u0042\u006f\u0078"]);if _dbc !=nil {_bf .Log .Debug ("\u0055\u006ea\u0062\u006c\u0065\u0020t\u006f\u0020p\u0061\u0072\u0073\u0065\u0020\u0076\u0069\u0065w\u0042\u006f\u0078\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074e\u003a\u0020\u0025\u0076",_dbc );
return nil ;};if len (_aefa )>=4{_dgfb .ViewBox .X =_aefa [0];_dgfb .ViewBox .Y =_aefa [1];_dgfb .ViewBox .W =_aefa [2];_dgfb .ViewBox .H =_aefa [3];};_dgfb .Width =_dgfb .ViewBox .W ;_dgfb .Height =_dgfb .ViewBox .H ;if _eab ,_cbg :=_age ["\u0077\u0069\u0064t\u0068"];
_cbg {if _f .HasSuffix (_eab ,"\u0025"){_cab ,_geda :=_df .ParseFloat (_f .TrimSuffix (_eab ,"\u0025"),64);if _geda !=nil {_bf .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0077\u0069\u0064\u0074\u0068\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_geda );
return nil ;};_dgfb .Width =_cab *_dgfb .ViewBox .W ;}else {_aecb ,_fabe :=_bbab (_eab ,64);if _fabe !=nil {_bf .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0077\u0069\u0064\u0074\u0068\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_fabe );
return nil ;};_dgfb .Width =_aecb ;if len (_aefa )< 4{_dgfb .ViewBox .W =_aecb ;};};};if _gccd ,_gag :=_age ["\u0068\u0065\u0069\u0067\u0068\u0074"];_gag {if _f .HasSuffix (_gccd ,"\u0025"){_efb ,_fba :=_df .ParseFloat (_f .TrimSuffix (_gccd ,"\u0025"),64);
if _fba !=nil {_bf .Log .Debug ("\u0055\u006eab\u006c\u0065\u0020t\u006f\u0020\u0070\u0061rse\u0020he\u0069\u0067\u0068\u0074\u0020\u0061\u0074tr\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_fba );return nil ;};_dgfb .Height =_efb *_dgfb .ViewBox .H ;
}else {_cbeb ,_ffdf :=_bbab (_gccd ,64);if _ffdf !=nil {_bf .Log .Debug ("\u0055\u006eab\u006c\u0065\u0020t\u006f\u0020\u0070\u0061rse\u0020he\u0069\u0067\u0068\u0074\u0020\u0061\u0074tr\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_ffdf );return nil ;
};_dgfb .Height =_cbeb ;if len (_aefa )< 4{_dgfb .ViewBox .H =_cbeb ;};};};if _dgfb .Width > 0&&_dgfb .Height > 0{_dgfb ._ffd =_dgfb .Width /_dgfb .ViewBox .W ;};};return _dgfb ;};func _cfc (_ccf *GraphicSVG ,_ce *_a .ContentCreator ,_aef *_dd .PdfPageResources ){_ce .Add_q ();
_ccf .Style .toContentStream (_ce ,_aef );_eaa ,_gedf :=_ead (_ccf .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);if _gedf !=nil {_bf .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_gedf );
return ;};if len (_eaa )%2> 0{_bf .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _ded :=0;_ded < len (_eaa );{if _ded ==0{_ce .Add_m (_eaa [_ded ]*_ccf ._ffd ,_eaa [_ded +1]*_ccf ._ffd );}else {_ce .Add_l (_eaa [_ded ]*_ccf ._ffd ,_eaa [_ded +1]*_ccf ._ffd );};_ded +=2;};_ce .Add_l (_eaa [0]*_ccf ._ffd ,_eaa [1]*_ccf ._ffd );
_ccf .Style .fillStroke (_ce );_ce .Add_h ();_ce .Add_Q ();};func _cfgg (_acde map[string ]string ,_fda float64 )(*GraphicSVGStyle ,error ){_bdg :=_ggc ();_afae ,_gcca :=_acde ["\u0066\u0069\u006c\u006c"];if _gcca {_bdg .FillColor =_afae ;if _afae =="\u006e\u006f\u006e\u0065"{_bdg .FillColor ="";
};};_gae ,_fgg :=_acde ["\u0066\u0069\u006cl\u002d\u006f\u0070\u0061\u0063\u0069\u0074\u0079"];if _fgg {_caee ,_bde :=_gdcf (_gae );if _bde !=nil {return nil ,_bde ;};_bdg .FillOpacity =_caee ;};_gbef ,_ffdfb :=_acde ["\u0073\u0074\u0072\u006f\u006b\u0065"];
if _ffdfb {_bdg .StrokeColor =_gbef ;if _gbef =="\u006e\u006f\u006e\u0065"{_bdg .StrokeColor ="";};};_bfa ,_aeeg :=_acde ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];if _aeeg {_abd ,_ebcf :=_bbab (_bfa ,64);if _ebcf !=nil {return nil ,_ebcf ;
};_bdg .StrokeWidth =_abd *_fda ;};return _bdg ,nil ;};func _ecf (_dcg *GraphicSVG ,_aff *_a .ContentCreator ,_acf *_dd .PdfPageResources ){_aff .Add_q ();_dcg .Style .toContentStream (_aff ,_acf );_afb ,_edg :=_ead (_dcg .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);
if _edg !=nil {_bf .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_edg );
return ;};if len (_afb )%2> 0{_bf .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _fac :=0;_fac < len (_afb );{if _fac ==0{_aff .Add_m (_afb [_fac ]*_dcg ._ffd ,_afb [_fac +1]*_dcg ._ffd );}else {_aff .Add_l (_afb [_fac ]*_dcg ._ffd ,_afb [_fac +1]*_dcg ._ffd );};_fac +=2;};_dcg .Style .fillStroke (_aff );_aff .Add_h ();_aff .Add_Q ();
};func _bbg (_ada *GraphicSVG ,_eg *_a .ContentCreator ,_gdfd *_dd .PdfPageResources ){_eg .Add_q ();_ada .Style .toContentStream (_eg ,_gdfd );_ccd ,_edgg :=_bbab (_ada .Attributes ["\u0078\u0031"],64);if _edgg !=nil {_bf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_edgg .Error ());
};_efg ,_edgg :=_bbab (_ada .Attributes ["\u0079\u0031"],64);if _edgg !=nil {_bf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_edgg .Error ());
};_gcb ,_edgg :=_bbab (_ada .Attributes ["\u0078\u0032"],64);if _edgg !=nil {_bf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_edgg .Error ());
};_dce ,_edgg :=_bbab (_ada .Attributes ["\u0079\u0032"],64);if _edgg !=nil {_bf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_edgg .Error ());
};_eg .Add_m (_ccd *_ada ._ffd ,_efg *_ada ._ffd );_eg .Add_l (_gcb *_ada ._ffd ,_dce *_ada ._ffd );_ada .Style .fillStroke (_eg );_eg .Add_h ();_eg .Add_Q ();};type Path struct{Subpaths []*Subpath ;};func _gaag (_aeege string )(_eae []float64 ,_gcbe error ){var _bfc float64 ;
_cdf :=0;_aebc :=true ;for _cga ,_bebd :=range _aeege {if _bebd =='.'{if _aebc {_aebc =false ;continue ;};_bfc ,_gcbe =_bbab (_aeege [_cdf :_cga ],64);if _gcbe !=nil {return ;};_eae =append (_eae ,_bfc );_cdf =_cga ;};};_bfc ,_gcbe =_bbab (_aeege [_cdf :],64);
if _gcbe !=nil {return ;};_eae =append (_eae ,_bfc );return ;};func _aeg (_bda []token )([]*Command ,error ){var (_eege []*Command ;_ddag []float64 ;);for _cbee :=len (_bda )-1;_cbee >=0;_cbee --{_dbcb :=_bda [_cbee ];if _dbcb ._gfc {_gfce :=_cbfd ._abca [_f .ToLower (_dbcb ._bdbc )];
_gbgfd :=len (_ddag );if _gfce ==0&&_gbgfd ==0{_fca :=&Command {Symbol :_dbcb ._bdbc };_eege =append ([]*Command {_fca },_eege ...);}else if _gfce !=0&&_gbgfd %_gfce ==0{_bdgd :=_gbgfd /_gfce ;for _eff :=0;_eff < _bdgd ;_eff ++{_dacb :=_dbcb ._bdbc ;if _dacb =="\u006d"&&_eff < _bdgd -1{_dacb ="\u006c";
};if _dacb =="\u004d"&&_eff < _bdgd -1{_dacb ="\u004c";};_eecb :=&Command {_dacb ,_gaf (_ddag [:_gfce ])};_eege =append ([]*Command {_eecb },_eege ...);_ddag =_ddag [_gfce :];};}else {_dage :=pathParserError {"I\u006e\u0063\u006f\u0072\u0072\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072\u0020\u006f\u0066\u0020\u0070\u0061r\u0061\u006d\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006fr\u0020"+_dbcb ._bdbc };
return nil ,_dage ;};}else {_affb ,_edb :=_bbab (_dbcb ._bdbc ,64);if _edb !=nil {return nil ,_edb ;};_ddag =append (_ddag ,_affb );};};return _eege ,nil ;};type GraphicSVG struct{ViewBox struct{X ,Y ,W ,H float64 ;};Name string ;Attributes map[string ]string ;
Children []*GraphicSVG ;Content string ;Style *GraphicSVGStyle ;Width float64 ;Height float64 ;_ffd float64 ;};func (_gbe *GraphicSVG )toContentStream (_fbe *_a .ContentCreator ,_bea *_dd .PdfPageResources ){_edge ,_ecd :=_cfgg (_gbe .Attributes ,_gbe ._ffd );
if _ecd !=nil {_bf .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0073\u0074\u0079\u006c\u0065\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_ecd );};_gbe .Style =_edge ;switch _gbe .Name {case "\u0070\u0061\u0074\u0068":_ag (_gbe ,_fbe ,_bea );
for _ ,_bdb :=range _gbe .Children {_bdb .toContentStream (_fbe ,_bea );};case "\u0072\u0065\u0063\u0074":_ee (_gbe ,_fbe ,_bea );for _ ,_ceac :=range _gbe .Children {_ceac .toContentStream (_fbe ,_bea );};case "\u0063\u0069\u0072\u0063\u006c\u0065":_fcg (_gbe ,_fbe ,_bea );
for _ ,_cfa :=range _gbe .Children {_cfa .toContentStream (_fbe ,_bea );};case "\u0065l\u006c\u0069\u0070\u0073\u0065":_abf (_gbe ,_fbe ,_bea );for _ ,_ebbg :=range _gbe .Children {_ebbg .toContentStream (_fbe ,_bea );};case "\u0070\u006f\u006c\u0079\u006c\u0069\u006e\u0065":_ecf (_gbe ,_fbe ,_bea );
for _ ,_faa :=range _gbe .Children {_faa .toContentStream (_fbe ,_bea );};case "\u0070o\u006c\u0079\u0067\u006f\u006e":_cfc (_gbe ,_fbe ,_bea );for _ ,_ggg :=range _gbe .Children {_ggg .toContentStream (_fbe ,_bea );};case "\u006c\u0069\u006e\u0065":_bbg (_gbe ,_fbe ,_bea );
for _ ,_aeda :=range _gbe .Children {_aeda .toContentStream (_fbe ,_bea );};case "\u0074\u0065\u0078\u0074":_daaf (_gbe ,_fbe ,_bea );for _ ,_fbc :=range _gbe .Children {_fbc .toContentStream (_fbe ,_bea );};case "\u0067":_gbfc ,_ega :=_gbe .Attributes ["\u0066\u0069\u006c\u006c"];
_fed ,_beagg :=_gbe .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];_afaa ,_aebb :=_gbe .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];_adg ,_ggbf :=_gbe .Attributes ["\u0074r\u0061\u006e\u0073\u0066\u006f\u0072m"];
for _ ,_abc :=range _gbe .Children {if _ ,_ebe :=_abc .Attributes ["\u0066\u0069\u006c\u006c"];!_ebe &&_ega {_abc .Attributes ["\u0066\u0069\u006c\u006c"]=_gbfc ;};if _ ,_aec :=_abc .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];!_aec &&_beagg {_abc .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"]=_fed ;
};if _ ,_bcd :=_abc .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];!_bcd &&_aebb {_abc .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"]=_afaa ;};if _ ,_bge :=_abc .Attributes ["\u0074r\u0061\u006e\u0073\u0066\u006f\u0072m"];
!_bge &&_ggbf {_abc .Attributes ["\u0074r\u0061\u006e\u0073\u0066\u006f\u0072m"]=_adg ;};_abc .toContentStream (_fbe ,_bea );};};};func (_abg *Command )isAbsolute ()bool {return _abg .Symbol ==_f .ToUpper (_abg .Symbol )};func ParseFromStream (source _daa .Reader )(*GraphicSVG ,error ){_gcbf :=_bc .NewDecoder (source );
_gcbf .CharsetReader =_be .NewReaderLabel ;_ede ,_edgfb :=_ffc (_gcbf );if _edgfb !=nil {return nil ,_edgfb ;};if _bbad :=_ede .Decode (_gcbf );_bbad !=nil &&_bbad !=_daa .EOF {return nil ,_bbad ;};return _ede ,nil ;};var _cbfd commands ;func _ebd (_cfb string )(float64 ,error ){_cfb =_f .TrimSpace (_cfb );
var _ggdg float64 ;if _f .HasSuffix (_cfb ,"\u0025"){_fcdd ,_fdfe :=_df .ParseFloat (_f .TrimSuffix (_cfb ,"\u0025"),64);if _fdfe !=nil {return 0,_fdfe ;};_ggdg =(_fcdd *255.0)/100.0;}else {_gga ,_ddbc :=_df .Atoi (_cfb );if _ddbc !=nil {return 0,_ddbc ;
};_ggdg =float64 (_gga );};return _ggdg ,nil ;};var (_e =[]string {"\u0063\u006d","\u006d\u006d","\u0070\u0078","\u0070\u0074"};_af =map[string ]float64 {"\u0063\u006d":_gdd ,"\u006d\u006d":_gc ,"\u0070\u0078":_fc ,"\u0070\u0074":1};);func _gaf (_dba []float64 )[]float64 {for _eagf ,_ecc :=0,len (_dba )-1;
_eagf < _ecc ;_eagf ,_ecc =_eagf +1,_ecc -1{_dba [_eagf ],_dba [_ecc ]=_dba [_ecc ],_dba [_eagf ];};return _dba ;};func _babae (_fcf string )(_cdfd ,_daag string ){if _fcf ==""||(_fcf [len (_fcf )-1]>='0'&&_fcf [len (_fcf )-1]<='9'){return _fcf ,"";};_cdfd =_fcf ;
for _ ,_fde :=range _e {if _f .Contains (_cdfd ,_fde ){_daag =_fde ;};_cdfd =_f .TrimSuffix (_cdfd ,_fde );};return ;};func _fede ()commands {var _def =map[string ]int {"\u006d":2,"\u007a":0,"\u006c":2,"\u0068":1,"\u0076":1,"\u0063":6,"\u0073":4,"\u0071":4,"\u0074":2,"\u0061":7};
var _aeee []string ;for _ddf :=range _def {_aeee =append (_aeee ,_ddf );};return commands {_aeee ,_def ,"\u006d","\u007a"};};func _gdcf (_eddc string )(float64 ,error ){_eddc =_f .TrimSpace (_eddc );var _addg float64 ;if _f .HasSuffix (_eddc ,"\u0025"){_adab ,_dcga :=_df .ParseFloat (_f .TrimSuffix (_eddc ,"\u0025"),64);
if _dcga !=nil {return 0,_dcga ;};_addg =_adab /100.0;}else {_bdgfc ,_facc :=_df .ParseFloat (_eddc ,64);if _facc !=nil {return 0,_facc ;};_addg =_bdgfc ;};return _addg ,nil ;};func (_eegc *GraphicSVGStyle )toContentStream (_bga *_a .ContentCreator ,_fdd *_dd .PdfPageResources ){if _eegc ==nil {return ;
};if _eegc .FillColor !=""{var _abb ,_dbca ,_fbea float64 ;if _bbe ,_aeec :=_c .ColorMap [_eegc .FillColor ];_aeec {_fddg ,_bab ,_dcgg ,_ :=_bbe .RGBA ();_abb ,_dbca ,_fbea =float64 (_fddg ),float64 (_bab ),float64 (_dcgg );}else if _f .HasPrefix (_eegc .FillColor ,"\u0072\u0067\u0062\u0028"){_abb ,_dbca ,_fbea =_aag (_eegc .FillColor );
}else {_abb ,_dbca ,_fbea =_add (_eegc .FillColor );};_bga .Add_rg (_abb ,_dbca ,_fbea );};if _eegc .FillOpacity < 1.0{_fbfb :=0;_cgg :=_dfd .PdfObjectName (_g .Sprintf ("\u0047\u0053\u0025\u0064",_fbfb ));for {_ ,_cdc :=_fdd .GetExtGState (_cgg );if !_cdc {break ;
};_fbfb ++;_cgg =_dfd .PdfObjectName (_g .Sprintf ("\u0047\u0053\u0025\u0064",_fbfb ));};_fedb :=_dfd .MakeDict ();_fedb .Set ("\u0063\u0061",_dfd .MakeFloat (_eegc .FillOpacity ));_gbfb :=_fdd .AddExtGState (_cgg ,_dfd .MakeIndirectObject (_fedb ));if _gbfb !=nil {_bf .Log .Debug (_gbfb .Error ());
return ;};_bga .Add_gs (_cgg );};if _eegc .StrokeColor !=""{var _acc ,_dac ,_daae float64 ;if _bgab ,_bad :=_c .ColorMap [_eegc .StrokeColor ];_bad {_fdga ,_aabb ,_abcd ,_ :=_bgab .RGBA ();_acc ,_dac ,_daae =float64 (_fdga )/255.0,float64 (_aabb )/255.0,float64 (_abcd )/255.0;
}else if _f .HasPrefix (_eegc .FillColor ,"\u0072\u0067\u0062\u0028"){_acc ,_dac ,_daae =_aag (_eegc .FillColor );}else {_acc ,_dac ,_daae =_add (_eegc .StrokeColor );};_bga .Add_RG (_acc ,_dac ,_daae );};if _eegc .StrokeWidth > 0{_bga .Add_w (_eegc .StrokeWidth );
};};func _aag (_gecc string )(float64 ,float64 ,float64 ){_facb :=_f .TrimPrefix (_gecc ,"\u0072\u0067\u0062\u0028");_facb =_f .TrimSuffix (_facb ,"\u0029");_eed :=_f .Split (_facb ,"\u002c");if len (_eed )!=3{_bf .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u0072\u0067\u0062\u0020\u0063\u006fl\u006f\u0072\u0020\u0073\u0070\u0065\u0063i\u0066\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u003a\u0020%\u0073",_gecc );
return 0,0,0;};var _adfa ,_gac ,_ffda float64 ;_adfa ,_adbcg :=_ebd (_eed [0]);if _adbcg !=nil {_bf .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u0072\u0067\u0062\u0020\u0063\u006fl\u006f\u0072\u0020\u0073\u0070\u0065\u0063i\u0066\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u003a\u0020%\u0073",_gecc );
return 0,0,0;};_gac ,_adbcg =_ebd (_eed [1]);if _adbcg !=nil {_bf .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u0072\u0067\u0062\u0020\u0063\u006fl\u006f\u0072\u0020\u0073\u0070\u0065\u0063i\u0066\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u003a\u0020%\u0073",_gecc );
return 0,0,0;};_ffda ,_adbcg =_ebd (_eed [2]);if _adbcg !=nil {_bf .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u0072\u0067\u0062\u0020\u0063\u006fl\u006f\u0072\u0020\u0073\u0070\u0065\u0063i\u0066\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u003a\u0020%\u0073",_gecc );
return 0,0,0;};_aagb :=_adfa /255.0;_bfce :=_gac /255.0;_dbb :=_ffda /255.0;return _aagb ,_bfce ,_dbb ;};func _bgcd (_cca []*Command )*Path {_cde :=&Path {};var _agef []*Command ;for _edd ,_ecfb :=range _cca {switch _f .ToLower (_ecfb .Symbol ){case _cbfd ._bffb :if len (_agef )> 0{_cde .Subpaths =append (_cde .Subpaths ,&Subpath {_agef });
};_agef =[]*Command {_ecfb };case _cbfd ._edef :_agef =append (_agef ,_ecfb );_cde .Subpaths =append (_cde .Subpaths ,&Subpath {_agef });_agef =[]*Command {};default:_agef =append (_agef ,_ecfb );if len (_cca )==_edd +1{_cde .Subpaths =append (_cde .Subpaths ,&Subpath {_agef });
};};};return _cde ;};const (_fc =0.72;_gdd =28.3464;_gc =_gdd /10;_bd =0.551784;_fb =96;_bb =16.0;_fg float64 =72;);func _ffea (_bccc rune )bool {return _bccc =='('||_bccc ==','||_bccc ==')'};func _ag (_beb *GraphicSVG ,_ad *_a .ContentCreator ,_ab *_dd .PdfPageResources ){_ad .Add_q ();
_beb .Style .toContentStream (_ad ,_ab );_ccg (_beb ,_ad );_ed ,_fa :=_afg (_beb .Attributes ["\u0064"]);if _fa !=nil {_bf .Log .Error ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025s",_fa .Error ());};var (_afa ,_gcd =0.0,0.0;_aa ,_bba =0.0,0.0;_gdb *Command ;
);for _ ,_dg :=range _ed .Subpaths {for _ ,_gf :=range _dg .Commands {switch _f .ToLower (_gf .Symbol ){case "\u006d":_aa ,_bba =_gf .Params [0]*_beb ._ffd ,_gf .Params [1]*_beb ._ffd ;if !_gf .isAbsolute (){_aa ,_bba =_afa +_aa -_beb .ViewBox .X ,_gcd +_bba -_beb .ViewBox .Y ;
};_ad .Add_m (_bebb (_aa ,3),_bebb (_bba ,3));_afa ,_gcd =_aa ,_bba ;case "\u0063":_dc ,_fab ,_ge ,_adb ,_fgf ,_dgg :=_gf .Params [0]*_beb ._ffd ,_gf .Params [1]*_beb ._ffd ,_gf .Params [2]*_beb ._ffd ,_gf .Params [3]*_beb ._ffd ,_gf .Params [4]*_beb ._ffd ,_gf .Params [5]*_beb ._ffd ;
if !_gf .isAbsolute (){_dc ,_fab ,_ge ,_adb ,_fgf ,_dgg =_afa +_dc ,_gcd +_fab ,_afa +_ge ,_gcd +_adb ,_afa +_fgf ,_gcd +_dgg ;};_ad .Add_c (_bebb (_dc ,3),_bebb (_fab ,3),_bebb (_ge ,3),_bebb (_adb ,3),_bebb (_fgf ,3),_bebb (_dgg ,3));_afa ,_gcd =_fgf ,_dgg ;
case "\u0073":_fcd ,_cg ,_bg ,_gff :=_gf .Params [0]*_beb ._ffd ,_gf .Params [1]*_beb ._ffd ,_gf .Params [2]*_beb ._ffd ,_gf .Params [3]*_beb ._ffd ;if !_gf .isAbsolute (){_fcd ,_cg ,_bg ,_gff =_afa +_fcd ,_gcd +_cg ,_afa +_bg ,_gcd +_gff ;};_ad .Add_c (_bebb (_afa ,3),_bebb (_gcd ,3),_bebb (_fcd ,3),_bebb (_cg ,3),_bebb (_bg ,3),_bebb (_gff ,3));
_afa ,_gcd =_bg ,_gff ;case "\u006c":_gb ,_ac :=_gf .Params [0]*_beb ._ffd ,_gf .Params [1]*_beb ._ffd ;if !_gf .isAbsolute (){_gb ,_ac =_afa +_gb ,_gcd +_ac ;};_ad .Add_l (_bebb (_gb ,3),_bebb (_ac ,3));_afa ,_gcd =_gb ,_ac ;case "\u0068":_bgf :=_gf .Params [0]*_beb ._ffd ;
if !_gf .isAbsolute (){_bgf =_afa +_bgf ;};_ad .Add_l (_bebb (_bgf ,3),_bebb (_gcd ,3));_afa =_bgf ;case "\u0076":_ae :=_gf .Params [0]*_beb ._ffd ;if !_gf .isAbsolute (){_ae =_gcd +_ae ;};_ad .Add_l (_bebb (_afa ,3),_bebb (_ae ,3));_gcd =_ae ;case "\u0071":_ec ,_ea ,_adbf ,_ade :=_gf .Params [0]*_beb ._ffd ,_gf .Params [1]*_beb ._ffd ,_gf .Params [2]*_beb ._ffd ,_gf .Params [3]*_beb ._ffd ;
if !_gf .isAbsolute (){_ec ,_ea ,_adbf ,_ade =_afa +_ec ,_gcd +_ea ,_afa +_adbf ,_gcd +_ade ;};_cgc ,_agf :=_c .QuadraticToCubicBezier (_afa ,_gcd ,_ec ,_ea ,_adbf ,_ade );_ad .Add_c (_bebb (_cgc .X ,3),_bebb (_cgc .Y ,3),_bebb (_agf .X ,3),_bebb (_agf .Y ,3),_bebb (_adbf ,3),_bebb (_ade ,3));
_afa ,_gcd =_adbf ,_ade ;case "\u0074":var _fcb ,_ggb _c .Point ;_cd ,_gec :=_gf .Params [0]*_beb ._ffd ,_gf .Params [1]*_beb ._ffd ;if !_gf .isAbsolute (){_cd ,_gec =_afa +_cd ,_gcd +_gec ;};if _gdb !=nil &&_f .ToLower (_gdb .Symbol )=="\u0071"{_cgcf :=_c .Point {X :_gdb .Params [0]*_beb ._ffd ,Y :_gdb .Params [1]*_beb ._ffd };
_fbf :=_c .Point {X :_gdb .Params [2]*_beb ._ffd ,Y :_gdb .Params [3]*_beb ._ffd };_gge :=_fbf .Mul (2.0).Sub (_cgcf );_fcb ,_ggb =_c .QuadraticToCubicBezier (_afa ,_gcd ,_gge .X ,_gge .Y ,_cd ,_gec );};_ad .Add_c (_bebb (_fcb .X ,3),_bebb (_fcb .Y ,3),_bebb (_ggb .X ,3),_bebb (_ggb .Y ,3),_bebb (_cd ,3),_bebb (_gec ,3));
_afa ,_gcd =_cd ,_gec ;case "\u0061":_dfdg ,_agg :=_gf .Params [0]*_beb ._ffd ,_gf .Params [1]*_beb ._ffd ;_bdc :=_gf .Params [2];_ged :=_gf .Params [3]> 0;_ccc :=_gf .Params [4]> 0;_ef ,_aad :=_gf .Params [5]*_beb ._ffd ,_gf .Params [6]*_beb ._ffd ;if !_gf .isAbsolute (){_ef ,_aad =_afa +_ef ,_gcd +_aad ;
};_eda :=_c .EllipseToCubicBeziers (_afa ,_gcd ,_dfdg ,_agg ,_bdc ,_ged ,_ccc ,_ef ,_aad );for _ ,_aaa :=range _eda {_ad .Add_c (_bebb (_aaa [1].X ,3),_bebb ((_aaa [1].Y ),3),_bebb ((_aaa [2].X ),3),_bebb ((_aaa [2].Y ),3),_bebb ((_aaa [3].X ),3),_bebb ((_aaa [3].Y ),3));
};_afa ,_gcd =_ef ,_aad ;case "\u007a":_ad .Add_h ();};_gdb =_gf ;};};_beb .Style .fillStroke (_ad );_ad .Add_h ();_ad .Add_Q ();};func (_ceg *Path )compare (_gbgf *Path )bool {if len (_ceg .Subpaths )!=len (_gbgf .Subpaths ){return false ;};for _fggd ,_cgee :=range _ceg .Subpaths {if !_cgee .compare (_gbgf .Subpaths [_fggd ]){return false ;
};};return true ;};func _add (_ggbfd string )(_caac ,_ddb ,_faca float64 ){if (len (_ggbfd )!=4&&len (_ggbfd )!=7)||_ggbfd [0]!='#'{_bf .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_ggbfd );
return _caac ,_ddb ,_faca ;};var _bgae ,_agcg ,_fdgc int ;if len (_ggbfd )==4{var _ffgfb ,_abcc ,_ccfc int ;_bdgf ,_acgb :=_g .Sscanf (_ggbfd ,"\u0023\u0025\u0031\u0078\u0025\u0031\u0078\u0025\u0031\u0078",&_ffgfb ,&_abcc ,&_ccfc );if _acgb !=nil {_bf .Log .Debug ("\u0049\u006e\u0076a\u006c\u0069\u0064\u0020h\u0065\u0078\u0020\u0063\u006f\u0064\u0065:\u0020\u0025\u0073\u002c\u0020\u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_ggbfd ,_acgb );
return _caac ,_ddb ,_faca ;};if _bdgf !=3{_bf .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_ggbfd );return _caac ,_ddb ,_faca ;};_bgae =_ffgfb *16+_ffgfb ;_agcg =_abcc *16+_abcc ;_fdgc =_ccfc *16+_ccfc ;
}else {_cag ,_abcf :=_g .Sscanf (_ggbfd ,"\u0023\u0025\u0032\u0078\u0025\u0032\u0078\u0025\u0032\u0078",&_bgae ,&_agcg ,&_fdgc );if _abcf !=nil {_bf .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_ggbfd );
return _caac ,_ddb ,_faca ;};if _cag !=3{_bf .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069d\u0020\u0068\u0065\u0078\u0020\u0063\u006f\u0064\u0065\u003a\u0020\u0025\u0073,\u0020\u006e\u0020\u0021\u003d\u0020\u0033 \u0028\u0025\u0064\u0029",_ggbfd ,_cag );
return _caac ,_ddb ,_faca ;};};_dced :=float64 (_bgae )/255.0;_ecfg :=float64 (_agcg )/255.0;_dbf :=float64 (_fdgc )/255.0;return _dced ,_ecfg ,_dbf ;};func ParseFromString (svgStr string )(*GraphicSVG ,error ){return ParseFromStream (_f .NewReader (svgStr ));
};func (_fbed *GraphicSVG )SetScaling (xFactor ,yFactor float64 ){_efgg :=_fbed .Width /_fbed .ViewBox .W ;_beg :=_fbed .Height /_fbed .ViewBox .H ;_fbed .setDefaultScaling (_da .Max (_efgg ,_beg ));for _ ,_fcc :=range _fbed .Children {_fcc .SetScaling (xFactor ,yFactor );
};};func (_adf *GraphicSVGStyle )fillStroke (_eec *_a .ContentCreator ){if _adf .FillColor !=""&&_adf .StrokeColor !=""{_eec .Add_B ();}else if _adf .FillColor !=""{_eec .Add_f ();}else if _adf .StrokeColor !=""{_eec .Add_S ();};};func _fcg (_ggf *GraphicSVG ,_bgd *_a .ContentCreator ,_fff *_dd .PdfPageResources ){_bgd .Add_q ();
_ggf .Style .toContentStream (_bgd ,_fff );_deb ,_eb :=_bbab (_ggf .Attributes ["\u0063\u0078"],64);if _eb !=nil {_bf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_eb .Error ());
};_efa ,_eb :=_bbab (_ggf .Attributes ["\u0063\u0079"],64);if _eb !=nil {_bf .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_eb .Error ());
};_bag ,_eb :=_bbab (_ggf .Attributes ["\u0072"],64);if _eb !=nil {_bf .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0072\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_eb .Error ());
};_cf :=_bag *_ggf ._ffd ;_dea :=_bag *_ggf ._ffd ;_dag :=_cf *_bd ;_bgc :=_dea *_bd ;_gcg :=_gd .NewCubicBezierPath ();_gcg =_gcg .AppendCurve (_gd .NewCubicBezierCurve (-_cf ,0,-_cf ,_bgc ,-_dag ,_dea ,0,_dea ));_gcg =_gcg .AppendCurve (_gd .NewCubicBezierCurve (0,_dea ,_dag ,_dea ,_cf ,_bgc ,_cf ,0));
_gcg =_gcg .AppendCurve (_gd .NewCubicBezierCurve (_cf ,0,_cf ,-_bgc ,_dag ,-_dea ,0,-_dea ));_gcg =_gcg .AppendCurve (_gd .NewCubicBezierCurve (0,-_dea ,-_dag ,-_dea ,-_cf ,-_bgc ,-_cf ,0));_gcg =_gcg .Offset (_deb *_ggf ._ffd ,_efa *_ggf ._ffd );if _ggf .Style .StrokeWidth > 0{_gcg =_gcg .Offset (_ggf .Style .StrokeWidth /2,_ggf .Style .StrokeWidth /2);
};_gd .DrawBezierPathWithCreator (_gcg ,_bgd );_ggf .Style .fillStroke (_bgd );_bgd .Add_h ();_bgd .Add_Q ();};func _ead (_fbeag string )([]float64 ,error ){_bfbg :=-1;var _aga []float64 ;_fgfc :=' ';for _cabb ,_feg :=range _fbeag {if !_d .IsNumber (_feg )&&_feg !='.'&&!(_feg =='-'&&_fgfc =='e')&&_feg !='e'{if _bfbg !=-1{_egd ,_efggb :=_gaag (_fbeag [_bfbg :_cabb ]);
if _efggb !=nil {return _aga ,_efggb ;};_aga =append (_aga ,_egd ...);};if _feg =='-'{_bfbg =_cabb ;}else {_bfbg =-1;};}else if _bfbg ==-1{_bfbg =_cabb ;};_fgfc =_feg ;};if _bfbg !=-1&&_bfbg !=len (_fbeag ){_dbg ,_eabd :=_gaag (_fbeag [_bfbg :]);if _eabd !=nil {return _aga ,_eabd ;
};_aga =append (_aga ,_dbg ...);};return _aga ,nil ;};type GraphicSVGStyle struct{FillColor string ;StrokeColor string ;StrokeWidth float64 ;FillOpacity float64 ;};func _bebb (_gbc float64 ,_fbbf int )float64 {_cce :=_da .Pow (10,float64 (_fbbf ));return float64 (_ffee (_gbc *_cce ))/_cce ;
};type commands struct{_adbc []string ;_abca map[string ]int ;_bffb string ;_edef string ;};func _daaf (_fbd *GraphicSVG ,_aeb *_a .ContentCreator ,_gba *_dd .PdfPageResources ){_aeb .Add_BT ();_baf ,_agbe :=_bbab (_fbd .Attributes ["\u0078"],64);if _agbe !=nil {_bf .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0078\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_agbe .Error ());
};_dgf ,_agbe :=_bbab (_fbd .Attributes ["\u0079"],64);if _agbe !=nil {_bf .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0079\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_agbe .Error ());
};_edgf :=_fbd .Attributes ["\u0066\u0069\u006c\u006c"];var _caae ,_dcf ,_cge float64 ;if _cea ,_cdg :=_c .ColorMap [_edgf ];_cdg {_bdd ,_cdb ,_ebb ,_ :=_cea .RGBA ();_caae ,_dcf ,_cge =float64 (_bdd ),float64 (_cdb ),float64 (_ebb );}else if _f .HasPrefix (_edgf ,"\u0072\u0067\u0062\u0028"){_caae ,_dcf ,_cge =_aag (_edgf );
}else {_caae ,_dcf ,_cge =_add (_edgf );};_aeb .Add_rg (_caae ,_dcf ,_cge );_fcgd :=_bb ;if _fce ,_ffe :=_fbd .Attributes ["\u0066o\u006e\u0074\u002d\u0073\u0069\u007ae"];_ffe {_fcgd ,_agbe =_df .ParseFloat (_fce ,64);if _agbe !=nil {_bf .Log .Debug ("\u0045\u0072\u0072\u006f\u0072 \u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067 \u0060\u0066\u006f\u006e\u0074\u002d\u0073\u0069\u007a\u0065\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_agbe .Error ());
_fcgd =_bb ;};};_agc :=_fbd ._ffd *_fcgd *_fg /_fb ;_ecb :=_dfd .PdfObjectName ("\u0053\u0046\u006fn\u0074");_daaa :=_dd .DefaultFont ();_edggg ,_dfa :=_fbd .Attributes ["f\u006f\u006e\u0074\u002d\u0066\u0061\u006d\u0069\u006c\u0079"];if _dfa {if _ebg ,_fae :=_gbf (_edggg );
_fae ==nil {_daaa =_ebg ;_cbe :=1;for _gba .HasFontByName (_ecb ){_ecb =_dfd .PdfObjectName ("\u0053\u0046\u006fn\u0074"+_df .Itoa (_cbe ));_cbe ++;};};};_aed :=0.0;_dfg ,_dfa :=_fbd .Attributes ["t\u0065\u0078\u0074\u002d\u0061\u006e\u0063\u0068\u006f\u0072"];
if _dfa &&_dfg !="\u0073\u0074\u0061r\u0074"{var _egf float64 ;for _ ,_dab :=range _fbd .Content {_geef ,_aab :=_daaa .GetRuneMetrics (_dab );if !_aab {_bf .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0075\u006e\u0073\u0075\u0070\u0070\u006fr\u0074e\u0064 \u0072u\u006e\u0065\u0020\u0025\u0076\u0020\u0069\u006e\u0020\u0066\u006f\u006e\u0074",_dab );
};_egf +=_geef .Wx ;};_egf =_egf *_agc /1000.0;if _dfg =="\u006d\u0069\u0064\u0064\u006c\u0065"{_aed =-_egf /2;}else if _dfg =="\u0065\u006e\u0064"{_aed =-_egf ;};};_aeb .Add_Tm (1,0,0,-1,_baf *_fbd ._ffd +_aed ,_dgf *_fbd ._ffd );_gba .SetFontByName (_ecb ,_daaa .ToPdfObject ());
_aeb .Add_Tf (_ecb ,_agc );_ffg :=_fbd .Content ;_bff :=_dfd .MakeString (_ffg );_aeb .Add_Tj (*_bff );_aeb .Add_ET ();};func _ccg (_bdcb *GraphicSVG ,_fcga *_a .ContentCreator ){_bcce ,_cfg :=_bdcb .Attributes ["\u0074r\u0061\u006e\u0073\u0066\u006f\u0072m"];
if _cfg {_bffc :=_f .Fields (_bcce );for _ ,_db :=range _bffc {_cdd :=_f .FieldsFunc (_db ,_ffea );if len (_cdd )< 3{_bf .Log .Debug ("\u0063\u0061\u006e't\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0074\u0072a\u006es\u0066o\u0072m\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u0025\u0076",_bcce );
return ;};_ffgf ,_bbc :=_bbab (_cdd [1],64);if _bbc !=nil {_bf .Log .Debug ("\u0063\u0061\u006e't\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0074\u0072a\u006es\u0066o\u0072m\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u0025\u0076",_bcce );
return ;};_gbg ,_bbc :=_bbab (_cdd [2],64);if _bbc !=nil {_bf .Log .Debug ("\u0063\u0061\u006e't\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0074\u0072a\u006es\u0066o\u0072m\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u0025\u0076",_bcce );
return ;};if _cdd [0]=="\u0074r\u0061\u006e\u0073\u006c\u0061\u0074e"{_fcga .Translate (_ffgf ,_gbg );}else if _cdd [0]=="\u0073\u0063\u0061l\u0065"{_fcga .Scale (_ffgf ,_gbg );}else {_bf .Log .Debug ("\u0063\u0061\u006e't\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0074\u0072a\u006es\u0066o\u0072m\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u0025\u0076",_bcce );
return ;};};};};func _ffee (_cba float64 )int {return int (_cba +_da .Copysign (0.5,_cba ))};func _ee (_gfb *GraphicSVG ,_dfb *_a .ContentCreator ,_ff *_dd .PdfPageResources ){_dfb .Add_q ();_gfb .Style .toContentStream (_dfb ,_ff );_fd ,_ba :=_bbab (_gfb .Attributes ["\u0078"],64);
if _ba !=nil {_bf .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0078\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_ba .Error ());};_gce ,_ba :=_bbab (_gfb .Attributes ["\u0079"],64);
if _ba !=nil {_bf .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0079\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_ba .Error ());};_fgd ,_ba :=_bbab (_gfb .Attributes ["\u0077\u0069\u0064t\u0068"],64);
if _ba !=nil {_bf .Log .Debug ("\u0045\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0077\u0069\u0064\u0074\u0068\u0020v\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_ba .Error ());
};_ca ,_ba :=_bbab (_gfb .Attributes ["\u0068\u0065\u0069\u0067\u0068\u0074"],64);if _ba !=nil {_bf .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077h\u0069\u006c\u0065 \u0070\u0061\u0072\u0073i\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0068\u0065\u0069\u0067\u0068\u0074\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_ba .Error ());
};_dfb .Add_re (_fd *_gfb ._ffd ,_gce *_gfb ._ffd ,_fgd *_gfb ._ffd ,_ca *_gfb ._ffd );_gfb .Style .fillStroke (_dfb );_dfb .Add_Q ();};func _afg (_fffd string )(*Path ,error ){_cbfd =_fede ();_geg ,_baba :=_aeg (_fdac (_fffd ));if _baba !=nil {return nil ,_baba ;
};return _bgcd (_geg ),nil ;};func _gbf (_efe string )(*_dd .PdfFont ,error ){_deaa ,_aee :=map[string ]_dd .StdFontName {"\u0063o\u0075\u0072\u0069\u0065\u0072":_dd .CourierName ,"\u0063\u006f\u0075r\u0069\u0065\u0072\u002d\u0062\u006f\u006c\u0064":_dd .CourierBoldName ,"\u0063o\u0075r\u0069\u0065\u0072\u002d\u006f\u0062\u006c\u0069\u0071\u0075\u0065":_dd .CourierObliqueName ,"c\u006fu\u0072\u0069\u0065\u0072\u002d\u0062\u006f\u006cd\u002d\u006f\u0062\u006ciq\u0075\u0065":_dd .CourierBoldObliqueName ,"\u0068e\u006c\u0076\u0065\u0074\u0069\u0063a":_dd .HelveticaName ,"\u0068\u0065\u006c\u0076\u0065\u0074\u0069\u0063\u0061-\u0062\u006f\u006c\u0064":_dd .HelveticaBoldName ,"\u0068\u0065\u006c\u0076\u0065\u0074\u0069\u0063\u0061\u002d\u006f\u0062l\u0069\u0071\u0075\u0065":_dd .HelveticaObliqueName ,"\u0068\u0065\u006c\u0076et\u0069\u0063\u0061\u002d\u0062\u006f\u006c\u0064\u002d\u006f\u0062\u006c\u0069\u0071u\u0065":_dd .HelveticaBoldObliqueName ,"\u0073\u0079\u006d\u0062\u006f\u006c":_dd .SymbolName ,"\u007a\u0061\u0070\u0066\u002d\u0064\u0069\u006e\u0067\u0062\u0061\u0074\u0073":_dd .ZapfDingbatsName ,"\u0074\u0069\u006de\u0073":_dd .TimesRomanName ,"\u0074\u0069\u006d\u0065\u0073\u002d\u0062\u006f\u006c\u0064":_dd .TimesBoldName ,"\u0074\u0069\u006de\u0073\u002d\u0069\u0074\u0061\u006c\u0069\u0063":_dd .TimesItalicName ,"\u0074\u0069\u006d\u0065\u0073\u002d\u0062\u006f\u006c\u0064\u002d\u0069t\u0061\u006c\u0069\u0063":_dd .TimesBoldItalicName }[_efe ];
if !_aee {return nil ,_g .Errorf ("\u0066\u006f\u006e\u0074\u002df\u0061\u006d\u0069\u006c\u0079\u0020\u0025\u0073\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064\u0020\u0069\u006e\u0020\u0074\u0068\u0065\u0020\u0073\u0074\u0061\u006e\u0064\u0061\u0072\u0064\u0020\u0066\u006f\u006e\u0074\u0073\u0020\u006c\u0069\u0073t",_efe );
};_acg ,_ggec :=_dd .NewStandard14Font (_deaa );if _ggec !=nil {return nil ,_ggec ;};return _acg ,nil ;};func (_fbb *GraphicSVG )setDefaultScaling (_ffed float64 ){_fbb ._ffd =_ffed ;if _fbb .Style !=nil &&_fbb .Style .StrokeWidth > 0{_fbb .Style .StrokeWidth =_fbb .Style .StrokeWidth *_fbb ._ffd ;
};for _ ,_fffb :=range _fbb .Children {_fffb .setDefaultScaling (_ffed );};};func (_fbcf *Subpath )compare (_gbgc *Subpath )bool {if len (_fbcf .Commands )!=len (_gbgc .Commands ){return false ;};for _bbf ,_bfb :=range _fbcf .Commands {if !_bfb .compare (_gbgc .Commands [_bbf ]){return false ;
};};return true ;};func (_geec *GraphicSVG )Decode (decoder *_bc .Decoder )error {for {_fe ,_abfa :=decoder .Token ();if _fe ==nil &&_abfa ==_daa .EOF {break ;};if _abfa !=nil {return _abfa ;};switch _dda :=_fe .(type ){case _bc .StartElement :_aae :=_ggd (_dda );
_fdb :=_aae .Decode (decoder );if _fdb !=nil {return _fdb ;};_geec .Children =append (_geec .Children ,_aae );case _bc .CharData :_fceb :=_f .TrimSpace (string (_dda ));if _fceb !=""{_geec .Content =string (_dda );};case _bc .EndElement :if _dda .Name .Local ==_geec .Name {return nil ;
};};};return nil ;};func (_daf *GraphicSVG )ToContentCreator (cc *_a .ContentCreator ,res *_dd .PdfPageResources ,scaleX ,scaleY ,translateX ,translateY float64 )*_a .ContentCreator {if _daf .Name =="\u0073\u0076\u0067"{_daf .SetScaling (scaleX ,scaleY );
cc .Add_cm (1,0,0,1,translateX ,translateY );_daf .setDefaultScaling (_daf ._ffd );cc .Add_q ();_fced :=_da .Max (scaleX ,scaleY );cc .Add_re (_daf .ViewBox .X *_fced ,_daf .ViewBox .Y *_fced ,_daf .ViewBox .W *_fced ,_daf .ViewBox .H *_fced );cc .Add_W ();
cc .Add_n ();for _ ,_eeg :=range _daf .Children {_eeg .ViewBox =_daf .ViewBox ;_eeg .toContentStream (cc ,res );};cc .Add_Q ();return cc ;};return nil ;};type Subpath struct{Commands []*Command ;};func (_bafd *Command )compare (_fge *Command )bool {if _bafd .Symbol !=_fge .Symbol {return false ;
};for _fbae ,_eca :=range _bafd .Params {if _eca !=_fge .Params [_fbae ]{return false ;};};return true ;};func _fdac (_gfbc string )[]token {var (_bef []token ;_aefaa string ;);for _ ,_dcge :=range _gfbc {_cfggf :=string (_dcge );switch {case _cbfd .isCommand (_cfggf ):_bef ,_aefaa =_gbb (_bef ,_aefaa );
_bef =append (_bef ,token {_cfggf ,true });case _cfggf =="\u002e":if _aefaa ==""{_aefaa ="\u0030";};if _f .Contains (_aefaa ,_cfggf ){_bef =append (_bef ,token {_aefaa ,false });_aefaa ="\u0030";};fallthrough;case _cfggf >="\u0030"&&_cfggf <="\u0039"||_cfggf =="\u0065":_aefaa +=_cfggf ;
case _cfggf =="\u002d":if _f .HasSuffix (_aefaa ,"\u0065"){_aefaa +=_cfggf ;}else {_bef ,_ =_gbb (_bef ,_aefaa );_aefaa =_cfggf ;};default:_bef ,_aefaa =_gbb (_bef ,_aefaa );};};_bef ,_ =_gbb (_bef ,_aefaa );return _bef ;};type token struct{_bdbc string ;
_gfc bool ;};func _ffc (_acd *_bc .Decoder )(*GraphicSVG ,error ){for {_ffb ,_gbaa :=_acd .Token ();if _ffb ==nil &&_gbaa ==_daa .EOF {break ;};if _gbaa !=nil {return nil ,_gbaa ;};switch _ebc :=_ffb .(type ){case _bc .StartElement :return _ggd (_ebc ),nil ;
};};return &GraphicSVG {},nil ;};type pathParserError struct{_eea string };type Command struct{Symbol string ;Params []float64 ;};func _ggc ()*GraphicSVGStyle {return &GraphicSVGStyle {FillColor :"\u00230\u0030\u0030\u0030\u0030\u0030",StrokeColor :"",StrokeWidth :0,FillOpacity :1.0};
};func (_adfe *commands )isCommand (_bfe string )bool {for _ ,_gfbe :=range _adfe ._adbc {if _f .ToLower (_bfe )==_gfbe {return true ;};};return false ;};func ParseFromFile (path string )(*GraphicSVG ,error ){_eagb ,_bdcbg :=_gg .Open (path );if _bdcbg !=nil {return nil ,_bdcbg ;
};defer _eagb .Close ();return ParseFromStream (_eagb );};