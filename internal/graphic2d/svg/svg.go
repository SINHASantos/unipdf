//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package svg ;import (_g "encoding/xml";_b "fmt";_c "github.com/unidoc/unipdf/v3/common";_eed "github.com/unidoc/unipdf/v3/contentstream";_eeg "github.com/unidoc/unipdf/v3/contentstream/draw";_dc "github.com/unidoc/unipdf/v3/core";_ee "github.com/unidoc/unipdf/v3/internal/graphic2d";
_aef "github.com/unidoc/unipdf/v3/internal/precision";_cd "github.com/unidoc/unipdf/v3/model";_f "golang.org/x/net/html/charset";_d "io";_ae "math";_e "os";_ef "strconv";_df "strings";_ab "unicode";);func (_bgec *Subpath )compare (_gcd *Subpath )bool {if len (_bgec .Commands )!=len (_gcd .Commands ){return false ;
};for _gcb ,_gda :=range _bgec .Commands {if !_gda .compare (_gcd .Commands [_gcb ]){return false ;};};return true ;};func _ddcd (_bgce float64 )int {return int (_bgce +_ae .Copysign (0.5,_bgce ))};func _aee (_fca []*Command )*Path {_addf :=&Path {};var _gdg []*Command ;
for _ebfc ,_dege :=range _fca {switch _df .ToLower (_dege .Symbol ){case _ccaf ._abd :if len (_gdg )> 0{_addf .Subpaths =append (_addf .Subpaths ,&Subpath {_gdg });};_gdg =[]*Command {_dege };case _ccaf ._eagd :_gdg =append (_gdg ,_dege );_addf .Subpaths =append (_addf .Subpaths ,&Subpath {_gdg });
_gdg =[]*Command {};default:_gdg =append (_gdg ,_dege );if len (_fca )==_ebfc +1{_addf .Subpaths =append (_addf .Subpaths ,&Subpath {_gdg });};};};return _addf ;};type Path struct{Subpaths []*Subpath ;};type commands struct{_eceg []string ;_aefcf map[string ]int ;
_abd string ;_eagd string ;};func _dae (_eee string )(*_cd .PdfFont ,error ){_gcf ,_eedca :=map[string ]_cd .StdFontName {"\u0063o\u0075\u0072\u0069\u0065\u0072":_cd .CourierName ,"\u0063\u006f\u0075r\u0069\u0065\u0072\u002d\u0062\u006f\u006c\u0064":_cd .CourierBoldName ,"\u0063o\u0075r\u0069\u0065\u0072\u002d\u006f\u0062\u006c\u0069\u0071\u0075\u0065":_cd .CourierObliqueName ,"c\u006fu\u0072\u0069\u0065\u0072\u002d\u0062\u006f\u006cd\u002d\u006f\u0062\u006ciq\u0075\u0065":_cd .CourierBoldObliqueName ,"\u0068e\u006c\u0076\u0065\u0074\u0069\u0063a":_cd .HelveticaName ,"\u0068\u0065\u006c\u0076\u0065\u0074\u0069\u0063\u0061-\u0062\u006f\u006c\u0064":_cd .HelveticaBoldName ,"\u0068\u0065\u006c\u0076\u0065\u0074\u0069\u0063\u0061\u002d\u006f\u0062l\u0069\u0071\u0075\u0065":_cd .HelveticaObliqueName ,"\u0068\u0065\u006c\u0076et\u0069\u0063\u0061\u002d\u0062\u006f\u006c\u0064\u002d\u006f\u0062\u006c\u0069\u0071u\u0065":_cd .HelveticaBoldObliqueName ,"\u0073\u0079\u006d\u0062\u006f\u006c":_cd .SymbolName ,"\u007a\u0061\u0070\u0066\u002d\u0064\u0069\u006e\u0067\u0062\u0061\u0074\u0073":_cd .ZapfDingbatsName ,"\u0074\u0069\u006de\u0073":_cd .TimesRomanName ,"\u0074\u0069\u006d\u0065\u0073\u002d\u0062\u006f\u006c\u0064":_cd .TimesBoldName ,"\u0074\u0069\u006de\u0073\u002d\u0069\u0074\u0061\u006c\u0069\u0063":_cd .TimesItalicName ,"\u0074\u0069\u006d\u0065\u0073\u002d\u0062\u006f\u006c\u0064\u002d\u0069t\u0061\u006c\u0069\u0063":_cd .TimesBoldItalicName }[_eee ];
if !_eedca {return nil ,_b .Errorf ("\u0066\u006f\u006e\u0074\u002df\u0061\u006d\u0069\u006c\u0079\u0020\u0025\u0073\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064\u0020\u0069\u006e\u0020\u0074\u0068\u0065\u0020\u0073\u0074\u0061\u006e\u0064\u0061\u0072\u0064\u0020\u0066\u006f\u006e\u0074\u0073\u0020\u006c\u0069\u0073t",_eee );
};_gedf ,_gbba :=_cd .NewStandard14Font (_gcf );if _gbba !=nil {return nil ,_gbba ;};return _gedf ,nil ;};func _agc (_ega _g .StartElement )*GraphicSVG {_ebff :=&GraphicSVG {};_efe :=make (map[string ]string );for _ ,_dfad :=range _ega .Attr {_efe [_dfad .Name .Local ]=_dfad .Value ;
};_ebff .Name =_ega .Name .Local ;_ebff .Attributes =_efe ;_ebff ._adb =1;if _ebff .Name =="\u0073\u0076\u0067"{_bgdf ,_ebg :=_cac (_efe ["\u0076i\u0065\u0077\u0042\u006f\u0078"]);if _ebg !=nil {_c .Log .Debug ("\u0055\u006ea\u0062\u006c\u0065\u0020t\u006f\u0020p\u0061\u0072\u0073\u0065\u0020\u0076\u0069\u0065w\u0042\u006f\u0078\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074e\u003a\u0020\u0025\u0076",_ebg );
return nil ;};if len (_bgdf )>=4{_ebff .ViewBox .X =_bgdf [0];_ebff .ViewBox .Y =_bgdf [1];_ebff .ViewBox .W =_bgdf [2];_ebff .ViewBox .H =_bgdf [3];};_ebff .Width =_ebff .ViewBox .W ;_ebff .Height =_ebff .ViewBox .H ;if _gec ,_aeca :=_efe ["\u0077\u0069\u0064t\u0068"];
_aeca {if _df .HasSuffix (_gec ,"\u0025"){_cgad ,_ffcf :=_ef .ParseFloat (_df .TrimSuffix (_gec ,"\u0025"),64);if _ffcf !=nil {_c .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0077\u0069\u0064\u0074\u0068\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_ffcf );
return nil ;};_ebff .Width =_cgad *_ebff .ViewBox .W ;}else {_ggfd ,_adab :=_eaca (_gec ,64);if _adab !=nil {_c .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0077\u0069\u0064\u0074\u0068\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_adab );
return nil ;};_ebff .Width =_ggfd ;if len (_bgdf )< 4{_ebff .ViewBox .W =_ggfd ;};};};if _fde ,_dfbg :=_efe ["\u0068\u0065\u0069\u0067\u0068\u0074"];_dfbg {if _df .HasSuffix (_fde ,"\u0025"){_abe ,_gebg :=_ef .ParseFloat (_df .TrimSuffix (_fde ,"\u0025"),64);
if _gebg !=nil {_c .Log .Debug ("\u0055\u006eab\u006c\u0065\u0020t\u006f\u0020\u0070\u0061rse\u0020he\u0069\u0067\u0068\u0074\u0020\u0061\u0074tr\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_gebg );return nil ;};_ebff .Height =_abe *_ebff .ViewBox .H ;
}else {_deec ,_aacb :=_eaca (_fde ,64);if _aacb !=nil {_c .Log .Debug ("\u0055\u006eab\u006c\u0065\u0020t\u006f\u0020\u0070\u0061rse\u0020he\u0069\u0067\u0068\u0074\u0020\u0061\u0074tr\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_aacb );return nil ;
};_ebff .Height =_deec ;if len (_bgdf )< 4{_ebff .ViewBox .H =_deec ;};};};if _ebff .Width > 0&&_ebff .Height > 0{_ebff ._adb =_ebff .Width /_ebff .ViewBox .W ;};};return _ebff ;};func _baa (_cfg string )(float64 ,error ){_cfg =_df .TrimSpace (_cfg );var _bgag float64 ;
if _df .HasSuffix (_cfg ,"\u0025"){_agea ,_bcca :=_ef .ParseFloat (_df .TrimSuffix (_cfg ,"\u0025"),64);if _bcca !=nil {return 0,_bcca ;};_bgag =_agea /100.0;}else {_gfeb ,_edfa :=_ef .ParseFloat (_cfg ,64);if _edfa !=nil {return 0,_edfa ;};_bgag =_gfeb ;
};return _bgag ,nil ;};type token struct{_ffaa string ;_eaa bool ;};func _ede (_dddf []float64 )[]float64 {for _fag ,_beaa :=0,len (_dddf )-1;_fag < _beaa ;_fag ,_beaa =_fag +1,_beaa -1{_dddf [_fag ],_dddf [_beaa ]=_dddf [_beaa ],_dddf [_fag ];};return _dddf ;
};func _bfe ()*GraphicSVGStyle {return &GraphicSVGStyle {FillColor :"\u00230\u0030\u0030\u0030\u0030\u0030",StrokeColor :"",StrokeWidth :0,FillOpacity :1.0};};func _cgae (_ddba string )(_fgff []float64 ,_gedc error ){var _fcd float64 ;_gbcg :=0;_gagf :=true ;
for _dgbb ,_dbdf :=range _ddba {if _dbdf =='.'{if _gagf {_gagf =false ;continue ;};_fcd ,_gedc =_eaca (_ddba [_gbcg :_dgbb ],64);if _gedc !=nil {return ;};_fgff =append (_fgff ,_fcd );_gbcg =_dgbb ;};};_fcd ,_gedc =_eaca (_ddba [_gbcg :],64);if _gedc !=nil {return ;
};_fgff =append (_fgff ,_fcd );return ;};func _eaca (_aeec string ,_gbe int )(float64 ,error ){_bgca ,_cbg :=_eefe (_aeec );_edb ,_geab :=_ef .ParseFloat (_bgca ,_gbe );if _geab !=nil {return 0,_geab ;};if _ecegd ,_aed :=_dgd [_cbg ];_aed {_edb =_edb *_ecegd ;
}else {_edb =_edb *_eg ;};return _edb ,nil ;};func (_bcb *GraphicSVGStyle )fillStroke (_fgd *_eed .ContentCreator ){if _bcb .FillColor !=""&&_bcb .StrokeColor !=""{_fgd .Add_B ();}else if _bcb .FillColor !=""{_fgd .Add_f ();}else if _bcb .StrokeColor !=""{_fgd .Add_S ();
};};func ParseFromFile (path string )(*GraphicSVG ,error ){_ceca ,_fbda :=_e .Open (path );if _fbda !=nil {return nil ,_fbda ;};defer _ceca .Close ();return ParseFromStream (_ceca );};func _cecb (_bce rune )bool {return _bce =='('||_bce ==','||_bce ==')'};
func (_deg *GraphicSVG )ToContentCreator (cc *_eed .ContentCreator ,res *_cd .PdfPageResources ,scaleX ,scaleY ,translateX ,translateY float64 )*_eed .ContentCreator {if _deg .Name =="\u0073\u0076\u0067"{_deg .SetScaling (scaleX ,scaleY );cc .Add_cm (1,0,0,1,translateX ,translateY );
_deg .setDefaultScaling (_deg ._adb );cc .Add_q ();_effc :=_ae .Max (scaleX ,scaleY );cc .Add_re (_deg .ViewBox .X *_effc ,_deg .ViewBox .Y *_effc ,_deg .ViewBox .W *_effc ,_deg .ViewBox .H *_effc );cc .Add_W ();cc .Add_n ();for _ ,_eec :=range _deg .Children {_eec .ViewBox =_deg .ViewBox ;
_eec .toContentStream (cc ,res );};cc .Add_Q ();return cc ;};return nil ;};func (_gcad *GraphicSVG )toContentStream (_afab *_eed .ContentCreator ,_deee *_cd .PdfPageResources ){_ceg ,_dad :=_beb (_gcad .Attributes ,_gcad ._adb );if _dad !=nil {_c .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0073\u0074\u0079\u006c\u0065\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_dad );
};_gcad .Style =_ceg ;switch _gcad .Name {case "\u0070\u0061\u0074\u0068":_cc (_gcad ,_afab ,_deee );for _ ,_ffc :=range _gcad .Children {_ffc .toContentStream (_afab ,_deee );};case "\u0072\u0065\u0063\u0074":_deb (_gcad ,_afab ,_deee );for _ ,_fdfb :=range _gcad .Children {_fdfb .toContentStream (_afab ,_deee );
};case "\u0063\u0069\u0072\u0063\u006c\u0065":_gc (_gcad ,_afab ,_deee );for _ ,_bagb :=range _gcad .Children {_bagb .toContentStream (_afab ,_deee );};case "\u0065l\u006c\u0069\u0070\u0073\u0065":_gb (_gcad ,_afab ,_deee );for _ ,_ea :=range _gcad .Children {_ea .toContentStream (_afab ,_deee );
};case "\u0070\u006f\u006c\u0079\u006c\u0069\u006e\u0065":_eedc (_gcad ,_afab ,_deee );for _ ,_ggd :=range _gcad .Children {_ggd .toContentStream (_afab ,_deee );};case "\u0070o\u006c\u0079\u0067\u006f\u006e":_gcc (_gcad ,_afab ,_deee );for _ ,_add :=range _gcad .Children {_add .toContentStream (_afab ,_deee );
};case "\u006c\u0069\u006e\u0065":_dcac (_gcad ,_afab ,_deee );for _ ,_gdd :=range _gcad .Children {_gdd .toContentStream (_afab ,_deee );};case "\u0074\u0065\u0078\u0074":_aag (_gcad ,_afab ,_deee );for _ ,_fec :=range _gcad .Children {_fec .toContentStream (_afab ,_deee );
};case "\u0067":_dce ,_eae :=_gcad .Attributes ["\u0066\u0069\u006c\u006c"];_fdbc ,_dcab :=_gcad .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];_gbca ,_aea :=_gcad .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];
_dfd ,_bfg :=_gcad .Attributes ["\u0074r\u0061\u006e\u0073\u0066\u006f\u0072m"];for _ ,_ecc :=range _gcad .Children {if _ ,_fee :=_ecc .Attributes ["\u0066\u0069\u006c\u006c"];!_fee &&_eae {_ecc .Attributes ["\u0066\u0069\u006c\u006c"]=_dce ;};if _ ,_gaf :=_ecc .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];
!_gaf &&_dcab {_ecc .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"]=_fdbc ;};if _ ,_dade :=_ecc .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];!_dade &&_aea {_ecc .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"]=_gbca ;
};if _ ,_dgdg :=_ecc .Attributes ["\u0074r\u0061\u006e\u0073\u0066\u006f\u0072m"];!_dgdg &&_bfg {_ecc .Attributes ["\u0074r\u0061\u006e\u0073\u0066\u006f\u0072m"]=_dfd ;};_ecc .toContentStream (_afab ,_deee );};};};func _cfdc (_ege string )[]token {var (_ddc []token ;
_dcdg string ;);for _ ,_fdfa :=range _ege {_ggb :=string (_fdfa );switch {case _ccaf .isCommand (_ggb ):_ddc ,_dcdg =_edfd (_ddc ,_dcdg );_ddc =append (_ddc ,token {_ggb ,true });case _ggb =="\u002e":if _dcdg ==""{_dcdg ="\u0030";};if _df .Contains (_dcdg ,_ggb ){_ddc =append (_ddc ,token {_dcdg ,false });
_dcdg ="\u0030";};fallthrough;case _ggb >="\u0030"&&_ggb <="\u0039"||_ggb =="\u0065":_dcdg +=_ggb ;case _ggb =="\u002d":if _df .HasSuffix (_dcdg ,"\u0065"){_dcdg +=_ggb ;}else {_ddc ,_ =_edfd (_ddc ,_dcdg );_dcdg =_ggb ;};default:_ddc ,_dcdg =_edfd (_ddc ,_dcdg );
};};_ddc ,_ =_edfd (_ddc ,_dcdg );return _ddc ;};func _aag (_gca *GraphicSVG ,_cec *_eed .ContentCreator ,_fdf *_cd .PdfPageResources ){_cec .Add_BT ();_ddee ,_gbc :=_eaca (_gca .Attributes ["\u0078"],64);if _gbc !=nil {_c .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0078\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_gbc .Error ());
};_bag ,_gbc :=_eaca (_gca .Attributes ["\u0079"],64);if _gbc !=nil {_c .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0079\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_gbc .Error ());
};_fe :=_gca .Attributes ["\u0066\u0069\u006c\u006c"];var _fbb ,_adac ,_ccg float64 ;if _gbb ,_af :=_ee .ColorMap [_fe ];_af {_cgc ,_gag ,_acg ,_ :=_gbb .RGBA ();_fbb ,_adac ,_ccg =float64 (_cgc ),float64 (_gag ),float64 (_acg );}else if _df .HasPrefix (_fe ,"\u0072\u0067\u0062\u0028"){_fbb ,_adac ,_ccg =_cdda (_fe );
}else {_fbb ,_adac ,_ccg =_afd (_fe );};_cec .Add_rg (_fbb ,_adac ,_ccg );_egg :=_dcd ;if _fdfe ,_cfaa :=_gca .Attributes ["\u0066o\u006e\u0074\u002d\u0073\u0069\u007ae"];_cfaa {_egg ,_gbc =_ef .ParseFloat (_fdfe ,64);if _gbc !=nil {_c .Log .Debug ("\u0045\u0072\u0072\u006f\u0072 \u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067 \u0060\u0066\u006f\u006e\u0074\u002d\u0073\u0069\u007a\u0065\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_gbc .Error ());
_egg =_dcd ;};};_gabd :=_gca ._adb *_egg *_gea /_ge ;_daa :=_dc .PdfObjectName ("\u0053\u0046\u006fn\u0074");_fcb :=_cd .DefaultFont ();_bga ,_ceb :=_gca .Attributes ["f\u006f\u006e\u0074\u002d\u0066\u0061\u006d\u0069\u006c\u0079"];if _ceb {if _bea ,_gaed :=_dae (_bga );
_gaed ==nil {_fcb =_bea ;_abc :=1;for _fdf .HasFontByName (_daa ){_daa =_dc .PdfObjectName ("\u0053\u0046\u006fn\u0074"+_ef .Itoa (_abc ));_abc ++;};};};_beab :=0.0;_cfb ,_ceb :=_gca .Attributes ["t\u0065\u0078\u0074\u002d\u0061\u006e\u0063\u0068\u006f\u0072"];
if _ceb &&_cfb !="\u0073\u0074\u0061r\u0074"{var _cgf float64 ;for _ ,_ccdg :=range _gca .Content {_eede ,_dfac :=_fcb .GetRuneMetrics (_ccdg );if !_dfac {_c .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0075\u006e\u0073\u0075\u0070\u0070\u006fr\u0074e\u0064 \u0072u\u006e\u0065\u0020\u0025\u0076\u0020\u0069\u006e\u0020\u0066\u006f\u006e\u0074",_ccdg );
};_cgf +=_eede .Wx ;};_cgf =_cgf *_gabd /1000.0;if _cfb =="\u006d\u0069\u0064\u0064\u006c\u0065"{_beab =-_cgf /2;}else if _cfb =="\u0065\u006e\u0064"{_beab =-_cgf ;};};_cec .Add_Tm (1,0,0,-1,_ddee *_gca ._adb +_beab ,_bag *_gca ._adb );_fdf .SetFontByName (_daa ,_fcb .ToPdfObject ());
_cec .Add_Tf (_daa ,_gabd );_bae :=_gca .Content ;_bad :=_dc .MakeString (_bae );_cec .Add_Tj (*_bad );_cec .Add_ET ();};func _cdda (_bfce string )(float64 ,float64 ,float64 ){_afg :=_df .TrimPrefix (_bfce ,"\u0072\u0067\u0062\u0028");_afg =_df .TrimSuffix (_afg ,"\u0029");
_gcca :=_df .Split (_afg ,"\u002c");if len (_gcca )!=3{_c .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u0072\u0067\u0062\u0020\u0063\u006fl\u006f\u0072\u0020\u0073\u0070\u0065\u0063i\u0066\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u003a\u0020%\u0073",_bfce );
return 0,0,0;};var _bgdb ,_gaef ,_dbb float64 ;_bgdb ,_fgee :=_dced (_gcca [0]);if _fgee !=nil {_c .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u0072\u0067\u0062\u0020\u0063\u006fl\u006f\u0072\u0020\u0073\u0070\u0065\u0063i\u0066\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u003a\u0020%\u0073",_bfce );
return 0,0,0;};_gaef ,_fgee =_dced (_gcca [1]);if _fgee !=nil {_c .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u0072\u0067\u0062\u0020\u0063\u006fl\u006f\u0072\u0020\u0073\u0070\u0065\u0063i\u0066\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u003a\u0020%\u0073",_bfce );
return 0,0,0;};_dbb ,_fgee =_dced (_gcca [2]);if _fgee !=nil {_c .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u0072\u0067\u0062\u0020\u0063\u006fl\u006f\u0072\u0020\u0073\u0070\u0065\u0063i\u0066\u0069\u0063\u0061\u0074\u0069\u006f\u006e\u003a\u0020%\u0073",_bfce );
return 0,0,0;};_fcag :=_bgdb /255.0;_cbe :=_gaef /255.0;_ffbg :=_dbb /255.0;return _fcag ,_cbe ,_ffbg ;};func _aefae (_dbf *_g .Decoder )(*GraphicSVG ,error ){for {_adf ,_fbbd :=_dbf .Token ();if _adf ==nil &&_fbbd ==_d .EOF {break ;};if _fbbd !=nil {return nil ,_fbbd ;
};switch _bfc :=_adf .(type ){case _g .StartElement :return _agc (_bfc ),nil ;};};return &GraphicSVG {},nil ;};func (_cbce *GraphicSVG )setDefaultScaling (_dcbg float64 ){_cbce ._adb =_dcbg ;if _cbce .Style !=nil &&_cbce .Style .StrokeWidth > 0{_cbce .Style .StrokeWidth =_cbce .Style .StrokeWidth *_cbce ._adb ;
};for _ ,_cfdg :=range _cbce .Children {_cfdg .setDefaultScaling (_dcbg );};};func ParseFromString (svgStr string )(*GraphicSVG ,error ){return ParseFromStream (_df .NewReader (svgStr ));};const (_eg =0.72;_dg =28.3464;_dcb =_dg /10;_da =0.551784;_ge =96;
_dcd =16.0;_gea float64 =72;);type GraphicSVGStyle struct{FillColor string ;StrokeColor string ;StrokeWidth float64 ;FillOpacity float64 ;};func _gfc (_bab *GraphicSVG ,_aab *_eed .ContentCreator ){_fdb ,_aebf :=_bab .Attributes ["\u0074r\u0061\u006e\u0073\u0066\u006f\u0072m"];
if _aebf {_afa :=_df .Fields (_fdb );for _ ,_ecb :=range _afa {_cga :=_df .FieldsFunc (_ecb ,_cecb );if len (_cga )< 3{_c .Log .Debug ("\u0063\u0061\u006e't\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0074\u0072a\u006es\u0066o\u0072m\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u0025\u0076",_fdb );
return ;};_bec ,_egbb :=_eaca (_cga [1],64);if _egbb !=nil {_c .Log .Debug ("\u0063\u0061\u006e't\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0074\u0072a\u006es\u0066o\u0072m\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u0025\u0076",_fdb );
return ;};_cad ,_egbb :=_eaca (_cga [2],64);if _egbb !=nil {_c .Log .Debug ("\u0063\u0061\u006e't\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0074\u0072a\u006es\u0066o\u0072m\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u0025\u0076",_fdb );
return ;};if _cga [0]=="\u0074r\u0061\u006e\u0073\u006c\u0061\u0074e"{_aab .Translate (_bec ,_cad );}else if _cga [0]=="\u0073\u0063\u0061l\u0065"{_aab .Scale (_bec ,_cad );}else {_c .Log .Debug ("\u0063\u0061\u006e't\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0074\u0072a\u006es\u0066o\u0072m\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u0025\u0076",_fdb );
return ;};};};};func _cac (_daee string )([]float64 ,error ){_adg :=-1;var _gdgb []float64 ;_ggbe :=' ';for _geac ,_bde :=range _daee {if !_ab .IsNumber (_bde )&&_bde !='.'&&!(_bde =='-'&&_ggbe =='e')&&_bde !='e'{if _adg !=-1{_ddbb ,_aaa :=_cgae (_daee [_adg :_geac ]);
if _aaa !=nil {return _gdgb ,_aaa ;};_gdgb =append (_gdgb ,_ddbb ...);};if _bde =='-'{_adg =_geac ;}else {_adg =-1;};}else if _adg ==-1{_adg =_geac ;};_ggbe =_bde ;};if _adg !=-1&&_adg !=len (_daee ){_cffd ,_fab :=_cgae (_daee [_adg :]);if _fab !=nil {return _gdgb ,_fab ;
};_gdgb =append (_gdgb ,_cffd ...);};return _gdgb ,nil ;};type pathParserError struct{_bgab string };func _eefe (_cffe string )(_cdcc ,_bgb string ){if _cffe ==""||(_cffe [len (_cffe )-1]>='0'&&_cffe [len (_cffe )-1]<='9'){return _cffe ,"";};_cdcc =_cffe ;
for _ ,_cfae :=range _aeb {if _df .Contains (_cdcc ,_cfae ){_bgb =_cfae ;};_cdcc =_df .TrimSuffix (_cdcc ,_cfae );};return ;};func (_gafe *Command )isAbsolute ()bool {return _gafe .Symbol ==_df .ToUpper (_gafe .Symbol )};func ParseFromStream (source _d .Reader )(*GraphicSVG ,error ){_bgcc :=_g .NewDecoder (source );
_bgcc .CharsetReader =_f .NewReaderLabel ;_ddd ,_agcb :=_aefae (_bgcc );if _agcb !=nil {return nil ,_agcb ;};if _cbbg :=_ddd .Decode (_bgcc );_cbbg !=nil &&_cbbg !=_d .EOF {return nil ,_cbbg ;};return _ddd ,nil ;};func _gcc (_adcd *GraphicSVG ,_ged *_eed .ContentCreator ,_dbcd *_cd .PdfPageResources ){_ged .Add_q ();
_adcd .Style .toContentStream (_ged ,_dbcd );_fbg ,_ece :=_cac (_adcd .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);if _ece !=nil {_c .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_ece );
return ;};if len (_fbg )%2> 0{_c .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _ced :=0;_ced < len (_fbg );{if _ced ==0{_ged .Add_m (_fbg [_ced ]*_adcd ._adb ,_fbg [_ced +1]*_adcd ._adb );}else {_ged .Add_l (_fbg [_ced ]*_adcd ._adb ,_fbg [_ced +1]*_adcd ._adb );};_ced +=2;};_ged .Add_l (_fbg [0]*_adcd ._adb ,_fbg [1]*_adcd ._adb );
_adcd .Style .fillStroke (_ged );_ged .Add_h ();_ged .Add_Q ();};func (_dfg *Command )compare (_gaga *Command )bool {if _dfg .Symbol !=_gaga .Symbol {return false ;};for _cfad ,_agcd :=range _dfg .Params {if _agcd !=_gaga .Params [_cfad ]{return false ;
};};return true ;};func _gc (_dgc *GraphicSVG ,_bbc *_eed .ContentCreator ,_cfa *_cd .PdfPageResources ){_bbc .Add_q ();_dgc .Style .toContentStream (_bbc ,_cfa );_ebf ,_cdbf :=_eaca (_dgc .Attributes ["\u0063\u0078"],64);if _cdbf !=nil {_c .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cdbf .Error ());
};_abg ,_cdbf :=_eaca (_dgc .Attributes ["\u0063\u0079"],64);if _cdbf !=nil {_c .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cdbf .Error ());
};_eda ,_cdbf :=_eaca (_dgc .Attributes ["\u0072"],64);if _cdbf !=nil {_c .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0072\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_cdbf .Error ());
};_dfe :=_eda *_dgc ._adb ;_ddae :=_eda *_dgc ._adb ;_fac :=_dfe *_da ;_dff :=_ddae *_da ;_caf :=_eeg .NewCubicBezierPath ();_caf =_caf .AppendCurve (_eeg .NewCubicBezierCurve (-_dfe ,0,-_dfe ,_dff ,-_fac ,_ddae ,0,_ddae ));_caf =_caf .AppendCurve (_eeg .NewCubicBezierCurve (0,_ddae ,_fac ,_ddae ,_dfe ,_dff ,_dfe ,0));
_caf =_caf .AppendCurve (_eeg .NewCubicBezierCurve (_dfe ,0,_dfe ,-_dff ,_fac ,-_ddae ,0,-_ddae ));_caf =_caf .AppendCurve (_eeg .NewCubicBezierCurve (0,-_ddae ,-_fac ,-_ddae ,-_dfe ,-_dff ,-_dfe ,0));_caf =_caf .Offset (_ebf *_dgc ._adb ,_abg *_dgc ._adb );
if _dgc .Style .StrokeWidth > 0{_caf =_caf .Offset (_dgc .Style .StrokeWidth /2,_dgc .Style .StrokeWidth /2);};_eeg .DrawBezierPathWithCreator (_caf ,_bbc );_dgc .Style .fillStroke (_bbc );_bbc .Add_h ();_bbc .Add_Q ();};var (_aeb =[]string {"\u0063\u006d","\u006d\u006d","\u0070\u0078","\u0070\u0074"};
_dgd =map[string ]float64 {"\u0063\u006d":_dg ,"\u006d\u006d":_dcb ,"\u0070\u0078":_eg ,"\u0070\u0074":1};);type Subpath struct{Commands []*Command ;};var _ccaf commands ;func (_gfab *GraphicSVG )Decode (decoder *_g .Decoder )error {for {_cddd ,_edg :=decoder .Token ();
if _cddd ==nil &&_edg ==_d .EOF {break ;};if _edg !=nil {return _edg ;};switch _aagc :=_cddd .(type ){case _g .StartElement :_ade :=_agc (_aagc );_bge :=_ade .Decode (decoder );if _bge !=nil {return _bge ;};_gfab .Children =append (_gfab .Children ,_ade );
case _g .CharData :_gad :=_df .TrimSpace (string (_aagc ));if _gad !=""{_gfab .Content =string (_aagc );};case _g .EndElement :if _aagc .Name .Local ==_gfab .Name {return nil ;};};};return nil ;};func _eedc (_ba *GraphicSVG ,_bc *_eed .ContentCreator ,_eef *_cd .PdfPageResources ){_bc .Add_q ();
_ba .Style .toContentStream (_bc ,_eef );_bcg ,_dcbe :=_cac (_ba .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);if _dcbe !=nil {_c .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_dcbe );
return ;};if len (_bcg )%2> 0{_c .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _agef :=0;_agef < len (_bcg );{if _agef ==0{_bc .Add_m (_bcg [_agef ]*_ba ._adb ,_bcg [_agef +1]*_ba ._adb );}else {_bc .Add_l (_bcg [_agef ]*_ba ._adb ,_bcg [_agef +1]*_ba ._adb );};_agef +=2;};_ba .Style .fillStroke (_bc );_bc .Add_h ();_bc .Add_Q ();
};func _dcac (_bdg *GraphicSVG ,_cbb *_eed .ContentCreator ,_cag *_cd .PdfPageResources ){_cbb .Add_q ();_bdg .Style .toContentStream (_cbb ,_cag );_ada ,_eff :=_eaca (_bdg .Attributes ["\u0078\u0031"],64);if _eff !=nil {_c .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_eff .Error ());
};_gce ,_eff :=_eaca (_bdg .Attributes ["\u0079\u0031"],64);if _eff !=nil {_c .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_eff .Error ());
};_face ,_eff :=_eaca (_bdg .Attributes ["\u0078\u0032"],64);if _eff !=nil {_c .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_eff .Error ());
};_ddg ,_eff :=_eaca (_bdg .Attributes ["\u0079\u0032"],64);if _eff !=nil {_c .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_eff .Error ());
};_cbb .Add_m (_ada *_bdg ._adb ,_gce *_bdg ._adb );_cbb .Add_l (_face *_bdg ._adb ,_ddg *_bdg ._adb );_bdg .Style .fillStroke (_cbb );_cbb .Add_h ();_cbb .Add_Q ();};func (_gcac *commands )isCommand (_acb string )bool {for _ ,_baee :=range _gcac ._eceg {if _df .ToLower (_acb )==_baee {return true ;
};};return false ;};func _gb (_be *GraphicSVG ,_ggf *_eed .ContentCreator ,_dde *_cd .PdfPageResources ){_ggf .Add_q ();_be .Style .toContentStream (_ggf ,_dde );_agd ,_cfd :=_eaca (_be .Attributes ["\u0063\u0078"],64);if _cfd !=nil {_c .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cfd .Error ());
};_dca ,_cfd :=_eaca (_be .Attributes ["\u0063\u0079"],64);if _cfd !=nil {_c .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cfd .Error ());
};_geb ,_cfd :=_eaca (_be .Attributes ["\u0072\u0078"],64);if _cfd !=nil {_c .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cfd .Error ());
};_eba ,_cfd :=_eaca (_be .Attributes ["\u0072\u0079"],64);if _cfd !=nil {_c .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cfd .Error ());
};_ffa :=_geb *_be ._adb ;_dgb :=_eba *_be ._adb ;_egb :=_agd *_be ._adb ;_cg :=_dca *_be ._adb ;_gbd :=_ffa *_da ;_fd :=_dgb *_da ;_fgf :=_eeg .NewCubicBezierPath ();_fgf =_fgf .AppendCurve (_eeg .NewCubicBezierCurve (-_ffa ,0,-_ffa ,_fd ,-_gbd ,_dgb ,0,_dgb ));
_fgf =_fgf .AppendCurve (_eeg .NewCubicBezierCurve (0,_dgb ,_gbd ,_dgb ,_ffa ,_fd ,_ffa ,0));_fgf =_fgf .AppendCurve (_eeg .NewCubicBezierCurve (_ffa ,0,_ffa ,-_fd ,_gbd ,-_dgb ,0,-_dgb ));_fgf =_fgf .AppendCurve (_eeg .NewCubicBezierCurve (0,-_dgb ,-_gbd ,-_dgb ,-_ffa ,-_fd ,-_ffa ,0));
_fgf =_fgf .Offset (_egb ,_cg );if _be .Style .StrokeWidth > 0{_fgf =_fgf .Offset (_be .Style .StrokeWidth /2,_be .Style .StrokeWidth /2);};_eeg .DrawBezierPathWithCreator (_fgf ,_ggf );_be .Style .fillStroke (_ggf );_ggf .Add_h ();_ggf .Add_Q ();};func _efab (_aagca []token )([]*Command ,error ){var (_cgac []*Command ;
_cba []float64 ;);for _ffef :=len (_aagca )-1;_ffef >=0;_ffef --{_gac :=_aagca [_ffef ];if _gac ._eaa {_cda :=_ccaf ._aefcf [_df .ToLower (_gac ._ffaa )];_aeag :=len (_cba );if _cda ==0&&_aeag ==0{_feb :=&Command {Symbol :_gac ._ffaa };_cgac =append ([]*Command {_feb },_cgac ...);
}else if _cda !=0&&_aeag %_cda ==0{_cff :=_aeag /_cda ;for _ffb :=0;_ffb < _cff ;_ffb ++{_dbff :=_gac ._ffaa ;if _dbff =="\u006d"&&_ffb < _cff -1{_dbff ="\u006c";};if _dbff =="\u004d"&&_ffb < _cff -1{_dbff ="\u004c";};_cgce :=&Command {_dbff ,_ede (_cba [:_cda ])};
_cgac =append ([]*Command {_cgce },_cgac ...);_cba =_cba [_cda :];};}else {_cfdb :=pathParserError {"I\u006e\u0063\u006f\u0072\u0072\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072\u0020\u006f\u0066\u0020\u0070\u0061r\u0061\u006d\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006fr\u0020"+_gac ._ffaa };
return nil ,_cfdb ;};}else {_cdc ,_fbgg :=_eaca (_gac ._ffaa ,64);if _fbgg !=nil {return nil ,_fbgg ;};_cba =append (_cba ,_cdc );};};return _cgac ,nil ;};func _dced (_daae string )(float64 ,error ){_daae =_df .TrimSpace (_daae );var _dadf float64 ;if _df .HasSuffix (_daae ,"\u0025"){_egd ,_beaf :=_ef .ParseFloat (_df .TrimSuffix (_daae ,"\u0025"),64);
if _beaf !=nil {return 0,_beaf ;};_dadf =(_egd *255.0)/100.0;}else {_ffcg ,_gaea :=_ef .Atoi (_daae );if _gaea !=nil {return 0,_gaea ;};_dadf =float64 (_ffcg );};return _dadf ,nil ;};func (_fce *GraphicSVGStyle )toContentStream (_edc *_eed .ContentCreator ,_cgcc *_cd .PdfPageResources ){if _fce ==nil {return ;
};if _fce .FillColor !=""{var _bbe ,_cca ,_cfda float64 ;if _egga ,_acf :=_ee .ColorMap [_fce .FillColor ];_acf {_adcf ,_edgb ,_ffe ,_ :=_egga .RGBA ();_bbe ,_cca ,_cfda =float64 (_adcf ),float64 (_edgb ),float64 (_ffe );}else if _df .HasPrefix (_fce .FillColor ,"\u0072\u0067\u0062\u0028"){_bbe ,_cca ,_cfda =_cdda (_fce .FillColor );
}else {_bbe ,_cca ,_cfda =_afd (_fce .FillColor );};_edc .Add_rg (_bbe ,_cca ,_cfda );};if _fce .FillOpacity < 1.0{_dec :=0;_ebd :=_dc .PdfObjectName (_b .Sprintf ("\u0047\u0053\u0025\u0064",_dec ));for {_ ,_cddb :=_cgcc .GetExtGState (_ebd );if !_cddb {break ;
};_dec ++;_ebd =_dc .PdfObjectName (_b .Sprintf ("\u0047\u0053\u0025\u0064",_dec ));};_beca :=_dc .MakeDict ();_beca .Set ("\u0063\u0061",_dc .MakeFloat (_fce .FillOpacity ));_cbd :=_cgcc .AddExtGState (_ebd ,_dc .MakeIndirectObject (_beca ));if _cbd !=nil {_c .Log .Debug (_cbd .Error ());
return ;};_edc .Add_gs (_ebd );};if _fce .StrokeColor !=""{var _gdb ,_eaee ,_gccd float64 ;if _afe ,_gdbd :=_ee .ColorMap [_fce .StrokeColor ];_gdbd {_adaa ,_ddag ,_edagf ,_ :=_afe .RGBA ();_gdb ,_eaee ,_gccd =float64 (_adaa )/255.0,float64 (_ddag )/255.0,float64 (_edagf )/255.0;
}else if _df .HasPrefix (_fce .FillColor ,"\u0072\u0067\u0062\u0028"){_gdb ,_eaee ,_gccd =_cdda (_fce .FillColor );}else {_gdb ,_eaee ,_gccd =_afd (_fce .StrokeColor );};_edc .Add_RG (_gdb ,_eaee ,_gccd );};if _fce .StrokeWidth > 0{_edc .Add_w (_fce .StrokeWidth );
};};func _fge (_ddb string )(*Path ,error ){_ccaf =_ggg ();_gfee ,_gdf :=_efab (_cfdc (_ddb ));if _gdf !=nil {return nil ,_gdf ;};return _aee (_gfee ),nil ;};func _beb (_fcc map[string ]string ,_dbe float64 )(*GraphicSVGStyle ,error ){_dab :=_bfe ();_dddc ,_dgf :=_fcc ["\u0066\u0069\u006c\u006c"];
if _dgf {_dab .FillColor =_dddc ;if _dddc =="\u006e\u006f\u006e\u0065"{_dab .FillColor ="";};};_abbf ,_eag :=_fcc ["\u0066\u0069\u006cl\u002d\u006f\u0070\u0061\u0063\u0069\u0074\u0079"];if _eag {_edfc ,_gcadb :=_baa (_abbf );if _gcadb !=nil {return nil ,_gcadb ;
};_dab .FillOpacity =_edfc ;};_fgde ,_gddb :=_fcc ["\u0073\u0074\u0072\u006f\u006b\u0065"];if _gddb {_dab .StrokeColor =_fgde ;if _fgde =="\u006e\u006f\u006e\u0065"{_dab .StrokeColor ="";};};_dfc ,_fgg :=_fcc ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];
if _fgg {_dceb ,_bdd :=_eaca (_dfc ,64);if _bdd !=nil {return nil ,_bdd ;};_dab .StrokeWidth =_dceb *_dbe ;};return _dab ,nil ;};func _afd (_dadd string )(_dcf ,_dcae ,_bead float64 ){if (len (_dadd )!=4&&len (_dadd )!=7)||_dadd [0]!='#'{_c .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_dadd );
return _dcf ,_dcae ,_bead ;};var _ggff ,_cfff ,_aaf int ;if len (_dadd )==4{var _bgbb ,_bfee ,_gadg int ;_afae ,_edd :=_b .Sscanf (_dadd ,"\u0023\u0025\u0031\u0078\u0025\u0031\u0078\u0025\u0031\u0078",&_bgbb ,&_bfee ,&_gadg );if _edd !=nil {_c .Log .Debug ("\u0049\u006e\u0076a\u006c\u0069\u0064\u0020h\u0065\u0078\u0020\u0063\u006f\u0064\u0065:\u0020\u0025\u0073\u002c\u0020\u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_dadd ,_edd );
return _dcf ,_dcae ,_bead ;};if _afae !=3{_c .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_dadd );return _dcf ,_dcae ,_bead ;};_ggff =_bgbb *16+_bgbb ;_cfff =_bfee *16+_bfee ;_aaf =_gadg *16+_gadg ;
}else {_cagb ,_afec :=_b .Sscanf (_dadd ,"\u0023\u0025\u0032\u0078\u0025\u0032\u0078\u0025\u0032\u0078",&_ggff ,&_cfff ,&_aaf );if _afec !=nil {_c .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_dadd );
return _dcf ,_dcae ,_bead ;};if _cagb !=3{_c .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069d\u0020\u0068\u0065\u0078\u0020\u0063\u006f\u0064\u0065\u003a\u0020\u0025\u0073,\u0020\u006e\u0020\u0021\u003d\u0020\u0033 \u0028\u0025\u0064\u0029",_dadd ,_cagb );
return _dcf ,_dcae ,_bead ;};};_gdbc :=float64 (_ggff )/255.0;_aaad :=float64 (_cfff )/255.0;_baf :=float64 (_aaf )/255.0;return _gdbc ,_aaad ,_baf ;};type Command struct{Symbol string ;Params []float64 ;};type GraphicSVG struct{ViewBox struct{X ,Y ,W ,H float64 ;
};Name string ;Attributes map[string ]string ;Children []*GraphicSVG ;Content string ;Style *GraphicSVGStyle ;Width float64 ;Height float64 ;_adb float64 ;};func (_gegf pathParserError )Error ()string {return _gegf ._bgab };func _deb (_ff *GraphicSVG ,_ebe *_eed .ContentCreator ,_fg *_cd .PdfPageResources ){_ebe .Add_q ();
_ff .Style .toContentStream (_ebe ,_fg );_cdd ,_aec :=_eaca (_ff .Attributes ["\u0078"],64);if _aec !=nil {_c .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0078\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_aec .Error ());
};_bgf ,_aec :=_eaca (_ff .Attributes ["\u0079"],64);if _aec !=nil {_c .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0079\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_aec .Error ());
};_fff ,_aec :=_eaca (_ff .Attributes ["\u0077\u0069\u0064t\u0068"],64);if _aec !=nil {_c .Log .Debug ("\u0045\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0077\u0069\u0064\u0074\u0068\u0020v\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_aec .Error ());
};_dda ,_aec :=_eaca (_ff .Attributes ["\u0068\u0065\u0069\u0067\u0068\u0074"],64);if _aec !=nil {_c .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077h\u0069\u006c\u0065 \u0070\u0061\u0072\u0073i\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0068\u0065\u0069\u0067\u0068\u0074\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_aec .Error ());
};_ebe .Add_re (_cdd *_ff ._adb ,_bgf *_ff ._adb ,_fff *_ff ._adb ,_dda *_ff ._adb );_ff .Style .fillStroke (_ebe );_ebe .Add_Q ();};func (_cbc *GraphicSVG )SetScaling (xFactor ,yFactor float64 ){_edf :=_cbc .Width /_cbc .ViewBox .W ;_bgd :=_cbc .Height /_cbc .ViewBox .H ;
_cbc .setDefaultScaling (_ae .Max (_edf ,_bgd ));for _ ,_gff :=range _cbc .Children {_gff .SetScaling (xFactor ,yFactor );};};func _ggg ()commands {var _bged =map[string ]int {"\u006d":2,"\u007a":0,"\u006c":2,"\u0068":1,"\u0076":1,"\u0063":6,"\u0073":4,"\u0071":4,"\u0074":2,"\u0061":7};
var _dbcde []string ;for _gcg :=range _bged {_dbcde =append (_dbcde ,_gcg );};return commands {_dbcde ,_bged ,"\u006d","\u007a"};};func (_eac *Path )compare (_bbf *Path )bool {if len (_eac .Subpaths )!=len (_bbf .Subpaths ){return false ;};for _dddg ,_badf :=range _eac .Subpaths {if !_badf .compare (_bbf .Subpaths [_dddg ]){return false ;
};};return true ;};func _edfd (_afc []token ,_bbcb string )([]token ,string ){if _bbcb !=""{_afc =append (_afc ,token {_bbcb ,false });_bbcb ="";};return _afc ,_bbcb ;};func _cc (_bd *GraphicSVG ,_ga *_eed .ContentCreator ,_gd *_cd .PdfPageResources ){_ga .Add_q ();
_bd .Style .toContentStream (_ga ,_gd );_gfc (_bd ,_ga );_dfb ,_ccd :=_fge (_bd .Attributes ["\u0064"]);if _ccd !=nil {_c .Log .Error ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025s",_ccd .Error ());};var (_ac ,_ccc =0.0,0.0;_ce ,_dd =0.0,0.0;_cdb *Command ;
);for _ ,_cb :=range _dfb .Subpaths {for _ ,_abb :=range _cb .Commands {switch _df .ToLower (_abb .Symbol ){case "\u006d":_ce ,_dd =_abb .Params [0]*_bd ._adb ,_abb .Params [1]*_bd ._adb ;if !_abb .isAbsolute (){_ce ,_dd =_ac +_ce -_bd .ViewBox .X ,_ccc +_dd -_bd .ViewBox .Y ;
};_ga .Add_m (_aef .RoundFloat (_ce ,3),_aef .RoundFloat (_dd ,3));_ac ,_ccc =_ce ,_dd ;case "\u0063":_de ,_bb ,_dee ,_ad ,_aefd ,_ag :=_abb .Params [0]*_bd ._adb ,_abb .Params [1]*_bd ._adb ,_abb .Params [2]*_bd ._adb ,_abb .Params [3]*_bd ._adb ,_abb .Params [4]*_bd ._adb ,_abb .Params [5]*_bd ._adb ;
if !_abb .isAbsolute (){_de ,_bb ,_dee ,_ad ,_aefd ,_ag =_ac +_de ,_ccc +_bb ,_ac +_dee ,_ccc +_ad ,_ac +_aefd ,_ccc +_ag ;};_ga .Add_c (_aef .RoundFloat (_de ,3),_aef .RoundFloat (_bb ,3),_aef .RoundFloat (_dee ,3),_aef .RoundFloat (_ad ,3),_aef .RoundFloat (_aefd ,3),_aef .RoundFloat (_ag ,3));
_ac ,_ccc =_aefd ,_ag ;case "\u0073":_gg ,_dfbf ,_gf ,_aac :=_abb .Params [0]*_bd ._adb ,_abb .Params [1]*_bd ._adb ,_abb .Params [2]*_bd ._adb ,_abb .Params [3]*_bd ._adb ;if !_abb .isAbsolute (){_gg ,_dfbf ,_gf ,_aac =_ac +_gg ,_ccc +_dfbf ,_ac +_gf ,_ccc +_aac ;
};_ga .Add_c (_aef .RoundFloat (_ac ,3),_aef .RoundFloat (_ccc ,3),_aef .RoundFloat (_gg ,3),_aef .RoundFloat (_dfbf ,3),_aef .RoundFloat (_gf ,3),_aef .RoundFloat (_aac ,3));_ac ,_ccc =_gf ,_aac ;case "\u006c":_gga ,_bdb :=_abb .Params [0]*_bd ._adb ,_abb .Params [1]*_bd ._adb ;
if !_abb .isAbsolute (){_gga ,_bdb =_ac +_gga ,_ccc +_bdb ;};_ga .Add_l (_aef .RoundFloat (_gga ,3),_aef .RoundFloat (_bdb ,3));_ac ,_ccc =_gga ,_bdb ;case "\u0068":_cf :=_abb .Params [0]*_bd ._adb ;if !_abb .isAbsolute (){_cf =_ac +_cf ;};_ga .Add_l (_aef .RoundFloat (_cf ,3),_aef .RoundFloat (_ccc ,3));
_ac =_cf ;case "\u0076":_dgdb :=_abb .Params [0]*_bd ._adb ;if !_abb .isAbsolute (){_dgdb =_ccc +_dgdb ;};_ga .Add_l (_aef .RoundFloat (_ac ,3),_aef .RoundFloat (_dgdb ,3));_ccc =_dgdb ;case "\u0071":_ed ,_gae ,_gfe ,_dfa :=_abb .Params [0]*_bd ._adb ,_abb .Params [1]*_bd ._adb ,_abb .Params [2]*_bd ._adb ,_abb .Params [3]*_bd ._adb ;
if !_abb .isAbsolute (){_ed ,_gae ,_gfe ,_dfa =_ac +_ed ,_ccc +_gae ,_ac +_gfe ,_ccc +_dfa ;};_gab ,_fb :=_ee .QuadraticToCubicBezier (_ac ,_ccc ,_ed ,_gae ,_gfe ,_dfa );_ga .Add_c (_aef .RoundFloat (_gab .X ,3),_aef .RoundFloat (_gab .Y ,3),_aef .RoundFloat (_fb .X ,3),_aef .RoundFloat (_fb .Y ,3),_aef .RoundFloat (_gfe ,3),_aef .RoundFloat (_dfa ,3));
_ac ,_ccc =_gfe ,_dfa ;case "\u0074":var _fa ,_ca _ee .Point ;_fbd ,_dga :=_abb .Params [0]*_bd ._adb ,_abb .Params [1]*_bd ._adb ;if !_abb .isAbsolute (){_fbd ,_dga =_ac +_fbd ,_ccc +_dga ;};if _cdb !=nil &&_df .ToLower (_cdb .Symbol )=="\u0071"{_age :=_ee .Point {X :_cdb .Params [0]*_bd ._adb ,Y :_cdb .Params [1]*_bd ._adb };
_adc :=_ee .Point {X :_cdb .Params [2]*_bd ._adb ,Y :_cdb .Params [3]*_bd ._adb };_db :=_adc .Mul (2.0).Sub (_age );_fa ,_ca =_ee .QuadraticToCubicBezier (_ac ,_ccc ,_db .X ,_db .Y ,_fbd ,_dga );};_ga .Add_c (_aef .RoundFloat (_fa .X ,3),_aef .RoundFloat (_fa .Y ,3),_aef .RoundFloat (_ca .X ,3),_aef .RoundFloat (_ca .Y ,3),_aef .RoundFloat (_fbd ,3),_aef .RoundFloat (_dga ,3));
_ac ,_ccc =_fbd ,_dga ;case "\u0061":_fbc ,_bda :=_abb .Params [0]*_bd ._adb ,_abb .Params [1]*_bd ._adb ;_cea :=_abb .Params [2];_bg :=_abb .Params [3]> 0;_eb :=_abb .Params [4]> 0;_ec ,_eeb :=_abb .Params [5]*_bd ._adb ,_abb .Params [6]*_bd ._adb ;if !_abb .isAbsolute (){_ec ,_eeb =_ac +_ec ,_ccc +_eeb ;
};_gfa :=_ee .EllipseToCubicBeziers (_ac ,_ccc ,_fbc ,_bda ,_cea ,_bg ,_eb ,_ec ,_eeb );for _ ,_dbc :=range _gfa {_ga .Add_c (_aef .RoundFloat (_dbc [1].X ,3),_aef .RoundFloat ((_dbc [1].Y ),3),_aef .RoundFloat ((_dbc [2].X ),3),_aef .RoundFloat ((_dbc [2].Y ),3),_aef .RoundFloat ((_dbc [3].X ),3),_aef .RoundFloat ((_dbc [3].Y ),3));
};_ac ,_ccc =_ec ,_eeb ;case "\u007a":_ga .Add_h ();};_cdb =_abb ;};};_bd .Style .fillStroke (_ga );_ga .Add_h ();_ga .Add_Q ();};